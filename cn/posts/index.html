


  
  


<!DOCTYPE html>
<html lang="en" charset="utf-8">
  <head>
    

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-SR36ZS0R52"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  
  var page_link = new URL(window.location.href);
  gtag('js', new Date());
  gtag('config', 'G-SR36ZS0R52', {
    traffic_type: page_link.searchParams.get("traffic_type")
  });
  gtag('set', {
    traffic_type: page_link.searchParams.get("traffic_type")
  })
  

</script>









  
    
    <link rel="alternate" type="application/rss+xml" title="RSS" href="https://eindex.me/cn/feed.xml">
    
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
  <meta name="author" itemprop="author" content="EINDEX">
  
  <title>Posts &bull; EINDEX&#x27;s Blog</title>
  <meta property="og:title" content="Posts &bull; EINDEX&#x27;s Blog" />
  

  <!-- Required meta tags -->
  <meta charset="utf-8" />


  <!-- **** BEGINNING, favicons **** -->

  <!-- generics -->

  <!-- iOS -->

  <!-- Android -->

  <!-- Windows 8, IE 10 -->

  <!-- Windows 8.1 and up, IE 11 -->

  <!-- **** CONCLUSION, favicons **** -->

  <!-- CSS/SCSS -->
  <link rel="stylesheet" href="https://eindex.me/css/index.css?h=b94c9aaab34db6e206c8e50c66b697c0be3fa2b7d4985a38d5c03fb5a95facd0" />  <style>@-moz-document url-prefix() {.lazy:-moz-loading {visibility:hidden;}}.ieOnly {display: none;}@media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {.ieOnly {display: block;}}</style>


  <link rel="webmention" href="https://webmention.io/eindex.me/webmention" />
  <link rel="pingback" href="https://webmention.io/eindex.me/xmlrpc" />

  <script src="https://cdn.jsdelivr.net/npm/iconify-icon@1.0.1/dist/iconify-icon.min.js"></script>
  
  
  <link rel="apple-touch-icon" sizes="512x512" href="/favicon-512.png">
  
  <link rel="icon" type="image/png" sizes="512x512" href="/favicon-512.png">
  
  
  <link rel="icon" type="image/png" sizes="192x192" href="/favicon-192.png">
  
  <link rel="manifest" href="/manifest.json">
  <meta name="twitter:dnt" content="on">
  <meta name="twitter:widgets:csp" content="on">
  





<meta property="og:url" content="https://eindex.me">
<meta property="og:site_name" content="EINDEX&#x27;s Blog">
<meta property="og:image" content="https://eindex.me/images/avatar.png">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Posts">

<meta name="twitter:site" content="@eindex_li">
<meta name="twitter:creator" content="@eindex_li">
<meta name="twitter:image" content="https://eindex.me/images/avatar.png">
<link
  rel="me"
  href="https://twitter.com/eindex_li">
<script type="application/ld+json">
{
  "@context": "https://schema.org/",
  "@type": "BlogPosting",
  
  "image": "https://eindex.me/images/avatar.png",
  
  
  
  
  "author": {
    "@type": "Person",
    "name": "EINDEX",
    "url": "https://eindex.me/about"
  },
  "publisher": {
    "@type": "Organization",
    "name": "EINDEX's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://eindex.me/images/avatar.png"
    }
  },
  "keywords": []
}
</script>

  
  <link
rel="stylesheet"
href="https://cdn.jsdelivr.net/npm/docs-searchbar.js@2.4.1/dist/cdn/docs-searchbar.min.css"
/>
  
  
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1265138627025369"
     crossorigin="anonymous"></script>





    
  </head>
  <body>
    <div class="all">
      <header>
  <nav class="navbar">
    <div class="avatar">
      
      <a class="site-link" href="https://eindex.me/cn/"><img
        class="avatar"
        src="https:&#x2F;&#x2F;eindex.me&#x2F;processed_images&#x2F;e75389feba7c019600.png"
        alt="Workflow"
    /></a>
  </div>
  <div class="menus">
    
    
      <a
        href="https://eindex.me/cn/gallery/"
        >相册</a
      >
    
    
    
      <a
        href="https://eindex.me/cn/archive/"
        >归档</a
      >
    
    
  </div>
    
    <div class="switcher">
      <a class="language switch"href = "https://eindex.me/"><iconify-icon icon="ri:english-input"></iconify-icon></a>
    </div>
  </nav>
</header>


      <div class="content">
          <main>
              

{&quot;relative_path&quot;:&quot;posts&#x2F;_index.cn.md&quot;,&quot;content&quot;:&quot;&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;&quot;,&quot;draft&quot;:false,&quot;ancestors&quot;:[&quot;_index.cn.md&quot;],&quot;title&quot;:&quot;Posts&quot;,&quot;description&quot;:null,&quot;extra&quot;:{},&quot;path&quot;:&quot;&#x2F;cn&#x2F;posts&#x2F;&quot;,&quot;components&quot;:[&quot;cn&quot;,&quot;posts&quot;],&quot;toc&quot;:[],&quot;word_count&quot;:0,&quot;reading_time&quot;:0,&quot;lang&quot;:&quot;cn&quot;,&quot;assets&quot;:[],&quot;pages&quot;:[{&quot;relative_path&quot;:&quot;posts&#x2F;webmentions.cn.md&quot;,&quot;content&quot;:&quot;&lt;blockquote&gt;\n&lt;p&gt;本文通过 DeepL 翻译自 &lt;a href=\&quot;https:&#x2F;&#x2F;eindex.me&#x2F;posts&#x2F;webmentions&#x2F;\&quot;&gt;Joining the Webmentions Community: A Beginner&#x27;s Guide&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;\n&lt;&#x2F;blockquote&gt;\n&lt;p&gt;最近我看到了&lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;www.owenyoung.com&#x2F;en&#x2F;blog&#x2F;indieweb&#x2F;\&quot;&gt;Now, I&#x27;m in IndieWeb?&lt;&#x2F;a&gt;，了解到了 Webmentions。我发现这个概念非常有趣，于是决定加入我的博客的 Webmentions 社区。&lt;&#x2F;p&gt;\n&lt;span id=\&quot;continue-reading\&quot;&gt;&lt;&#x2F;span&gt;&lt;h2 id=\&quot;shi-yao-shi-webmentions\&quot;&gt;什么是 Webmentions&lt;&#x2F;h2&gt;\n&lt;p&gt;Webmentions 是一种网站相互交流的方式，当它们链接到对方的内容时，可以通知对方。这使得网络社区的互动性更强，联系更紧密，网站可以与对方和用户实时互动。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;wo-ru-he-jia-ru-webmentions-she-qu\&quot;&gt;我如何加入 Webmentions 社区？&lt;&#x2F;h2&gt;\n&lt;p&gt;要加入 Webmentions 社区，并开始接收其他网站链接到你的内容时的通知，你需要采取以下步骤。&lt;&#x2F;p&gt;\n&lt;ol&gt;\n&lt;li&gt;\n&lt;p&gt;在 Webmentions 服务中注册你的网站，比如 webmention.io。这将使你的网站能够接收来自其他网站的网络提示，也使你能够在链接到其他网站时向它们发送网络提示。要做到这一点，你可以在你的网站上添加以下 HTML 代码。&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;HTML\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-HTML \&quot;&gt;&lt;code class=\&quot;language-HTML\&quot; data-lang=\&quot;HTML\&quot;&gt;&lt;span&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;link &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;rel&lt;&#x2F;span&gt;&lt;span&gt;=&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;webmention&amp;quot; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;href&lt;&#x2F;span&gt;&lt;span&gt;=&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;https:&#x2F;&#x2F;webmention.io&#x2F;eindex.me&#x2F;webmention&amp;quot; &lt;&#x2F;span&gt;&lt;span&gt;&#x2F;&amp;gt;\n&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;link &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;rel&lt;&#x2F;span&gt;&lt;span&gt;=&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;pingback&amp;quot; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;href&lt;&#x2F;span&gt;&lt;span&gt;=&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;https:&#x2F;&#x2F;webmention.io&#x2F;eindex.me&#x2F;xmlrpc&amp;quot; &lt;&#x2F;span&gt;&lt;span&gt;&#x2F;&amp;gt;\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;&#x2F;li&gt;\n&lt;li&gt;\n&lt;p&gt;确保你的网站遵循&lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;microformats.org&#x2F;\&quot;&gt;microformats2&lt;&#x2F;a&gt;标准。这可能需要一些努力，但这对于确保你的网站能够正确地发送和接收 Webmentions 是很重要的。你可以使用&lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;indiewebify.me&#x2F;\&quot;&gt;IndieWebify.Me&lt;&#x2F;a&gt;这样的工具来检查你的网站是否正确使用 microformats2。你也可以使用像&lt;code&gt;ngrok&lt;&#x2F;code&gt;或&lt;code&gt;cloudflare tunnel&lt;&#x2F;code&gt;这样的工具，在本地调试你的网站，这样可以节省时间。&lt;&#x2F;p&gt;\n&lt;&#x2F;li&gt;\n&lt;li&gt;\n&lt;p&gt;开始在你的网站上发送和接收 Webmentions。一旦你的网站在 Webmentions 服务中注册，并且你已经测试了你的实施，你就可以开始在你的网站上使用 Webmentions 来通知他们你的链接。而每当别人链接到你的网站时，你可以收到 webmention 通知，并在你的网站上显示该链接。&lt;&#x2F;p&gt;\n&lt;&#x2F;li&gt;\n&lt;li&gt;\n&lt;p&gt;考虑使用 Github 行动和 JavaScript 脚本等工具来自动发送和接收 Webmentions 的过程。这对静态网站特别有用。例如，你可以在 Github 上的&lt;code&gt;webmentions&lt;&#x2F;code&gt;分支中存储你的 Webmentions，并使用像这样的工作流文件来获取 Webmentions 和发送你的 Webmentions，你也可以查看我的&lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;github.com&#x2F;EINDEX&#x2F;blog&#x2F;blob&#x2F;main&#x2F;.github&#x2F;workflows&#x2F;fetch-webmentions.yaml\&quot;&gt;实现&lt;&#x2F;a&gt;这个博客的。&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;yaml\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-yaml \&quot;&gt;&lt;code class=\&quot;language-yaml\&quot; data-lang=\&quot;yaml\&quot;&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;name&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;Fetch Webmentions\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;on&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;schedule&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;    - &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;cron&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;0 0 * * *&amp;quot;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;jobs&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;fetch_webmentions&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;runs-on&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;ubuntu-latest\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;steps&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;    - &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;uses&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;actions&#x2F;checkout@v2\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;with&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;ref&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;webmentions\n&lt;&#x2F;span&gt;&lt;span&gt;    - &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;name&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;Fetch Webmentions\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;run&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;node pipeline&#x2F;webmentions.js\n&lt;&#x2F;span&gt;&lt;span&gt;    - &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;name&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;Send Webmetnions\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;run&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;node pipeline&#x2F;send-webmentions.js\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;&#x2F;li&gt;\n&lt;&#x2F;ol&gt;\n&lt;p&gt;按照这些步骤，你可以加入 Webmentions 社区，并开始享受与其他网站及其用户进行更多互动和参与性交流的好处。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;wei-shi-yao-yao-jia-ru-webmentions-she-qu\&quot;&gt;为什么要加入 Webmentions 社区？&lt;&#x2F;h2&gt;\n&lt;p&gt;加入 Webmentions 社区并在您的网站上实施 Webmentions 有许多潜在的好处。一些潜在的好处包括。&lt;&#x2F;p&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;p&gt;增加与其他网站及其用户的接触和联系。通过在其他网站链接到你的内容时收到通知，并在你链接到其他网站时能够通知其他网站，你可以培养一个更加互动和连接的在线社区。这可以带来更多的流量，甚至有可能带来更多的合作和参与机会。&lt;&#x2F;p&gt;\n&lt;&#x2F;li&gt;\n&lt;li&gt;\n&lt;p&gt;改善与其他网站的沟通和协作。 Webmentions 允许网站之间进行实时沟通，这对协调工作和保持 Webmentions 社区的最新发展很有帮助。&lt;&#x2F;p&gt;\n&lt;&#x2F;li&gt;\n&lt;li&gt;\n&lt;p&gt;参与不断发展的网络生态系统的能力。 Webmentions 是 &amp;quot;Web 3.0 &amp;quot;的一种形式，与过去相比，网站之间的相互联系和互动更多。通过加入 Webmentions 社区，你可以成为这个不断发展的网络生态系统的一部分，并有可能从出现的新机会和联系中受益。&lt;&#x2F;p&gt;\n&lt;&#x2F;li&gt;\n&lt;&#x2F;ul&gt;\n&lt;p&gt;当然，加入 Webmentions 社区确实需要一些努力和资源，所以它不一定是每个人的正确决定。但对许多网站所有者来说，加入 Webmentions 社区的潜在好处可能会超过挑战，使其成为一项值得的投资。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;zong-jie\&quot;&gt;总结&lt;&#x2F;h2&gt;\n&lt;p&gt;在这个初学者指南中，我们已经介绍了加入 Webmentions 社区和在网站上实施 Webmentions 的步骤。按照这些步骤，你可以加入 Webmentions 社区，并开始享受与其他网站及其用户进行更多互动和参与性交流的好处。虽然加入 Webmentions 社区需要一些挑战和资源，但对许多网站所有者来说，潜在的好处可能超过了挑战。&lt;&#x2F;p&gt;\n&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;webmentions&#x2F;&quot;,&quot;slug&quot;:&quot;webmentions&quot;,&quot;ancestors&quot;:[&quot;_index.cn.md&quot;,&quot;posts&#x2F;_index.cn.md&quot;],&quot;title&quot;:&quot;加入 Webmentions 社区: 新手指导&quot;,&quot;description&quot;:&quot;了解如何加入 Webmentions 社区，提高你的博客与其他网站及其用户的互动性和参与度。&quot;,&quot;updated&quot;:&quot;2022-12-05T23:48:50+08:00&quot;,&quot;date&quot;:&quot;2022-11-06T17:44:50+08:00&quot;,&quot;year&quot;:2022,&quot;month&quot;:11,&quot;day&quot;:6,&quot;taxonomies&quot;:{&quot;tags&quot;:[&quot;Webmentions&quot;,&quot;Community&quot;,&quot;Beginner&#x27;s Guide&quot;,&quot;Indie Web&quot;,&quot;Microformats2&quot;,&quot;Engagement&quot;,&quot;Connectivity&quot;,&quot;Github Actions&quot;,&quot;JavaScript&quot;],&quot;series&quot;:[&quot;blog-enhance-plan&quot;]},&quot;extra&quot;:{},&quot;path&quot;:&quot;&#x2F;cn&#x2F;posts&#x2F;webmentions&#x2F;&quot;,&quot;components&quot;:[&quot;cn&quot;,&quot;posts&quot;,&quot;webmentions&quot;],&quot;summary&quot;:&quot;&lt;blockquote&gt;\n&lt;p&gt;本文通过 DeepL 翻译自 &lt;a href=\&quot;https:&#x2F;&#x2F;eindex.me&#x2F;posts&#x2F;webmentions&#x2F;\&quot;&gt;Joining the Webmentions Community: A Beginner&#x27;s Guide&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;\n&lt;&#x2F;blockquote&gt;\n&lt;p&gt;最近我看到了&lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;www.owenyoung.com&#x2F;en&#x2F;blog&#x2F;indieweb&#x2F;\&quot;&gt;Now, I&#x27;m in IndieWeb?&lt;&#x2F;a&gt;，了解到了 Webmentions。我发现这个概念非常有趣，于是决定加入我的博客的 Webmentions 社区。&lt;&#x2F;p&gt;\n&quot;,&quot;toc&quot;:[{&quot;level&quot;:2,&quot;id&quot;:&quot;shi-yao-shi-webmentions&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;webmentions&#x2F;#shi-yao-shi-webmentions&quot;,&quot;title&quot;:&quot;什么是 Webmentions&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;wo-ru-he-jia-ru-webmentions-she-qu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;webmentions&#x2F;#wo-ru-he-jia-ru-webmentions-she-qu&quot;,&quot;title&quot;:&quot;我如何加入 Webmentions 社区？&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;wei-shi-yao-yao-jia-ru-webmentions-she-qu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;webmentions&#x2F;#wei-shi-yao-yao-jia-ru-webmentions-she-qu&quot;,&quot;title&quot;:&quot;为什么要加入 Webmentions 社区？&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;zong-jie&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;webmentions&#x2F;#zong-jie&quot;,&quot;title&quot;:&quot;总结&quot;,&quot;children&quot;:[]}],&quot;word_count&quot;:1128,&quot;reading_time&quot;:6,&quot;assets&quot;:[],&quot;draft&quot;:false,&quot;lang&quot;:&quot;cn&quot;,&quot;lower&quot;:null,&quot;higher&quot;:{&quot;relative_path&quot;:&quot;posts&#x2F;my-homelab-introduce&#x2F;index.cn.md&quot;,&quot;content&quot;:&quot;&lt;p&gt;这篇文章将会介绍一下我的 HomeLab。&lt;&#x2F;p&gt;\n&lt;p&gt;为什么会建设 HomeLab，它给我带来了什么价值？以及为什么是现在的结构，解决了什么问题。&lt;&#x2F;p&gt;\n&lt;span id=\&quot;continue-reading\&quot;&gt;&lt;&#x2F;span&gt;&lt;h2 id=\&quot;jie-yuan\&quot;&gt;结缘&lt;&#x2F;h2&gt;\n&lt;p&gt;在 2017 年末，我遇到一个艰难的问题，我有很多设备，小米手机，iPad，MacBook Pro，之前用的 Resilio Sync(原 BTSync)，也需要翻墙才能同步文件。 Google Photos 在墙内的使用体验也日渐下降。&lt;&#x2F;p&gt;\n&lt;p&gt;机缘巧合之下，Synology 出现在我的面前。一拍脑袋，搞了一个 Synology 218+。&lt;&#x2F;p&gt;\n&lt;p&gt;单纯的我当时只是想同步一下文件，给 MacBook 加上 Time Machine，并没想道这是我和 HomeLab 缘分的开始。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;shi-jian-xian\&quot;&gt;时间线&lt;&#x2F;h2&gt;\n&lt;h3 id=\&quot;zao-qi\&quot;&gt;早期&lt;&#x2F;h3&gt;\n&lt;p&gt;主要是使用一些 Synology 原生功能，如 Moments，Video，Drive，Note 等，然后在 Docker 里跑了一两个简单的服务。单纯就用来备份照片，数据，剪裁网页啥的。&lt;&#x2F;p&gt;\n&lt;p&gt;维护成本也很低。直到某一天我发现 &lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;synocommunity.com&#x2F;\&quot;&gt;Synology Community&lt;&#x2F;a&gt;，这里面有很多奇奇怪怪的 package，稍微研究了一下，就打开了新世界的大门。&lt;&#x2F;p&gt;\n&lt;p&gt;这里面有各种各样的 Self-hosted 服务，多媒体自动化，下载的，书籍管理，文件同步，RSS 和一些 DSM 并不自带的系统命令。&lt;&#x2F;p&gt;\n&lt;p&gt;迫于追剧的需求，我当在群晖里增加了多媒体自动化没，当时用的 Jackett，Sonarr，Radarr，Emby 一套，用来自动下载，刮削，看视频，看电影。同时将服务管理到 docker-compose 里。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;geng-duo-xu-qiu\&quot;&gt;更多需求&lt;&#x2F;h3&gt;\n&lt;p&gt;由于换到新公司，工作压力没有之前那么大。有更多的时间去折腾 HomeLab，先是用了个电脑搭建了 OMV，直到某天 U 盘系统崩了，于是心一横买了稳定且性能更强的 Synology 920+。&lt;&#x2F;p&gt;\n&lt;p&gt;这个阶段开始使用 Traefik 做为 Ingress，所有服务有一个中心化的入口，再也不用背各种端口号了。&lt;&#x2F;p&gt;\n&lt;p&gt;还引入了一些新服务，Organizr 当作 application dashboard，Home Assistant 作为家庭自动化中枢，Bitwarden 作为密码管理器，qBittorrent 用来下载，Bazarr 用来寻找字幕，Miniflux 作为 RSS 阅读器。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;xu-ni-hua-yu-k3s\&quot;&gt;虚拟化 与 K3S&lt;&#x2F;h3&gt;\n&lt;p&gt;在折腾的过程中，服务越来越多，可维护性与可见性快速下降，同时性能也快接触到 D920+ 的瓶颈。&lt;&#x2F;p&gt;\n&lt;p&gt;为了一口气解决这些问题，我希望找到一种把程序和数据分开，计算和控制分开，写的配置最好是可以方便的代码化，可以快速恢复。&lt;&#x2F;p&gt;\n&lt;p&gt;在一些调研之后，采用 K3S in Proxmox VE 的模式去运行。即是在 PVE 里运行一个或多个 K3S 的虚拟机。组成一个 K3S 集群。这个方案其实很接近 &lt;code&gt;TrueNAS SCALE&lt;&#x2F;code&gt; 想法，奈何我想让我可以在 PVE 里可以快速的启动一个 X86-64 的 linux lxc 环境，进行快速的测试，而那是 TrueNAS SCALE 还在测试阶段，唉～&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;homelab-de-xian-zhuang\&quot;&gt;HomeLab 的 现状&lt;&#x2F;h2&gt;\n&lt;p&gt;现在所有的服务都 PVE 服务器的 K3S 里，数据通过 nfs 存放在群晖中。&lt;&#x2F;p&gt;\n&lt;p&gt;现在运行了更多的服务，媒体自动化方面增加了 Overseerr，Servrr 新出的 Prowlarr，EMBY 替换成了 Plex；阅读方面增加了 Rsshub，Miniflux 替换成了 FreshRSS。&lt;&#x2F;p&gt;\n&lt;p&gt;关于可见性方面，增加了 Graylog 作为日志中心（有点重，还在寻找替代品或者给服务器增加点性能），HealthChecks 用来查看定时任务的更新情况。&lt;&#x2F;p&gt;\n&lt;p&gt;可维护性方面，增加了 Keel 自动化更新服务，增加了 RocketChat 作为 ChatOps 的入口。&lt;&#x2F;p&gt;\n&lt;p&gt;安全方面 Authentik 做了集中的认证中心，虽然各个服务对 SSO 的支持并不完善，如果不支持 SSO 会在放在 SSO 后面要求再次登录。&lt;&#x2F;p&gt;\n&lt;p&gt;增加了开发相关的服务 Gitea + Drone CI + SonarQube，做了一套简单的 DevSecOps 工具链。&lt;&#x2F;p&gt;\n&lt;p&gt;整了一个新的工控机做为软路由。&lt;&#x2F;p&gt;\n&lt;p&gt;下面是现在的简单截图。&lt;&#x2F;p&gt;\n&lt;p&gt;&lt;img src=\&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;my-homelab-introduce&#x2F;.&#x2F;authentik.png\&quot; alt=\&quot;\&quot; &#x2F;&gt;&lt;&#x2F;p&gt;\n&lt;p&gt;当然还有一些服务是在命令行中运行的，就没有在此展示了。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;wei-lai\&quot;&gt;未来&lt;&#x2F;h3&gt;\n&lt;p&gt;设备方面，想采购一个更加正规的设备如 HPE MicroServer Gen10 Plus 或其他小型的服务器，来提供更多的性能，满足我对安静且占地小的需求。增加一些 AP，提高上网体验。&lt;&#x2F;p&gt;\n&lt;p&gt;服务方面，现在正在研究如何合理的托管 Beancount 的 webui Fava，如果不知道啥事 Beancount 可以看这篇&lt;a href=\&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;beancount-introduce&#x2F;\&quot;&gt;《复式记账工具 Beancount》&lt;&#x2F;a&gt;。\n考虑增加一个 8n8,来做服务建的桥梁，减少自己写代码实现的工作量。还期望弄个 code-server，可以随时随地有个可用的开发环境。\n增加一个 Clash 服务在 HomeLab 中，能快速的调整整个局域网中的上网规则。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;homelab-dui-wo-de-jie-zhi\&quot;&gt;HomeLab 对我的价值&lt;&#x2F;h2&gt;\n&lt;h3 id=\&quot;well\&quot;&gt;Well&lt;&#x2F;h3&gt;\n&lt;p&gt;HomeLab 的存在首先是解决了我数据存储方面的问题，现在可用的存储空间大约有 8 ～ 10TB 左右，用来存储我的照片，追剧，电影，备份，代码库等，还是有一些余量的。在购买数码产品的时候，可以放心大胆的使用最小的存储空间。&lt;&#x2F;p&gt;\n&lt;p&gt;其次，如果我需要写代码，我可以在自己家里运行 CI&#x2F;CD，反正设备已经是花了电费了，就不需要花时间研究如何白嫖，Github Action 或者是 Circle CI 了。&lt;del&gt;当然现在还嫖着。&lt;&#x2F;del&gt;&lt;&#x2F;p&gt;\n&lt;p&gt;再是可以进行快速的实验，可以用来实践 Kubernetes，terraform 等 CNCF 相关服务，对我考 CKA 应该也是有所帮助的。&lt;&#x2F;p&gt;\n&lt;p&gt;最后是节约了时间，在有很多自动化服务的加持之下，我可以集中更多时间和精力去做自己想做的事情。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;less-well\&quot;&gt;Less Well&lt;&#x2F;h3&gt;\n&lt;p&gt;性能拉胯，毕竟是在家跑服务，也做不到网上那些大佬，动不动整个机柜啥的，所以为了省电，性能优点拉胯。好在可以靠时间来拉平。&lt;&#x2F;p&gt;\n&lt;p&gt;搭建 HomeLab 里的各种服务，还是挺花时间的，好不容易节约的那些时间，都投入回去了 🥹。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;jie-yu\&quot;&gt;结语&lt;&#x2F;h2&gt;\n&lt;p&gt;这个东西真的很有趣，如果对 Self-Hosted 服务或者家庭实验室有兴趣，非常推荐整一个玩玩，当然最好是迭代着来，也许可以从树莓派开始？&lt;&#x2F;p&gt;\n&lt;p&gt;如果有对本文内容相关问题，欢迎在评论区与我探讨。&lt;&#x2F;p&gt;\n&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;my-homelab-introduce&#x2F;&quot;,&quot;slug&quot;:&quot;my-homelab-introduce&quot;,&quot;ancestors&quot;:[&quot;_index.cn.md&quot;,&quot;posts&#x2F;_index.cn.md&quot;],&quot;title&quot;:&quot;My HomeLab&quot;,&quot;description&quot;:null,&quot;updated&quot;:null,&quot;date&quot;:&quot;2022-05-15T23:39:46+08:00&quot;,&quot;year&quot;:2022,&quot;month&quot;:5,&quot;day&quot;:15,&quot;taxonomies&quot;:{&quot;tags&quot;:[&quot;K3S&quot;,&quot;Proxmox VE&quot;,&quot;Self-Hosted&quot;,&quot;Docker&quot;]},&quot;extra&quot;:{},&quot;path&quot;:&quot;&#x2F;cn&#x2F;posts&#x2F;my-homelab-introduce&#x2F;&quot;,&quot;components&quot;:[&quot;cn&quot;,&quot;posts&quot;,&quot;my-homelab-introduce&quot;],&quot;summary&quot;:&quot;&lt;p&gt;这篇文章将会介绍一下我的 HomeLab。&lt;&#x2F;p&gt;\n&lt;p&gt;为什么会建设 HomeLab，它给我带来了什么价值？以及为什么是现在的结构，解决了什么问题。&lt;&#x2F;p&gt;\n&quot;,&quot;toc&quot;:[{&quot;level&quot;:2,&quot;id&quot;:&quot;jie-yuan&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;my-homelab-introduce&#x2F;#jie-yuan&quot;,&quot;title&quot;:&quot;结缘&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;shi-jian-xian&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;my-homelab-introduce&#x2F;#shi-jian-xian&quot;,&quot;title&quot;:&quot;时间线&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;zao-qi&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;my-homelab-introduce&#x2F;#zao-qi&quot;,&quot;title&quot;:&quot;早期&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;geng-duo-xu-qiu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;my-homelab-introduce&#x2F;#geng-duo-xu-qiu&quot;,&quot;title&quot;:&quot;更多需求&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;xu-ni-hua-yu-k3s&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;my-homelab-introduce&#x2F;#xu-ni-hua-yu-k3s&quot;,&quot;title&quot;:&quot;虚拟化 与 K3S&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;homelab-de-xian-zhuang&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;my-homelab-introduce&#x2F;#homelab-de-xian-zhuang&quot;,&quot;title&quot;:&quot;HomeLab 的 现状&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;wei-lai&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;my-homelab-introduce&#x2F;#wei-lai&quot;,&quot;title&quot;:&quot;未来&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;homelab-dui-wo-de-jie-zhi&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;my-homelab-introduce&#x2F;#homelab-dui-wo-de-jie-zhi&quot;,&quot;title&quot;:&quot;HomeLab 对我的价值&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;well&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;my-homelab-introduce&#x2F;#well&quot;,&quot;title&quot;:&quot;Well&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;less-well&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;my-homelab-introduce&#x2F;#less-well&quot;,&quot;title&quot;:&quot;Less Well&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;jie-yu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;my-homelab-introduce&#x2F;#jie-yu&quot;,&quot;title&quot;:&quot;结语&quot;,&quot;children&quot;:[]}],&quot;word_count&quot;:1600,&quot;reading_time&quot;:8,&quot;assets&quot;:[&quot;&#x2F;posts&#x2F;my-homelab-introduce&#x2F;authentik.png&quot;],&quot;draft&quot;:false,&quot;lang&quot;:&quot;cn&quot;,&quot;lower&quot;:null,&quot;higher&quot;:null,&quot;translations&quot;:[{&quot;lang&quot;:&quot;cn&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;my-homelab-introduce&#x2F;&quot;,&quot;title&quot;:&quot;My HomeLab&quot;,&quot;path&quot;:&quot;&#x2F;home&#x2F;runner&#x2F;work&#x2F;blog&#x2F;blog&#x2F;content&#x2F;posts&#x2F;my-homelab-introduce&#x2F;index.cn.md&quot;}],&quot;backlinks&quot;:[]},&quot;translations&quot;:[{&quot;lang&quot;:&quot;en&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;posts&#x2F;webmentions&#x2F;&quot;,&quot;title&quot;:&quot;Joining the Webmentions Community: A Beginner&#x27;s Guide&quot;,&quot;path&quot;:&quot;&#x2F;home&#x2F;runner&#x2F;work&#x2F;blog&#x2F;blog&#x2F;content&#x2F;posts&#x2F;webmentions.md&quot;},{&quot;lang&quot;:&quot;cn&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;webmentions&#x2F;&quot;,&quot;title&quot;:&quot;加入 Webmentions 社区: 新手指导&quot;,&quot;path&quot;:&quot;&#x2F;home&#x2F;runner&#x2F;work&#x2F;blog&#x2F;blog&#x2F;content&#x2F;posts&#x2F;webmentions.cn.md&quot;}],&quot;backlinks&quot;:[]},{&quot;relative_path&quot;:&quot;posts&#x2F;my-homelab-introduce&#x2F;index.cn.md&quot;,&quot;content&quot;:&quot;&lt;p&gt;这篇文章将会介绍一下我的 HomeLab。&lt;&#x2F;p&gt;\n&lt;p&gt;为什么会建设 HomeLab，它给我带来了什么价值？以及为什么是现在的结构，解决了什么问题。&lt;&#x2F;p&gt;\n&lt;span id=\&quot;continue-reading\&quot;&gt;&lt;&#x2F;span&gt;&lt;h2 id=\&quot;jie-yuan\&quot;&gt;结缘&lt;&#x2F;h2&gt;\n&lt;p&gt;在 2017 年末，我遇到一个艰难的问题，我有很多设备，小米手机，iPad，MacBook Pro，之前用的 Resilio Sync(原 BTSync)，也需要翻墙才能同步文件。 Google Photos 在墙内的使用体验也日渐下降。&lt;&#x2F;p&gt;\n&lt;p&gt;机缘巧合之下，Synology 出现在我的面前。一拍脑袋，搞了一个 Synology 218+。&lt;&#x2F;p&gt;\n&lt;p&gt;单纯的我当时只是想同步一下文件，给 MacBook 加上 Time Machine，并没想道这是我和 HomeLab 缘分的开始。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;shi-jian-xian\&quot;&gt;时间线&lt;&#x2F;h2&gt;\n&lt;h3 id=\&quot;zao-qi\&quot;&gt;早期&lt;&#x2F;h3&gt;\n&lt;p&gt;主要是使用一些 Synology 原生功能，如 Moments，Video，Drive，Note 等，然后在 Docker 里跑了一两个简单的服务。单纯就用来备份照片，数据，剪裁网页啥的。&lt;&#x2F;p&gt;\n&lt;p&gt;维护成本也很低。直到某一天我发现 &lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;synocommunity.com&#x2F;\&quot;&gt;Synology Community&lt;&#x2F;a&gt;，这里面有很多奇奇怪怪的 package，稍微研究了一下，就打开了新世界的大门。&lt;&#x2F;p&gt;\n&lt;p&gt;这里面有各种各样的 Self-hosted 服务，多媒体自动化，下载的，书籍管理，文件同步，RSS 和一些 DSM 并不自带的系统命令。&lt;&#x2F;p&gt;\n&lt;p&gt;迫于追剧的需求，我当在群晖里增加了多媒体自动化没，当时用的 Jackett，Sonarr，Radarr，Emby 一套，用来自动下载，刮削，看视频，看电影。同时将服务管理到 docker-compose 里。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;geng-duo-xu-qiu\&quot;&gt;更多需求&lt;&#x2F;h3&gt;\n&lt;p&gt;由于换到新公司，工作压力没有之前那么大。有更多的时间去折腾 HomeLab，先是用了个电脑搭建了 OMV，直到某天 U 盘系统崩了，于是心一横买了稳定且性能更强的 Synology 920+。&lt;&#x2F;p&gt;\n&lt;p&gt;这个阶段开始使用 Traefik 做为 Ingress，所有服务有一个中心化的入口，再也不用背各种端口号了。&lt;&#x2F;p&gt;\n&lt;p&gt;还引入了一些新服务，Organizr 当作 application dashboard，Home Assistant 作为家庭自动化中枢，Bitwarden 作为密码管理器，qBittorrent 用来下载，Bazarr 用来寻找字幕，Miniflux 作为 RSS 阅读器。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;xu-ni-hua-yu-k3s\&quot;&gt;虚拟化 与 K3S&lt;&#x2F;h3&gt;\n&lt;p&gt;在折腾的过程中，服务越来越多，可维护性与可见性快速下降，同时性能也快接触到 D920+ 的瓶颈。&lt;&#x2F;p&gt;\n&lt;p&gt;为了一口气解决这些问题，我希望找到一种把程序和数据分开，计算和控制分开，写的配置最好是可以方便的代码化，可以快速恢复。&lt;&#x2F;p&gt;\n&lt;p&gt;在一些调研之后，采用 K3S in Proxmox VE 的模式去运行。即是在 PVE 里运行一个或多个 K3S 的虚拟机。组成一个 K3S 集群。这个方案其实很接近 &lt;code&gt;TrueNAS SCALE&lt;&#x2F;code&gt; 想法，奈何我想让我可以在 PVE 里可以快速的启动一个 X86-64 的 linux lxc 环境，进行快速的测试，而那是 TrueNAS SCALE 还在测试阶段，唉～&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;homelab-de-xian-zhuang\&quot;&gt;HomeLab 的 现状&lt;&#x2F;h2&gt;\n&lt;p&gt;现在所有的服务都 PVE 服务器的 K3S 里，数据通过 nfs 存放在群晖中。&lt;&#x2F;p&gt;\n&lt;p&gt;现在运行了更多的服务，媒体自动化方面增加了 Overseerr，Servrr 新出的 Prowlarr，EMBY 替换成了 Plex；阅读方面增加了 Rsshub，Miniflux 替换成了 FreshRSS。&lt;&#x2F;p&gt;\n&lt;p&gt;关于可见性方面，增加了 Graylog 作为日志中心（有点重，还在寻找替代品或者给服务器增加点性能），HealthChecks 用来查看定时任务的更新情况。&lt;&#x2F;p&gt;\n&lt;p&gt;可维护性方面，增加了 Keel 自动化更新服务，增加了 RocketChat 作为 ChatOps 的入口。&lt;&#x2F;p&gt;\n&lt;p&gt;安全方面 Authentik 做了集中的认证中心，虽然各个服务对 SSO 的支持并不完善，如果不支持 SSO 会在放在 SSO 后面要求再次登录。&lt;&#x2F;p&gt;\n&lt;p&gt;增加了开发相关的服务 Gitea + Drone CI + SonarQube，做了一套简单的 DevSecOps 工具链。&lt;&#x2F;p&gt;\n&lt;p&gt;整了一个新的工控机做为软路由。&lt;&#x2F;p&gt;\n&lt;p&gt;下面是现在的简单截图。&lt;&#x2F;p&gt;\n&lt;p&gt;&lt;img src=\&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;my-homelab-introduce&#x2F;.&#x2F;authentik.png\&quot; alt=\&quot;\&quot; &#x2F;&gt;&lt;&#x2F;p&gt;\n&lt;p&gt;当然还有一些服务是在命令行中运行的，就没有在此展示了。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;wei-lai\&quot;&gt;未来&lt;&#x2F;h3&gt;\n&lt;p&gt;设备方面，想采购一个更加正规的设备如 HPE MicroServer Gen10 Plus 或其他小型的服务器，来提供更多的性能，满足我对安静且占地小的需求。增加一些 AP，提高上网体验。&lt;&#x2F;p&gt;\n&lt;p&gt;服务方面，现在正在研究如何合理的托管 Beancount 的 webui Fava，如果不知道啥事 Beancount 可以看这篇&lt;a href=\&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;beancount-introduce&#x2F;\&quot;&gt;《复式记账工具 Beancount》&lt;&#x2F;a&gt;。\n考虑增加一个 8n8,来做服务建的桥梁，减少自己写代码实现的工作量。还期望弄个 code-server，可以随时随地有个可用的开发环境。\n增加一个 Clash 服务在 HomeLab 中，能快速的调整整个局域网中的上网规则。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;homelab-dui-wo-de-jie-zhi\&quot;&gt;HomeLab 对我的价值&lt;&#x2F;h2&gt;\n&lt;h3 id=\&quot;well\&quot;&gt;Well&lt;&#x2F;h3&gt;\n&lt;p&gt;HomeLab 的存在首先是解决了我数据存储方面的问题，现在可用的存储空间大约有 8 ～ 10TB 左右，用来存储我的照片，追剧，电影，备份，代码库等，还是有一些余量的。在购买数码产品的时候，可以放心大胆的使用最小的存储空间。&lt;&#x2F;p&gt;\n&lt;p&gt;其次，如果我需要写代码，我可以在自己家里运行 CI&#x2F;CD，反正设备已经是花了电费了，就不需要花时间研究如何白嫖，Github Action 或者是 Circle CI 了。&lt;del&gt;当然现在还嫖着。&lt;&#x2F;del&gt;&lt;&#x2F;p&gt;\n&lt;p&gt;再是可以进行快速的实验，可以用来实践 Kubernetes，terraform 等 CNCF 相关服务，对我考 CKA 应该也是有所帮助的。&lt;&#x2F;p&gt;\n&lt;p&gt;最后是节约了时间，在有很多自动化服务的加持之下，我可以集中更多时间和精力去做自己想做的事情。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;less-well\&quot;&gt;Less Well&lt;&#x2F;h3&gt;\n&lt;p&gt;性能拉胯，毕竟是在家跑服务，也做不到网上那些大佬，动不动整个机柜啥的，所以为了省电，性能优点拉胯。好在可以靠时间来拉平。&lt;&#x2F;p&gt;\n&lt;p&gt;搭建 HomeLab 里的各种服务，还是挺花时间的，好不容易节约的那些时间，都投入回去了 🥹。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;jie-yu\&quot;&gt;结语&lt;&#x2F;h2&gt;\n&lt;p&gt;这个东西真的很有趣，如果对 Self-Hosted 服务或者家庭实验室有兴趣，非常推荐整一个玩玩，当然最好是迭代着来，也许可以从树莓派开始？&lt;&#x2F;p&gt;\n&lt;p&gt;如果有对本文内容相关问题，欢迎在评论区与我探讨。&lt;&#x2F;p&gt;\n&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;my-homelab-introduce&#x2F;&quot;,&quot;slug&quot;:&quot;my-homelab-introduce&quot;,&quot;ancestors&quot;:[&quot;_index.cn.md&quot;,&quot;posts&#x2F;_index.cn.md&quot;],&quot;title&quot;:&quot;My HomeLab&quot;,&quot;description&quot;:null,&quot;updated&quot;:null,&quot;date&quot;:&quot;2022-05-15T23:39:46+08:00&quot;,&quot;year&quot;:2022,&quot;month&quot;:5,&quot;day&quot;:15,&quot;taxonomies&quot;:{&quot;tags&quot;:[&quot;K3S&quot;,&quot;Proxmox VE&quot;,&quot;Self-Hosted&quot;,&quot;Docker&quot;]},&quot;extra&quot;:{},&quot;path&quot;:&quot;&#x2F;cn&#x2F;posts&#x2F;my-homelab-introduce&#x2F;&quot;,&quot;components&quot;:[&quot;cn&quot;,&quot;posts&quot;,&quot;my-homelab-introduce&quot;],&quot;summary&quot;:&quot;&lt;p&gt;这篇文章将会介绍一下我的 HomeLab。&lt;&#x2F;p&gt;\n&lt;p&gt;为什么会建设 HomeLab，它给我带来了什么价值？以及为什么是现在的结构，解决了什么问题。&lt;&#x2F;p&gt;\n&quot;,&quot;toc&quot;:[{&quot;level&quot;:2,&quot;id&quot;:&quot;jie-yuan&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;my-homelab-introduce&#x2F;#jie-yuan&quot;,&quot;title&quot;:&quot;结缘&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;shi-jian-xian&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;my-homelab-introduce&#x2F;#shi-jian-xian&quot;,&quot;title&quot;:&quot;时间线&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;zao-qi&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;my-homelab-introduce&#x2F;#zao-qi&quot;,&quot;title&quot;:&quot;早期&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;geng-duo-xu-qiu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;my-homelab-introduce&#x2F;#geng-duo-xu-qiu&quot;,&quot;title&quot;:&quot;更多需求&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;xu-ni-hua-yu-k3s&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;my-homelab-introduce&#x2F;#xu-ni-hua-yu-k3s&quot;,&quot;title&quot;:&quot;虚拟化 与 K3S&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;homelab-de-xian-zhuang&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;my-homelab-introduce&#x2F;#homelab-de-xian-zhuang&quot;,&quot;title&quot;:&quot;HomeLab 的 现状&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;wei-lai&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;my-homelab-introduce&#x2F;#wei-lai&quot;,&quot;title&quot;:&quot;未来&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;homelab-dui-wo-de-jie-zhi&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;my-homelab-introduce&#x2F;#homelab-dui-wo-de-jie-zhi&quot;,&quot;title&quot;:&quot;HomeLab 对我的价值&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;well&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;my-homelab-introduce&#x2F;#well&quot;,&quot;title&quot;:&quot;Well&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;less-well&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;my-homelab-introduce&#x2F;#less-well&quot;,&quot;title&quot;:&quot;Less Well&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;jie-yu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;my-homelab-introduce&#x2F;#jie-yu&quot;,&quot;title&quot;:&quot;结语&quot;,&quot;children&quot;:[]}],&quot;word_count&quot;:1600,&quot;reading_time&quot;:8,&quot;assets&quot;:[&quot;&#x2F;posts&#x2F;my-homelab-introduce&#x2F;authentik.png&quot;],&quot;draft&quot;:false,&quot;lang&quot;:&quot;cn&quot;,&quot;lower&quot;:{&quot;relative_path&quot;:&quot;posts&#x2F;webmentions.cn.md&quot;,&quot;content&quot;:&quot;&lt;blockquote&gt;\n&lt;p&gt;本文通过 DeepL 翻译自 &lt;a href=\&quot;https:&#x2F;&#x2F;eindex.me&#x2F;posts&#x2F;webmentions&#x2F;\&quot;&gt;Joining the Webmentions Community: A Beginner&#x27;s Guide&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;\n&lt;&#x2F;blockquote&gt;\n&lt;p&gt;最近我看到了&lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;www.owenyoung.com&#x2F;en&#x2F;blog&#x2F;indieweb&#x2F;\&quot;&gt;Now, I&#x27;m in IndieWeb?&lt;&#x2F;a&gt;，了解到了 Webmentions。我发现这个概念非常有趣，于是决定加入我的博客的 Webmentions 社区。&lt;&#x2F;p&gt;\n&lt;span id=\&quot;continue-reading\&quot;&gt;&lt;&#x2F;span&gt;&lt;h2 id=\&quot;shi-yao-shi-webmentions\&quot;&gt;什么是 Webmentions&lt;&#x2F;h2&gt;\n&lt;p&gt;Webmentions 是一种网站相互交流的方式，当它们链接到对方的内容时，可以通知对方。这使得网络社区的互动性更强，联系更紧密，网站可以与对方和用户实时互动。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;wo-ru-he-jia-ru-webmentions-she-qu\&quot;&gt;我如何加入 Webmentions 社区？&lt;&#x2F;h2&gt;\n&lt;p&gt;要加入 Webmentions 社区，并开始接收其他网站链接到你的内容时的通知，你需要采取以下步骤。&lt;&#x2F;p&gt;\n&lt;ol&gt;\n&lt;li&gt;\n&lt;p&gt;在 Webmentions 服务中注册你的网站，比如 webmention.io。这将使你的网站能够接收来自其他网站的网络提示，也使你能够在链接到其他网站时向它们发送网络提示。要做到这一点，你可以在你的网站上添加以下 HTML 代码。&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;HTML\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-HTML \&quot;&gt;&lt;code class=\&quot;language-HTML\&quot; data-lang=\&quot;HTML\&quot;&gt;&lt;span&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;link &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;rel&lt;&#x2F;span&gt;&lt;span&gt;=&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;webmention&amp;quot; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;href&lt;&#x2F;span&gt;&lt;span&gt;=&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;https:&#x2F;&#x2F;webmention.io&#x2F;eindex.me&#x2F;webmention&amp;quot; &lt;&#x2F;span&gt;&lt;span&gt;&#x2F;&amp;gt;\n&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;link &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;rel&lt;&#x2F;span&gt;&lt;span&gt;=&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;pingback&amp;quot; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;href&lt;&#x2F;span&gt;&lt;span&gt;=&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;https:&#x2F;&#x2F;webmention.io&#x2F;eindex.me&#x2F;xmlrpc&amp;quot; &lt;&#x2F;span&gt;&lt;span&gt;&#x2F;&amp;gt;\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;&#x2F;li&gt;\n&lt;li&gt;\n&lt;p&gt;确保你的网站遵循&lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;microformats.org&#x2F;\&quot;&gt;microformats2&lt;&#x2F;a&gt;标准。这可能需要一些努力，但这对于确保你的网站能够正确地发送和接收 Webmentions 是很重要的。你可以使用&lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;indiewebify.me&#x2F;\&quot;&gt;IndieWebify.Me&lt;&#x2F;a&gt;这样的工具来检查你的网站是否正确使用 microformats2。你也可以使用像&lt;code&gt;ngrok&lt;&#x2F;code&gt;或&lt;code&gt;cloudflare tunnel&lt;&#x2F;code&gt;这样的工具，在本地调试你的网站，这样可以节省时间。&lt;&#x2F;p&gt;\n&lt;&#x2F;li&gt;\n&lt;li&gt;\n&lt;p&gt;开始在你的网站上发送和接收 Webmentions。一旦你的网站在 Webmentions 服务中注册，并且你已经测试了你的实施，你就可以开始在你的网站上使用 Webmentions 来通知他们你的链接。而每当别人链接到你的网站时，你可以收到 webmention 通知，并在你的网站上显示该链接。&lt;&#x2F;p&gt;\n&lt;&#x2F;li&gt;\n&lt;li&gt;\n&lt;p&gt;考虑使用 Github 行动和 JavaScript 脚本等工具来自动发送和接收 Webmentions 的过程。这对静态网站特别有用。例如，你可以在 Github 上的&lt;code&gt;webmentions&lt;&#x2F;code&gt;分支中存储你的 Webmentions，并使用像这样的工作流文件来获取 Webmentions 和发送你的 Webmentions，你也可以查看我的&lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;github.com&#x2F;EINDEX&#x2F;blog&#x2F;blob&#x2F;main&#x2F;.github&#x2F;workflows&#x2F;fetch-webmentions.yaml\&quot;&gt;实现&lt;&#x2F;a&gt;这个博客的。&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;yaml\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-yaml \&quot;&gt;&lt;code class=\&quot;language-yaml\&quot; data-lang=\&quot;yaml\&quot;&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;name&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;Fetch Webmentions\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;on&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;schedule&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;    - &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;cron&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;0 0 * * *&amp;quot;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;jobs&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;fetch_webmentions&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;runs-on&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;ubuntu-latest\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;steps&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;    - &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;uses&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;actions&#x2F;checkout@v2\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;with&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;ref&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;webmentions\n&lt;&#x2F;span&gt;&lt;span&gt;    - &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;name&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;Fetch Webmentions\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;run&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;node pipeline&#x2F;webmentions.js\n&lt;&#x2F;span&gt;&lt;span&gt;    - &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;name&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;Send Webmetnions\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;run&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;node pipeline&#x2F;send-webmentions.js\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;&#x2F;li&gt;\n&lt;&#x2F;ol&gt;\n&lt;p&gt;按照这些步骤，你可以加入 Webmentions 社区，并开始享受与其他网站及其用户进行更多互动和参与性交流的好处。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;wei-shi-yao-yao-jia-ru-webmentions-she-qu\&quot;&gt;为什么要加入 Webmentions 社区？&lt;&#x2F;h2&gt;\n&lt;p&gt;加入 Webmentions 社区并在您的网站上实施 Webmentions 有许多潜在的好处。一些潜在的好处包括。&lt;&#x2F;p&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;p&gt;增加与其他网站及其用户的接触和联系。通过在其他网站链接到你的内容时收到通知，并在你链接到其他网站时能够通知其他网站，你可以培养一个更加互动和连接的在线社区。这可以带来更多的流量，甚至有可能带来更多的合作和参与机会。&lt;&#x2F;p&gt;\n&lt;&#x2F;li&gt;\n&lt;li&gt;\n&lt;p&gt;改善与其他网站的沟通和协作。 Webmentions 允许网站之间进行实时沟通，这对协调工作和保持 Webmentions 社区的最新发展很有帮助。&lt;&#x2F;p&gt;\n&lt;&#x2F;li&gt;\n&lt;li&gt;\n&lt;p&gt;参与不断发展的网络生态系统的能力。 Webmentions 是 &amp;quot;Web 3.0 &amp;quot;的一种形式，与过去相比，网站之间的相互联系和互动更多。通过加入 Webmentions 社区，你可以成为这个不断发展的网络生态系统的一部分，并有可能从出现的新机会和联系中受益。&lt;&#x2F;p&gt;\n&lt;&#x2F;li&gt;\n&lt;&#x2F;ul&gt;\n&lt;p&gt;当然，加入 Webmentions 社区确实需要一些努力和资源，所以它不一定是每个人的正确决定。但对许多网站所有者来说，加入 Webmentions 社区的潜在好处可能会超过挑战，使其成为一项值得的投资。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;zong-jie\&quot;&gt;总结&lt;&#x2F;h2&gt;\n&lt;p&gt;在这个初学者指南中，我们已经介绍了加入 Webmentions 社区和在网站上实施 Webmentions 的步骤。按照这些步骤，你可以加入 Webmentions 社区，并开始享受与其他网站及其用户进行更多互动和参与性交流的好处。虽然加入 Webmentions 社区需要一些挑战和资源，但对许多网站所有者来说，潜在的好处可能超过了挑战。&lt;&#x2F;p&gt;\n&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;webmentions&#x2F;&quot;,&quot;slug&quot;:&quot;webmentions&quot;,&quot;ancestors&quot;:[&quot;_index.cn.md&quot;,&quot;posts&#x2F;_index.cn.md&quot;],&quot;title&quot;:&quot;加入 Webmentions 社区: 新手指导&quot;,&quot;description&quot;:&quot;了解如何加入 Webmentions 社区，提高你的博客与其他网站及其用户的互动性和参与度。&quot;,&quot;updated&quot;:&quot;2022-12-05T23:48:50+08:00&quot;,&quot;date&quot;:&quot;2022-11-06T17:44:50+08:00&quot;,&quot;year&quot;:2022,&quot;month&quot;:11,&quot;day&quot;:6,&quot;taxonomies&quot;:{&quot;tags&quot;:[&quot;Webmentions&quot;,&quot;Community&quot;,&quot;Beginner&#x27;s Guide&quot;,&quot;Indie Web&quot;,&quot;Microformats2&quot;,&quot;Engagement&quot;,&quot;Connectivity&quot;,&quot;Github Actions&quot;,&quot;JavaScript&quot;],&quot;series&quot;:[&quot;blog-enhance-plan&quot;]},&quot;extra&quot;:{},&quot;path&quot;:&quot;&#x2F;cn&#x2F;posts&#x2F;webmentions&#x2F;&quot;,&quot;components&quot;:[&quot;cn&quot;,&quot;posts&quot;,&quot;webmentions&quot;],&quot;summary&quot;:&quot;&lt;blockquote&gt;\n&lt;p&gt;本文通过 DeepL 翻译自 &lt;a href=\&quot;https:&#x2F;&#x2F;eindex.me&#x2F;posts&#x2F;webmentions&#x2F;\&quot;&gt;Joining the Webmentions Community: A Beginner&#x27;s Guide&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;\n&lt;&#x2F;blockquote&gt;\n&lt;p&gt;最近我看到了&lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;www.owenyoung.com&#x2F;en&#x2F;blog&#x2F;indieweb&#x2F;\&quot;&gt;Now, I&#x27;m in IndieWeb?&lt;&#x2F;a&gt;，了解到了 Webmentions。我发现这个概念非常有趣，于是决定加入我的博客的 Webmentions 社区。&lt;&#x2F;p&gt;\n&quot;,&quot;toc&quot;:[{&quot;level&quot;:2,&quot;id&quot;:&quot;shi-yao-shi-webmentions&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;webmentions&#x2F;#shi-yao-shi-webmentions&quot;,&quot;title&quot;:&quot;什么是 Webmentions&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;wo-ru-he-jia-ru-webmentions-she-qu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;webmentions&#x2F;#wo-ru-he-jia-ru-webmentions-she-qu&quot;,&quot;title&quot;:&quot;我如何加入 Webmentions 社区？&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;wei-shi-yao-yao-jia-ru-webmentions-she-qu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;webmentions&#x2F;#wei-shi-yao-yao-jia-ru-webmentions-she-qu&quot;,&quot;title&quot;:&quot;为什么要加入 Webmentions 社区？&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;zong-jie&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;webmentions&#x2F;#zong-jie&quot;,&quot;title&quot;:&quot;总结&quot;,&quot;children&quot;:[]}],&quot;word_count&quot;:1128,&quot;reading_time&quot;:6,&quot;assets&quot;:[],&quot;draft&quot;:false,&quot;lang&quot;:&quot;cn&quot;,&quot;lower&quot;:null,&quot;higher&quot;:null,&quot;translations&quot;:[{&quot;lang&quot;:&quot;en&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;posts&#x2F;webmentions&#x2F;&quot;,&quot;title&quot;:&quot;Joining the Webmentions Community: A Beginner&#x27;s Guide&quot;,&quot;path&quot;:&quot;&#x2F;home&#x2F;runner&#x2F;work&#x2F;blog&#x2F;blog&#x2F;content&#x2F;posts&#x2F;webmentions.md&quot;},{&quot;lang&quot;:&quot;cn&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;webmentions&#x2F;&quot;,&quot;title&quot;:&quot;加入 Webmentions 社区: 新手指导&quot;,&quot;path&quot;:&quot;&#x2F;home&#x2F;runner&#x2F;work&#x2F;blog&#x2F;blog&#x2F;content&#x2F;posts&#x2F;webmentions.cn.md&quot;}],&quot;backlinks&quot;:[]},&quot;higher&quot;:{&quot;relative_path&quot;:&quot;posts&#x2F;introspection.cn.md&quot;,&quot;content&quot;:&quot;&lt;h2 id=\&quot;yuan-qi\&quot;&gt;缘起&lt;&#x2F;h2&gt;\n&lt;p&gt;事情还得从一次因防疫政策变化导致的“特殊”出差说起。&lt;&#x2F;p&gt;\n&lt;p&gt;人在远离舒适圈的时候，总会经历种种困难与不适，噪音、拥挤、打卡、隔离、被缩短的工期、不合理的政策……都让“出差”成为了一项挑战，而“疫情”和“三年第一次出差”，这两重因素的叠加，更让我对这次出差中将面临的未知感到恐惧，这种恐惧甚至大于好奇。&lt;&#x2F;p&gt;\n&lt;p&gt;下面我会尝试用“自我问答”的方式，记录这次出差的体验与感想。&lt;&#x2F;p&gt;\n&lt;span id=\&quot;continue-reading\&quot;&gt;&lt;&#x2F;span&gt;&lt;h2 id=\&quot;zi-wen\&quot;&gt;自问&lt;&#x2F;h2&gt;\n&lt;h3 id=\&quot;yi-shi-zhu-xing-shang-you-shi-yao-ti-yan\&quot;&gt;衣食住行上有什么体验？&lt;&#x2F;h3&gt;\n&lt;p&gt;衣：没啥好说的，我在出发前带了一些换洗衣服，还在当地“程序员服装供应商”之一的优衣库那的采购了一点新的。&lt;&#x2F;p&gt;\n&lt;p&gt;食：我吃不惯，太辣，成都人的口味真的好重。&lt;&#x2F;p&gt;\n&lt;p&gt;住：我隔离的时候住在宿舍里，嗯，怎么说呢。除了床之外，其他都挺好，床就是块板子，让腰疼的我“疼上加疼”😭。后几天的隔离时间里，我都睡沙发了，让我惊讶的是，沙发居然比床睡着舒服。再后面就住进酒店了，成都这边水质不好，我洗澡的时候有很严重地过敏反应。&lt;&#x2F;p&gt;\n&lt;p&gt;行：我几十年都没坐过飞机了，这次坐飞机突然发现，原来坐飞机这么挤，这么吵。安检的时候，安检小哥恨不得要把你“扒光”。我很讨厌这种感觉，但谁让飞机飞得快呢。之后会再和坐高铁需要的时间做比较，以后可能会倾向于总时长更短的。出门在外，“失去了”家里的“小破车”，只能选公共交通或者的士，这让我的行动范围变小了。&lt;&#x2F;p&gt;\n&lt;p&gt;更新: 返程时乘坐的是&lt;code&gt;空客321&lt;&#x2F;code&gt;,去程坐的是&lt;code&gt;波音737-800&lt;&#x2F;code&gt;，都是经济舱，空客体验完爆波音。&lt;&#x2F;p&gt;\n&lt;p&gt;成都街上绿化做得特别好，到处都有鸟叫声，而且大多数马路中间都有树，有的人行道上也种了很多树，空气质量也挺好的，就连在其他城市横冲直闯的外卖小哥，在这边也是走路送餐。我住在成都腾讯附近，在住处周围看见了很多互联网公司，相比我的城市来说，成都确实更适合“互联网人”的发展。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;dao-jin-tian-wei-zhi-dui-zhe-ci-de-chu-chai-you-shi-yao-gan-shou-ma\&quot;&gt;到今天为止，对这次的出差有什么感受吗？&lt;&#x2F;h3&gt;\n&lt;p&gt;我原来觉得我对很多事情没啥特别的要求，但经过这次出差，我发现我屁事还挺多的。&lt;&#x2F;p&gt;\n&lt;p&gt;喝上，要有净水器，还有随时能喝上的新鲜咖啡；工作&#x2F;学习上需要好的办公椅和升降办公桌；玩上要有4k高色准大彩电和音响系统；吃上得有厨房和不错的厨具，要能做饭，最好能有洗碗机。另外，窗外要有不错的风景，洗衣机要可以烘干，出门要开车，需要很好的隔音与遮光来保证睡眠，最重要的是，床要有中高档床垫。&lt;&#x2F;p&gt;\n&lt;p&gt;我当然理解不是所有人都需要这些所谓的“舒适条件”，但它们对我来说是不可缺少的。尤其是对于第一次出差、第一次乘飞机、第一次被隔离的我来说，我并没有做好失去它们的准备，但现实总是让人猝不及防，而离开了家的我，也只能接受这个现实。&lt;&#x2F;p&gt;\n&lt;p&gt;这些经历使得我更加理解和认可一个广告理念：卖给你的不是东西，而是一种生活方式。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;you-cai-qu-shi-yao-cuo-shi-huan-jie-tong-ku-huo-zhe-gai-shan-xian-zhuang-ma\&quot;&gt;有采取什么措施缓解“痛苦”或者改善现状吗？&lt;&#x2F;h3&gt;\n&lt;p&gt;当然是有的，对于舒适度上的需求，其实是可以通过一定程度上的锻炼来缓解的，毕竟身体好一点的话，对不同环境的适应能力也要强一点，至少腰不会那么疼。&lt;&#x2F;p&gt;\n&lt;p&gt;情绪上，我选择自己烹饪，同时还把大量的精力放在家里的 HomeLab 上，来转移被隔离影响的心情。另外，我也在看电影、上网吐槽，包括我写这篇博客的动机也是为了缓解情绪上的压力。&lt;&#x2F;p&gt;\n&lt;p&gt;为了老腰，隔离结束的第一天我就搬到酒店去住了，还去报复性消费了一波。哦，还剪了一个生平最丑（没有之一）的发型。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;zhi-hou-you-shi-yao-da-suan\&quot;&gt;之后有什么打算？&lt;&#x2F;h3&gt;\n&lt;p&gt;以后出差前还是得多考虑一下，不能随便答应。一个是因为自己的身体也不太行，另一个是女朋友也不是吃素的，最好还是不要长时间出差了。一个月就很长了。如果是出国，可以另外考虑考虑。&lt;&#x2F;p&gt;\n&lt;p&gt;身体上还是要坚持锻炼啊，先减肥再练核心，帮老腰过过难关呀，不能被身体限制住了发展。&lt;&#x2F;p&gt;\n&lt;p&gt;工作上还是要找到自己的价值所在，毕竟是我司中国里最年轻（菜）的应用安全专（砖）家，以后怎么发展，是不是应该专注更多的去做自己擅长的事情……都是要思考的&lt;&#x2F;p&gt;\n&lt;p&gt;对于我的财务自由计划，现在完成了差不多 1&#x2F;20，感觉上勉勉强强吧。我之后会用更多的时间去发展一些兴趣爱好，可能也会花更多的精力去开展一下副业吧，公司里的平台还是比较有限。还是得多自力更生啊。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;hou-ji\&quot;&gt;后记&lt;&#x2F;h2&gt;\n&lt;p&gt;对我来说，这次出差是一次很坏却也很好的事情，好的方面是，和从前相比，我能更清晰、更坚定地说出我要什么，我想要做什么，能更快地采取行动去实践自己的想法、能在逆境中调整心情、能抗压、能想办法给自己获取资源、能主动和自己的 stakeholders 保持不错的联系。有了更成熟的思维体系，对在控制范围内和不在控制范围内的事情，能更加自如地应对。&lt;&#x2F;p&gt;\n&lt;p&gt;不知道心理测量量表还会不会把我放到轻度抑郁症患者范围里。不管如何，有一个成熟的适合自己的思维体系，确实对我的发展有很大助益。&lt;&#x2F;p&gt;\n&lt;p&gt;希望以后每年都能有一次类似的经历或者体会，谁又会不渴望变得更高更快更强呢。&lt;&#x2F;p&gt;\n&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;introspection&#x2F;&quot;,&quot;slug&quot;:&quot;introspection&quot;,&quot;ancestors&quot;:[&quot;_index.cn.md&quot;,&quot;posts&#x2F;_index.cn.md&quot;],&quot;title&quot;:&quot;反躬自问&quot;,&quot;description&quot;:null,&quot;updated&quot;:null,&quot;date&quot;:&quot;2022-05-02T17:13:36+08:00&quot;,&quot;year&quot;:2022,&quot;month&quot;:5,&quot;day&quot;:2,&quot;taxonomies&quot;:{&quot;tags&quot;:[&quot;Introspection&quot;]},&quot;extra&quot;:{},&quot;path&quot;:&quot;&#x2F;cn&#x2F;posts&#x2F;introspection&#x2F;&quot;,&quot;components&quot;:[&quot;cn&quot;,&quot;posts&quot;,&quot;introspection&quot;],&quot;summary&quot;:&quot;&lt;h2 id=\&quot;yuan-qi\&quot;&gt;缘起&lt;&#x2F;h2&gt;\n&lt;p&gt;事情还得从一次因防疫政策变化导致的“特殊”出差说起。&lt;&#x2F;p&gt;\n&lt;p&gt;人在远离舒适圈的时候，总会经历种种困难与不适，噪音、拥挤、打卡、隔离、被缩短的工期、不合理的政策……都让“出差”成为了一项挑战，而“疫情”和“三年第一次出差”，这两重因素的叠加，更让我对这次出差中将面临的未知感到恐惧，这种恐惧甚至大于好奇。&lt;&#x2F;p&gt;\n&lt;p&gt;下面我会尝试用“自我问答”的方式，记录这次出差的体验与感想。&lt;&#x2F;p&gt;\n&quot;,&quot;toc&quot;:[{&quot;level&quot;:2,&quot;id&quot;:&quot;yuan-qi&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;introspection&#x2F;#yuan-qi&quot;,&quot;title&quot;:&quot;缘起&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;zi-wen&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;introspection&#x2F;#zi-wen&quot;,&quot;title&quot;:&quot;自问&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;yi-shi-zhu-xing-shang-you-shi-yao-ti-yan&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;introspection&#x2F;#yi-shi-zhu-xing-shang-you-shi-yao-ti-yan&quot;,&quot;title&quot;:&quot;衣食住行上有什么体验？&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;dao-jin-tian-wei-zhi-dui-zhe-ci-de-chu-chai-you-shi-yao-gan-shou-ma&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;introspection&#x2F;#dao-jin-tian-wei-zhi-dui-zhe-ci-de-chu-chai-you-shi-yao-gan-shou-ma&quot;,&quot;title&quot;:&quot;到今天为止，对这次的出差有什么感受吗？&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;you-cai-qu-shi-yao-cuo-shi-huan-jie-tong-ku-huo-zhe-gai-shan-xian-zhuang-ma&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;introspection&#x2F;#you-cai-qu-shi-yao-cuo-shi-huan-jie-tong-ku-huo-zhe-gai-shan-xian-zhuang-ma&quot;,&quot;title&quot;:&quot;有采取什么措施缓解“痛苦”或者改善现状吗？&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;zhi-hou-you-shi-yao-da-suan&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;introspection&#x2F;#zhi-hou-you-shi-yao-da-suan&quot;,&quot;title&quot;:&quot;之后有什么打算？&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;hou-ji&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;introspection&#x2F;#hou-ji&quot;,&quot;title&quot;:&quot;后记&quot;,&quot;children&quot;:[]}],&quot;word_count&quot;:1648,&quot;reading_time&quot;:9,&quot;assets&quot;:[],&quot;draft&quot;:false,&quot;lang&quot;:&quot;cn&quot;,&quot;lower&quot;:null,&quot;higher&quot;:null,&quot;translations&quot;:[{&quot;lang&quot;:&quot;cn&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;introspection&#x2F;&quot;,&quot;title&quot;:&quot;反躬自问&quot;,&quot;path&quot;:&quot;&#x2F;home&#x2F;runner&#x2F;work&#x2F;blog&#x2F;blog&#x2F;content&#x2F;posts&#x2F;introspection.cn.md&quot;}],&quot;backlinks&quot;:[]},&quot;translations&quot;:[{&quot;lang&quot;:&quot;cn&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;my-homelab-introduce&#x2F;&quot;,&quot;title&quot;:&quot;My HomeLab&quot;,&quot;path&quot;:&quot;&#x2F;home&#x2F;runner&#x2F;work&#x2F;blog&#x2F;blog&#x2F;content&#x2F;posts&#x2F;my-homelab-introduce&#x2F;index.cn.md&quot;}],&quot;backlinks&quot;:[]},{&quot;relative_path&quot;:&quot;posts&#x2F;introspection.cn.md&quot;,&quot;content&quot;:&quot;&lt;h2 id=\&quot;yuan-qi\&quot;&gt;缘起&lt;&#x2F;h2&gt;\n&lt;p&gt;事情还得从一次因防疫政策变化导致的“特殊”出差说起。&lt;&#x2F;p&gt;\n&lt;p&gt;人在远离舒适圈的时候，总会经历种种困难与不适，噪音、拥挤、打卡、隔离、被缩短的工期、不合理的政策……都让“出差”成为了一项挑战，而“疫情”和“三年第一次出差”，这两重因素的叠加，更让我对这次出差中将面临的未知感到恐惧，这种恐惧甚至大于好奇。&lt;&#x2F;p&gt;\n&lt;p&gt;下面我会尝试用“自我问答”的方式，记录这次出差的体验与感想。&lt;&#x2F;p&gt;\n&lt;span id=\&quot;continue-reading\&quot;&gt;&lt;&#x2F;span&gt;&lt;h2 id=\&quot;zi-wen\&quot;&gt;自问&lt;&#x2F;h2&gt;\n&lt;h3 id=\&quot;yi-shi-zhu-xing-shang-you-shi-yao-ti-yan\&quot;&gt;衣食住行上有什么体验？&lt;&#x2F;h3&gt;\n&lt;p&gt;衣：没啥好说的，我在出发前带了一些换洗衣服，还在当地“程序员服装供应商”之一的优衣库那的采购了一点新的。&lt;&#x2F;p&gt;\n&lt;p&gt;食：我吃不惯，太辣，成都人的口味真的好重。&lt;&#x2F;p&gt;\n&lt;p&gt;住：我隔离的时候住在宿舍里，嗯，怎么说呢。除了床之外，其他都挺好，床就是块板子，让腰疼的我“疼上加疼”😭。后几天的隔离时间里，我都睡沙发了，让我惊讶的是，沙发居然比床睡着舒服。再后面就住进酒店了，成都这边水质不好，我洗澡的时候有很严重地过敏反应。&lt;&#x2F;p&gt;\n&lt;p&gt;行：我几十年都没坐过飞机了，这次坐飞机突然发现，原来坐飞机这么挤，这么吵。安检的时候，安检小哥恨不得要把你“扒光”。我很讨厌这种感觉，但谁让飞机飞得快呢。之后会再和坐高铁需要的时间做比较，以后可能会倾向于总时长更短的。出门在外，“失去了”家里的“小破车”，只能选公共交通或者的士，这让我的行动范围变小了。&lt;&#x2F;p&gt;\n&lt;p&gt;更新: 返程时乘坐的是&lt;code&gt;空客321&lt;&#x2F;code&gt;,去程坐的是&lt;code&gt;波音737-800&lt;&#x2F;code&gt;，都是经济舱，空客体验完爆波音。&lt;&#x2F;p&gt;\n&lt;p&gt;成都街上绿化做得特别好，到处都有鸟叫声，而且大多数马路中间都有树，有的人行道上也种了很多树，空气质量也挺好的，就连在其他城市横冲直闯的外卖小哥，在这边也是走路送餐。我住在成都腾讯附近，在住处周围看见了很多互联网公司，相比我的城市来说，成都确实更适合“互联网人”的发展。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;dao-jin-tian-wei-zhi-dui-zhe-ci-de-chu-chai-you-shi-yao-gan-shou-ma\&quot;&gt;到今天为止，对这次的出差有什么感受吗？&lt;&#x2F;h3&gt;\n&lt;p&gt;我原来觉得我对很多事情没啥特别的要求，但经过这次出差，我发现我屁事还挺多的。&lt;&#x2F;p&gt;\n&lt;p&gt;喝上，要有净水器，还有随时能喝上的新鲜咖啡；工作&#x2F;学习上需要好的办公椅和升降办公桌；玩上要有4k高色准大彩电和音响系统；吃上得有厨房和不错的厨具，要能做饭，最好能有洗碗机。另外，窗外要有不错的风景，洗衣机要可以烘干，出门要开车，需要很好的隔音与遮光来保证睡眠，最重要的是，床要有中高档床垫。&lt;&#x2F;p&gt;\n&lt;p&gt;我当然理解不是所有人都需要这些所谓的“舒适条件”，但它们对我来说是不可缺少的。尤其是对于第一次出差、第一次乘飞机、第一次被隔离的我来说，我并没有做好失去它们的准备，但现实总是让人猝不及防，而离开了家的我，也只能接受这个现实。&lt;&#x2F;p&gt;\n&lt;p&gt;这些经历使得我更加理解和认可一个广告理念：卖给你的不是东西，而是一种生活方式。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;you-cai-qu-shi-yao-cuo-shi-huan-jie-tong-ku-huo-zhe-gai-shan-xian-zhuang-ma\&quot;&gt;有采取什么措施缓解“痛苦”或者改善现状吗？&lt;&#x2F;h3&gt;\n&lt;p&gt;当然是有的，对于舒适度上的需求，其实是可以通过一定程度上的锻炼来缓解的，毕竟身体好一点的话，对不同环境的适应能力也要强一点，至少腰不会那么疼。&lt;&#x2F;p&gt;\n&lt;p&gt;情绪上，我选择自己烹饪，同时还把大量的精力放在家里的 HomeLab 上，来转移被隔离影响的心情。另外，我也在看电影、上网吐槽，包括我写这篇博客的动机也是为了缓解情绪上的压力。&lt;&#x2F;p&gt;\n&lt;p&gt;为了老腰，隔离结束的第一天我就搬到酒店去住了，还去报复性消费了一波。哦，还剪了一个生平最丑（没有之一）的发型。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;zhi-hou-you-shi-yao-da-suan\&quot;&gt;之后有什么打算？&lt;&#x2F;h3&gt;\n&lt;p&gt;以后出差前还是得多考虑一下，不能随便答应。一个是因为自己的身体也不太行，另一个是女朋友也不是吃素的，最好还是不要长时间出差了。一个月就很长了。如果是出国，可以另外考虑考虑。&lt;&#x2F;p&gt;\n&lt;p&gt;身体上还是要坚持锻炼啊，先减肥再练核心，帮老腰过过难关呀，不能被身体限制住了发展。&lt;&#x2F;p&gt;\n&lt;p&gt;工作上还是要找到自己的价值所在，毕竟是我司中国里最年轻（菜）的应用安全专（砖）家，以后怎么发展，是不是应该专注更多的去做自己擅长的事情……都是要思考的&lt;&#x2F;p&gt;\n&lt;p&gt;对于我的财务自由计划，现在完成了差不多 1&#x2F;20，感觉上勉勉强强吧。我之后会用更多的时间去发展一些兴趣爱好，可能也会花更多的精力去开展一下副业吧，公司里的平台还是比较有限。还是得多自力更生啊。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;hou-ji\&quot;&gt;后记&lt;&#x2F;h2&gt;\n&lt;p&gt;对我来说，这次出差是一次很坏却也很好的事情，好的方面是，和从前相比，我能更清晰、更坚定地说出我要什么，我想要做什么，能更快地采取行动去实践自己的想法、能在逆境中调整心情、能抗压、能想办法给自己获取资源、能主动和自己的 stakeholders 保持不错的联系。有了更成熟的思维体系，对在控制范围内和不在控制范围内的事情，能更加自如地应对。&lt;&#x2F;p&gt;\n&lt;p&gt;不知道心理测量量表还会不会把我放到轻度抑郁症患者范围里。不管如何，有一个成熟的适合自己的思维体系，确实对我的发展有很大助益。&lt;&#x2F;p&gt;\n&lt;p&gt;希望以后每年都能有一次类似的经历或者体会，谁又会不渴望变得更高更快更强呢。&lt;&#x2F;p&gt;\n&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;introspection&#x2F;&quot;,&quot;slug&quot;:&quot;introspection&quot;,&quot;ancestors&quot;:[&quot;_index.cn.md&quot;,&quot;posts&#x2F;_index.cn.md&quot;],&quot;title&quot;:&quot;反躬自问&quot;,&quot;description&quot;:null,&quot;updated&quot;:null,&quot;date&quot;:&quot;2022-05-02T17:13:36+08:00&quot;,&quot;year&quot;:2022,&quot;month&quot;:5,&quot;day&quot;:2,&quot;taxonomies&quot;:{&quot;tags&quot;:[&quot;Introspection&quot;]},&quot;extra&quot;:{},&quot;path&quot;:&quot;&#x2F;cn&#x2F;posts&#x2F;introspection&#x2F;&quot;,&quot;components&quot;:[&quot;cn&quot;,&quot;posts&quot;,&quot;introspection&quot;],&quot;summary&quot;:&quot;&lt;h2 id=\&quot;yuan-qi\&quot;&gt;缘起&lt;&#x2F;h2&gt;\n&lt;p&gt;事情还得从一次因防疫政策变化导致的“特殊”出差说起。&lt;&#x2F;p&gt;\n&lt;p&gt;人在远离舒适圈的时候，总会经历种种困难与不适，噪音、拥挤、打卡、隔离、被缩短的工期、不合理的政策……都让“出差”成为了一项挑战，而“疫情”和“三年第一次出差”，这两重因素的叠加，更让我对这次出差中将面临的未知感到恐惧，这种恐惧甚至大于好奇。&lt;&#x2F;p&gt;\n&lt;p&gt;下面我会尝试用“自我问答”的方式，记录这次出差的体验与感想。&lt;&#x2F;p&gt;\n&quot;,&quot;toc&quot;:[{&quot;level&quot;:2,&quot;id&quot;:&quot;yuan-qi&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;introspection&#x2F;#yuan-qi&quot;,&quot;title&quot;:&quot;缘起&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;zi-wen&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;introspection&#x2F;#zi-wen&quot;,&quot;title&quot;:&quot;自问&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;yi-shi-zhu-xing-shang-you-shi-yao-ti-yan&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;introspection&#x2F;#yi-shi-zhu-xing-shang-you-shi-yao-ti-yan&quot;,&quot;title&quot;:&quot;衣食住行上有什么体验？&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;dao-jin-tian-wei-zhi-dui-zhe-ci-de-chu-chai-you-shi-yao-gan-shou-ma&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;introspection&#x2F;#dao-jin-tian-wei-zhi-dui-zhe-ci-de-chu-chai-you-shi-yao-gan-shou-ma&quot;,&quot;title&quot;:&quot;到今天为止，对这次的出差有什么感受吗？&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;you-cai-qu-shi-yao-cuo-shi-huan-jie-tong-ku-huo-zhe-gai-shan-xian-zhuang-ma&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;introspection&#x2F;#you-cai-qu-shi-yao-cuo-shi-huan-jie-tong-ku-huo-zhe-gai-shan-xian-zhuang-ma&quot;,&quot;title&quot;:&quot;有采取什么措施缓解“痛苦”或者改善现状吗？&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;zhi-hou-you-shi-yao-da-suan&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;introspection&#x2F;#zhi-hou-you-shi-yao-da-suan&quot;,&quot;title&quot;:&quot;之后有什么打算？&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;hou-ji&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;introspection&#x2F;#hou-ji&quot;,&quot;title&quot;:&quot;后记&quot;,&quot;children&quot;:[]}],&quot;word_count&quot;:1648,&quot;reading_time&quot;:9,&quot;assets&quot;:[],&quot;draft&quot;:false,&quot;lang&quot;:&quot;cn&quot;,&quot;lower&quot;:{&quot;relative_path&quot;:&quot;posts&#x2F;my-homelab-introduce&#x2F;index.cn.md&quot;,&quot;content&quot;:&quot;&lt;p&gt;这篇文章将会介绍一下我的 HomeLab。&lt;&#x2F;p&gt;\n&lt;p&gt;为什么会建设 HomeLab，它给我带来了什么价值？以及为什么是现在的结构，解决了什么问题。&lt;&#x2F;p&gt;\n&lt;span id=\&quot;continue-reading\&quot;&gt;&lt;&#x2F;span&gt;&lt;h2 id=\&quot;jie-yuan\&quot;&gt;结缘&lt;&#x2F;h2&gt;\n&lt;p&gt;在 2017 年末，我遇到一个艰难的问题，我有很多设备，小米手机，iPad，MacBook Pro，之前用的 Resilio Sync(原 BTSync)，也需要翻墙才能同步文件。 Google Photos 在墙内的使用体验也日渐下降。&lt;&#x2F;p&gt;\n&lt;p&gt;机缘巧合之下，Synology 出现在我的面前。一拍脑袋，搞了一个 Synology 218+。&lt;&#x2F;p&gt;\n&lt;p&gt;单纯的我当时只是想同步一下文件，给 MacBook 加上 Time Machine，并没想道这是我和 HomeLab 缘分的开始。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;shi-jian-xian\&quot;&gt;时间线&lt;&#x2F;h2&gt;\n&lt;h3 id=\&quot;zao-qi\&quot;&gt;早期&lt;&#x2F;h3&gt;\n&lt;p&gt;主要是使用一些 Synology 原生功能，如 Moments，Video，Drive，Note 等，然后在 Docker 里跑了一两个简单的服务。单纯就用来备份照片，数据，剪裁网页啥的。&lt;&#x2F;p&gt;\n&lt;p&gt;维护成本也很低。直到某一天我发现 &lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;synocommunity.com&#x2F;\&quot;&gt;Synology Community&lt;&#x2F;a&gt;，这里面有很多奇奇怪怪的 package，稍微研究了一下，就打开了新世界的大门。&lt;&#x2F;p&gt;\n&lt;p&gt;这里面有各种各样的 Self-hosted 服务，多媒体自动化，下载的，书籍管理，文件同步，RSS 和一些 DSM 并不自带的系统命令。&lt;&#x2F;p&gt;\n&lt;p&gt;迫于追剧的需求，我当在群晖里增加了多媒体自动化没，当时用的 Jackett，Sonarr，Radarr，Emby 一套，用来自动下载，刮削，看视频，看电影。同时将服务管理到 docker-compose 里。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;geng-duo-xu-qiu\&quot;&gt;更多需求&lt;&#x2F;h3&gt;\n&lt;p&gt;由于换到新公司，工作压力没有之前那么大。有更多的时间去折腾 HomeLab，先是用了个电脑搭建了 OMV，直到某天 U 盘系统崩了，于是心一横买了稳定且性能更强的 Synology 920+。&lt;&#x2F;p&gt;\n&lt;p&gt;这个阶段开始使用 Traefik 做为 Ingress，所有服务有一个中心化的入口，再也不用背各种端口号了。&lt;&#x2F;p&gt;\n&lt;p&gt;还引入了一些新服务，Organizr 当作 application dashboard，Home Assistant 作为家庭自动化中枢，Bitwarden 作为密码管理器，qBittorrent 用来下载，Bazarr 用来寻找字幕，Miniflux 作为 RSS 阅读器。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;xu-ni-hua-yu-k3s\&quot;&gt;虚拟化 与 K3S&lt;&#x2F;h3&gt;\n&lt;p&gt;在折腾的过程中，服务越来越多，可维护性与可见性快速下降，同时性能也快接触到 D920+ 的瓶颈。&lt;&#x2F;p&gt;\n&lt;p&gt;为了一口气解决这些问题，我希望找到一种把程序和数据分开，计算和控制分开，写的配置最好是可以方便的代码化，可以快速恢复。&lt;&#x2F;p&gt;\n&lt;p&gt;在一些调研之后，采用 K3S in Proxmox VE 的模式去运行。即是在 PVE 里运行一个或多个 K3S 的虚拟机。组成一个 K3S 集群。这个方案其实很接近 &lt;code&gt;TrueNAS SCALE&lt;&#x2F;code&gt; 想法，奈何我想让我可以在 PVE 里可以快速的启动一个 X86-64 的 linux lxc 环境，进行快速的测试，而那是 TrueNAS SCALE 还在测试阶段，唉～&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;homelab-de-xian-zhuang\&quot;&gt;HomeLab 的 现状&lt;&#x2F;h2&gt;\n&lt;p&gt;现在所有的服务都 PVE 服务器的 K3S 里，数据通过 nfs 存放在群晖中。&lt;&#x2F;p&gt;\n&lt;p&gt;现在运行了更多的服务，媒体自动化方面增加了 Overseerr，Servrr 新出的 Prowlarr，EMBY 替换成了 Plex；阅读方面增加了 Rsshub，Miniflux 替换成了 FreshRSS。&lt;&#x2F;p&gt;\n&lt;p&gt;关于可见性方面，增加了 Graylog 作为日志中心（有点重，还在寻找替代品或者给服务器增加点性能），HealthChecks 用来查看定时任务的更新情况。&lt;&#x2F;p&gt;\n&lt;p&gt;可维护性方面，增加了 Keel 自动化更新服务，增加了 RocketChat 作为 ChatOps 的入口。&lt;&#x2F;p&gt;\n&lt;p&gt;安全方面 Authentik 做了集中的认证中心，虽然各个服务对 SSO 的支持并不完善，如果不支持 SSO 会在放在 SSO 后面要求再次登录。&lt;&#x2F;p&gt;\n&lt;p&gt;增加了开发相关的服务 Gitea + Drone CI + SonarQube，做了一套简单的 DevSecOps 工具链。&lt;&#x2F;p&gt;\n&lt;p&gt;整了一个新的工控机做为软路由。&lt;&#x2F;p&gt;\n&lt;p&gt;下面是现在的简单截图。&lt;&#x2F;p&gt;\n&lt;p&gt;&lt;img src=\&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;my-homelab-introduce&#x2F;.&#x2F;authentik.png\&quot; alt=\&quot;\&quot; &#x2F;&gt;&lt;&#x2F;p&gt;\n&lt;p&gt;当然还有一些服务是在命令行中运行的，就没有在此展示了。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;wei-lai\&quot;&gt;未来&lt;&#x2F;h3&gt;\n&lt;p&gt;设备方面，想采购一个更加正规的设备如 HPE MicroServer Gen10 Plus 或其他小型的服务器，来提供更多的性能，满足我对安静且占地小的需求。增加一些 AP，提高上网体验。&lt;&#x2F;p&gt;\n&lt;p&gt;服务方面，现在正在研究如何合理的托管 Beancount 的 webui Fava，如果不知道啥事 Beancount 可以看这篇&lt;a href=\&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;beancount-introduce&#x2F;\&quot;&gt;《复式记账工具 Beancount》&lt;&#x2F;a&gt;。\n考虑增加一个 8n8,来做服务建的桥梁，减少自己写代码实现的工作量。还期望弄个 code-server，可以随时随地有个可用的开发环境。\n增加一个 Clash 服务在 HomeLab 中，能快速的调整整个局域网中的上网规则。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;homelab-dui-wo-de-jie-zhi\&quot;&gt;HomeLab 对我的价值&lt;&#x2F;h2&gt;\n&lt;h3 id=\&quot;well\&quot;&gt;Well&lt;&#x2F;h3&gt;\n&lt;p&gt;HomeLab 的存在首先是解决了我数据存储方面的问题，现在可用的存储空间大约有 8 ～ 10TB 左右，用来存储我的照片，追剧，电影，备份，代码库等，还是有一些余量的。在购买数码产品的时候，可以放心大胆的使用最小的存储空间。&lt;&#x2F;p&gt;\n&lt;p&gt;其次，如果我需要写代码，我可以在自己家里运行 CI&#x2F;CD，反正设备已经是花了电费了，就不需要花时间研究如何白嫖，Github Action 或者是 Circle CI 了。&lt;del&gt;当然现在还嫖着。&lt;&#x2F;del&gt;&lt;&#x2F;p&gt;\n&lt;p&gt;再是可以进行快速的实验，可以用来实践 Kubernetes，terraform 等 CNCF 相关服务，对我考 CKA 应该也是有所帮助的。&lt;&#x2F;p&gt;\n&lt;p&gt;最后是节约了时间，在有很多自动化服务的加持之下，我可以集中更多时间和精力去做自己想做的事情。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;less-well\&quot;&gt;Less Well&lt;&#x2F;h3&gt;\n&lt;p&gt;性能拉胯，毕竟是在家跑服务，也做不到网上那些大佬，动不动整个机柜啥的，所以为了省电，性能优点拉胯。好在可以靠时间来拉平。&lt;&#x2F;p&gt;\n&lt;p&gt;搭建 HomeLab 里的各种服务，还是挺花时间的，好不容易节约的那些时间，都投入回去了 🥹。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;jie-yu\&quot;&gt;结语&lt;&#x2F;h2&gt;\n&lt;p&gt;这个东西真的很有趣，如果对 Self-Hosted 服务或者家庭实验室有兴趣，非常推荐整一个玩玩，当然最好是迭代着来，也许可以从树莓派开始？&lt;&#x2F;p&gt;\n&lt;p&gt;如果有对本文内容相关问题，欢迎在评论区与我探讨。&lt;&#x2F;p&gt;\n&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;my-homelab-introduce&#x2F;&quot;,&quot;slug&quot;:&quot;my-homelab-introduce&quot;,&quot;ancestors&quot;:[&quot;_index.cn.md&quot;,&quot;posts&#x2F;_index.cn.md&quot;],&quot;title&quot;:&quot;My HomeLab&quot;,&quot;description&quot;:null,&quot;updated&quot;:null,&quot;date&quot;:&quot;2022-05-15T23:39:46+08:00&quot;,&quot;year&quot;:2022,&quot;month&quot;:5,&quot;day&quot;:15,&quot;taxonomies&quot;:{&quot;tags&quot;:[&quot;K3S&quot;,&quot;Proxmox VE&quot;,&quot;Self-Hosted&quot;,&quot;Docker&quot;]},&quot;extra&quot;:{},&quot;path&quot;:&quot;&#x2F;cn&#x2F;posts&#x2F;my-homelab-introduce&#x2F;&quot;,&quot;components&quot;:[&quot;cn&quot;,&quot;posts&quot;,&quot;my-homelab-introduce&quot;],&quot;summary&quot;:&quot;&lt;p&gt;这篇文章将会介绍一下我的 HomeLab。&lt;&#x2F;p&gt;\n&lt;p&gt;为什么会建设 HomeLab，它给我带来了什么价值？以及为什么是现在的结构，解决了什么问题。&lt;&#x2F;p&gt;\n&quot;,&quot;toc&quot;:[{&quot;level&quot;:2,&quot;id&quot;:&quot;jie-yuan&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;my-homelab-introduce&#x2F;#jie-yuan&quot;,&quot;title&quot;:&quot;结缘&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;shi-jian-xian&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;my-homelab-introduce&#x2F;#shi-jian-xian&quot;,&quot;title&quot;:&quot;时间线&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;zao-qi&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;my-homelab-introduce&#x2F;#zao-qi&quot;,&quot;title&quot;:&quot;早期&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;geng-duo-xu-qiu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;my-homelab-introduce&#x2F;#geng-duo-xu-qiu&quot;,&quot;title&quot;:&quot;更多需求&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;xu-ni-hua-yu-k3s&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;my-homelab-introduce&#x2F;#xu-ni-hua-yu-k3s&quot;,&quot;title&quot;:&quot;虚拟化 与 K3S&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;homelab-de-xian-zhuang&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;my-homelab-introduce&#x2F;#homelab-de-xian-zhuang&quot;,&quot;title&quot;:&quot;HomeLab 的 现状&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;wei-lai&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;my-homelab-introduce&#x2F;#wei-lai&quot;,&quot;title&quot;:&quot;未来&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;homelab-dui-wo-de-jie-zhi&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;my-homelab-introduce&#x2F;#homelab-dui-wo-de-jie-zhi&quot;,&quot;title&quot;:&quot;HomeLab 对我的价值&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;well&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;my-homelab-introduce&#x2F;#well&quot;,&quot;title&quot;:&quot;Well&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;less-well&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;my-homelab-introduce&#x2F;#less-well&quot;,&quot;title&quot;:&quot;Less Well&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;jie-yu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;my-homelab-introduce&#x2F;#jie-yu&quot;,&quot;title&quot;:&quot;结语&quot;,&quot;children&quot;:[]}],&quot;word_count&quot;:1600,&quot;reading_time&quot;:8,&quot;assets&quot;:[&quot;&#x2F;posts&#x2F;my-homelab-introduce&#x2F;authentik.png&quot;],&quot;draft&quot;:false,&quot;lang&quot;:&quot;cn&quot;,&quot;lower&quot;:null,&quot;higher&quot;:null,&quot;translations&quot;:[{&quot;lang&quot;:&quot;cn&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;my-homelab-introduce&#x2F;&quot;,&quot;title&quot;:&quot;My HomeLab&quot;,&quot;path&quot;:&quot;&#x2F;home&#x2F;runner&#x2F;work&#x2F;blog&#x2F;blog&#x2F;content&#x2F;posts&#x2F;my-homelab-introduce&#x2F;index.cn.md&quot;}],&quot;backlinks&quot;:[]},&quot;higher&quot;:{&quot;relative_path&quot;:&quot;posts&#x2F;2021-ending.cn.md&quot;,&quot;content&quot;:&quot;&lt;p&gt;2021年就要过去了，分享一下我今年都干了些什么事请。\n下面会分为几个维度来说。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;zhi-ye\&quot;&gt;职业&lt;&#x2F;h2&gt;\n&lt;p&gt;今年无缝转职成了安全从业人员，学习到了很多 DevSecOps 的知识，同时了解到安全不仅仅是技术开发，有时候流程安全能比应用安全起到更多更大的作用。这里也要感谢一下我的领导们。&lt;&#x2F;p&gt;\n&lt;span id=\&quot;continue-reading\&quot;&gt;&lt;&#x2F;span&gt;\n&lt;p&gt;也更了解如何去和其他人和团队沟通，如何去推动其他人或团队做事情。更高效的完成事情，同时也让双方都觉得比较舒服。以及知道如何去和 stakeholder 沟通，让大家的利益趋向一致。&lt;&#x2F;p&gt;\n&lt;p&gt;在内部处理了 Log4J 这个史诗级的漏洞，不仅快速排查&#x2F;修复问题可能出现的点，而且从多个角度重新审视了整个内部安全流程与 DevSecOps 的设计，收获颇丰。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;ge-ren\&quot;&gt;个人&lt;&#x2F;h2&gt;\n&lt;p&gt;今年在自己这边，提升最大的可能是英语了，了解我的人知道我英语很差（高考五十几分）也没过四级，现在可以用英文与外国同事交流，能写长邮件文档。&lt;&#x2F;p&gt;\n&lt;p&gt;在光顾了心理医生和自己研究学习之后，知道如何排解内心的情绪，也更了解什么时候需要做什么事情，应该大大降低了我自身的跳楼风险，虽然我不是毛星云那样的天才。&lt;&#x2F;p&gt;\n&lt;p&gt;19 年交付的房子，21 年总算是简单搞了一搞，开始住了。&lt;&#x2F;p&gt;\n&lt;p&gt;和女朋友分手一次，复合了，应该&#x2F;也许以后感情会更加稳固。&lt;&#x2F;p&gt;\n&lt;p&gt;从不敢&#x2F;懒得开车变得喜欢开车，虽然会花掉一些精力但确实能节省很多时间。大约开了 1000-2000 公里？一共开车出游两次，装修搬家 N 次，以后再也不是不愿意开车的人了。&lt;&#x2F;p&gt;\n&lt;p&gt;交了几个知心朋友。有痛苦有人分担，有快乐可以分享。&lt;del&gt;[doge] 可谓是分布式 EINDEX 支持系统。&lt;&#x2F;del&gt;&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;ji-zhu\&quot;&gt;技术&lt;&#x2F;h2&gt;\n&lt;p&gt;今年一直打算把 blog 重新弄起来，本来是想用 go 做后端的，前后端展示界面都写好了，后来太懒（管理界面太难做，引入了太多安全与成本问题，收益太低），就做了一个 hugo 的主题，还是半成品之后会继续更新的。&lt;&#x2F;p&gt;\n&lt;p&gt;开源方面：参与了一些简单的开源项目，给 homebrew-cask 维护了一些软件包，自己也学习了 Github Action，还写了一个 leetcode-report，主要都是工具方面的。哦，还有现在这个 hugo 主题也是开源的。虽然还没有人用，哈哈。&lt;&#x2F;p&gt;\n&lt;p&gt;安全方面：学了一些渗透测试的知识，主要在 PentestLab 上，刷了一百五十多题。&lt;&#x2F;p&gt;\n&lt;p&gt;编码方面：前端写的更好了 doge，给自己写了一些 Golang&#x2F;Python 的代码，写了一些脚本自动化的做安全检测（为了摸鱼，结果都开会去了）。&lt;&#x2F;p&gt;\n&lt;p&gt;除此之外，还做了一个自用的 docker-compose 合集，包括密码管理软件 vaultwarden，观影套装 Plex + Sonarr + Radarr + Lidarr + Prowlarr + bazarr + qBT + Trakt 涵盖下载，字母，刮削，播放，观影记录同步。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;she-ying\&quot;&gt;摄影&lt;&#x2F;h2&gt;\n&lt;p&gt;出去玩了几次，拍了几张自己非常满意的风景照片，车果然是摄影最重要的外设，没有之一。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;cai-wu\&quot;&gt;财务&lt;&#x2F;h2&gt;\n&lt;p&gt;今年没怎么攒钱，反而还变少了（装修、车、瞎折腾），离我 500 万的财务自由目标越来越远了。&lt;&#x2F;p&gt;\n&lt;p&gt;唯一的成果可能就是利用 beancount 和自动化脚本来导入微信和支付宝的账单数据，并还可以做一些简单的自动分类。极大的减少了我的记账工作量，虽然也浪费不少钱折腾了Moze等记账软件。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;bai-bi\&quot;&gt;败笔&lt;&#x2F;h2&gt;\n&lt;p&gt;上面说的都是好的，现在说点不好的。&lt;&#x2F;p&gt;\n&lt;p&gt;一方面是自己对感情还有沟通上面的处理很不成熟，以及对技术的渴望，加上一个爱折腾的心，今年多少有些乱。有时候我分不清我自己的决策是不是混杂了很多情感因素，我觉得这样是很不好的。&lt;&#x2F;p&gt;\n&lt;p&gt;在一个是现在的岗位给我过大的心理压力，我总是把自己放分别到开发团队和安全团队中，导致很多时候做事非常割裂，一方面的强硬需求以及另一方面没有配合，让我非常焦虑，我总觉得是我传达的不到位，或者是工作没有做到位，导致开发团队并不理解安全团队的想法是什么。闹了很多乌龙。我认为我就是想太多，两边都想要个好结果。&lt;&#x2F;p&gt;\n&lt;p&gt;反而到年尾来看，确实今年做的这些事情取得了很大的成功，领导们对我负责的团队信任度有很大的提升，团队之间的沟通也变得更加和谐。但是这不符合我现在对自己的职业目标，也许大个一轮，我就很乐意做这份工作了。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;ending\&quot;&gt;Ending&lt;&#x2F;h2&gt;\n&lt;p&gt;今年大致便是如此，希望 2022 年更好，7 年目标里除了财务都在有序的推进。明年多多开源节流，把财务的短板补上来。&lt;&#x2F;p&gt;\n&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;2021-ending&#x2F;&quot;,&quot;slug&quot;:&quot;2021-ending&quot;,&quot;ancestors&quot;:[&quot;_index.cn.md&quot;,&quot;posts&#x2F;_index.cn.md&quot;],&quot;title&quot;:&quot;2021 Ending&quot;,&quot;description&quot;:null,&quot;updated&quot;:null,&quot;date&quot;:&quot;2021-12-29T14:08:01+08:00&quot;,&quot;year&quot;:2021,&quot;month&quot;:12,&quot;day&quot;:29,&quot;taxonomies&quot;:{&quot;tags&quot;:[&quot;Ending&quot;,&quot;Annual Summary&quot;]},&quot;extra&quot;:{},&quot;path&quot;:&quot;&#x2F;cn&#x2F;posts&#x2F;2021-ending&#x2F;&quot;,&quot;components&quot;:[&quot;cn&quot;,&quot;posts&quot;,&quot;2021-ending&quot;],&quot;summary&quot;:&quot;&lt;p&gt;2021年就要过去了，分享一下我今年都干了些什么事请。\n下面会分为几个维度来说。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;zhi-ye\&quot;&gt;职业&lt;&#x2F;h2&gt;\n&lt;p&gt;今年无缝转职成了安全从业人员，学习到了很多 DevSecOps 的知识，同时了解到安全不仅仅是技术开发，有时候流程安全能比应用安全起到更多更大的作用。这里也要感谢一下我的领导们。&lt;&#x2F;p&gt;\n&quot;,&quot;toc&quot;:[{&quot;level&quot;:2,&quot;id&quot;:&quot;zhi-ye&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;2021-ending&#x2F;#zhi-ye&quot;,&quot;title&quot;:&quot;职业&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;ge-ren&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;2021-ending&#x2F;#ge-ren&quot;,&quot;title&quot;:&quot;个人&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;ji-zhu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;2021-ending&#x2F;#ji-zhu&quot;,&quot;title&quot;:&quot;技术&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;she-ying&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;2021-ending&#x2F;#she-ying&quot;,&quot;title&quot;:&quot;摄影&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;cai-wu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;2021-ending&#x2F;#cai-wu&quot;,&quot;title&quot;:&quot;财务&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;bai-bi&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;2021-ending&#x2F;#bai-bi&quot;,&quot;title&quot;:&quot;败笔&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;ending&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;2021-ending&#x2F;#ending&quot;,&quot;title&quot;:&quot;Ending&quot;,&quot;children&quot;:[]}],&quot;word_count&quot;:1346,&quot;reading_time&quot;:7,&quot;assets&quot;:[],&quot;draft&quot;:false,&quot;lang&quot;:&quot;cn&quot;,&quot;lower&quot;:null,&quot;higher&quot;:null,&quot;translations&quot;:[{&quot;lang&quot;:&quot;cn&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;2021-ending&#x2F;&quot;,&quot;title&quot;:&quot;2021 Ending&quot;,&quot;path&quot;:&quot;&#x2F;home&#x2F;runner&#x2F;work&#x2F;blog&#x2F;blog&#x2F;content&#x2F;posts&#x2F;2021-ending.cn.md&quot;}],&quot;backlinks&quot;:[]},&quot;translations&quot;:[{&quot;lang&quot;:&quot;cn&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;introspection&#x2F;&quot;,&quot;title&quot;:&quot;反躬自问&quot;,&quot;path&quot;:&quot;&#x2F;home&#x2F;runner&#x2F;work&#x2F;blog&#x2F;blog&#x2F;content&#x2F;posts&#x2F;introspection.cn.md&quot;}],&quot;backlinks&quot;:[]},{&quot;relative_path&quot;:&quot;posts&#x2F;2021-ending.cn.md&quot;,&quot;content&quot;:&quot;&lt;p&gt;2021年就要过去了，分享一下我今年都干了些什么事请。\n下面会分为几个维度来说。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;zhi-ye\&quot;&gt;职业&lt;&#x2F;h2&gt;\n&lt;p&gt;今年无缝转职成了安全从业人员，学习到了很多 DevSecOps 的知识，同时了解到安全不仅仅是技术开发，有时候流程安全能比应用安全起到更多更大的作用。这里也要感谢一下我的领导们。&lt;&#x2F;p&gt;\n&lt;span id=\&quot;continue-reading\&quot;&gt;&lt;&#x2F;span&gt;\n&lt;p&gt;也更了解如何去和其他人和团队沟通，如何去推动其他人或团队做事情。更高效的完成事情，同时也让双方都觉得比较舒服。以及知道如何去和 stakeholder 沟通，让大家的利益趋向一致。&lt;&#x2F;p&gt;\n&lt;p&gt;在内部处理了 Log4J 这个史诗级的漏洞，不仅快速排查&#x2F;修复问题可能出现的点，而且从多个角度重新审视了整个内部安全流程与 DevSecOps 的设计，收获颇丰。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;ge-ren\&quot;&gt;个人&lt;&#x2F;h2&gt;\n&lt;p&gt;今年在自己这边，提升最大的可能是英语了，了解我的人知道我英语很差（高考五十几分）也没过四级，现在可以用英文与外国同事交流，能写长邮件文档。&lt;&#x2F;p&gt;\n&lt;p&gt;在光顾了心理医生和自己研究学习之后，知道如何排解内心的情绪，也更了解什么时候需要做什么事情，应该大大降低了我自身的跳楼风险，虽然我不是毛星云那样的天才。&lt;&#x2F;p&gt;\n&lt;p&gt;19 年交付的房子，21 年总算是简单搞了一搞，开始住了。&lt;&#x2F;p&gt;\n&lt;p&gt;和女朋友分手一次，复合了，应该&#x2F;也许以后感情会更加稳固。&lt;&#x2F;p&gt;\n&lt;p&gt;从不敢&#x2F;懒得开车变得喜欢开车，虽然会花掉一些精力但确实能节省很多时间。大约开了 1000-2000 公里？一共开车出游两次，装修搬家 N 次，以后再也不是不愿意开车的人了。&lt;&#x2F;p&gt;\n&lt;p&gt;交了几个知心朋友。有痛苦有人分担，有快乐可以分享。&lt;del&gt;[doge] 可谓是分布式 EINDEX 支持系统。&lt;&#x2F;del&gt;&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;ji-zhu\&quot;&gt;技术&lt;&#x2F;h2&gt;\n&lt;p&gt;今年一直打算把 blog 重新弄起来，本来是想用 go 做后端的，前后端展示界面都写好了，后来太懒（管理界面太难做，引入了太多安全与成本问题，收益太低），就做了一个 hugo 的主题，还是半成品之后会继续更新的。&lt;&#x2F;p&gt;\n&lt;p&gt;开源方面：参与了一些简单的开源项目，给 homebrew-cask 维护了一些软件包，自己也学习了 Github Action，还写了一个 leetcode-report，主要都是工具方面的。哦，还有现在这个 hugo 主题也是开源的。虽然还没有人用，哈哈。&lt;&#x2F;p&gt;\n&lt;p&gt;安全方面：学了一些渗透测试的知识，主要在 PentestLab 上，刷了一百五十多题。&lt;&#x2F;p&gt;\n&lt;p&gt;编码方面：前端写的更好了 doge，给自己写了一些 Golang&#x2F;Python 的代码，写了一些脚本自动化的做安全检测（为了摸鱼，结果都开会去了）。&lt;&#x2F;p&gt;\n&lt;p&gt;除此之外，还做了一个自用的 docker-compose 合集，包括密码管理软件 vaultwarden，观影套装 Plex + Sonarr + Radarr + Lidarr + Prowlarr + bazarr + qBT + Trakt 涵盖下载，字母，刮削，播放，观影记录同步。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;she-ying\&quot;&gt;摄影&lt;&#x2F;h2&gt;\n&lt;p&gt;出去玩了几次，拍了几张自己非常满意的风景照片，车果然是摄影最重要的外设，没有之一。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;cai-wu\&quot;&gt;财务&lt;&#x2F;h2&gt;\n&lt;p&gt;今年没怎么攒钱，反而还变少了（装修、车、瞎折腾），离我 500 万的财务自由目标越来越远了。&lt;&#x2F;p&gt;\n&lt;p&gt;唯一的成果可能就是利用 beancount 和自动化脚本来导入微信和支付宝的账单数据，并还可以做一些简单的自动分类。极大的减少了我的记账工作量，虽然也浪费不少钱折腾了Moze等记账软件。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;bai-bi\&quot;&gt;败笔&lt;&#x2F;h2&gt;\n&lt;p&gt;上面说的都是好的，现在说点不好的。&lt;&#x2F;p&gt;\n&lt;p&gt;一方面是自己对感情还有沟通上面的处理很不成熟，以及对技术的渴望，加上一个爱折腾的心，今年多少有些乱。有时候我分不清我自己的决策是不是混杂了很多情感因素，我觉得这样是很不好的。&lt;&#x2F;p&gt;\n&lt;p&gt;在一个是现在的岗位给我过大的心理压力，我总是把自己放分别到开发团队和安全团队中，导致很多时候做事非常割裂，一方面的强硬需求以及另一方面没有配合，让我非常焦虑，我总觉得是我传达的不到位，或者是工作没有做到位，导致开发团队并不理解安全团队的想法是什么。闹了很多乌龙。我认为我就是想太多，两边都想要个好结果。&lt;&#x2F;p&gt;\n&lt;p&gt;反而到年尾来看，确实今年做的这些事情取得了很大的成功，领导们对我负责的团队信任度有很大的提升，团队之间的沟通也变得更加和谐。但是这不符合我现在对自己的职业目标，也许大个一轮，我就很乐意做这份工作了。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;ending\&quot;&gt;Ending&lt;&#x2F;h2&gt;\n&lt;p&gt;今年大致便是如此，希望 2022 年更好，7 年目标里除了财务都在有序的推进。明年多多开源节流，把财务的短板补上来。&lt;&#x2F;p&gt;\n&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;2021-ending&#x2F;&quot;,&quot;slug&quot;:&quot;2021-ending&quot;,&quot;ancestors&quot;:[&quot;_index.cn.md&quot;,&quot;posts&#x2F;_index.cn.md&quot;],&quot;title&quot;:&quot;2021 Ending&quot;,&quot;description&quot;:null,&quot;updated&quot;:null,&quot;date&quot;:&quot;2021-12-29T14:08:01+08:00&quot;,&quot;year&quot;:2021,&quot;month&quot;:12,&quot;day&quot;:29,&quot;taxonomies&quot;:{&quot;tags&quot;:[&quot;Ending&quot;,&quot;Annual Summary&quot;]},&quot;extra&quot;:{},&quot;path&quot;:&quot;&#x2F;cn&#x2F;posts&#x2F;2021-ending&#x2F;&quot;,&quot;components&quot;:[&quot;cn&quot;,&quot;posts&quot;,&quot;2021-ending&quot;],&quot;summary&quot;:&quot;&lt;p&gt;2021年就要过去了，分享一下我今年都干了些什么事请。\n下面会分为几个维度来说。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;zhi-ye\&quot;&gt;职业&lt;&#x2F;h2&gt;\n&lt;p&gt;今年无缝转职成了安全从业人员，学习到了很多 DevSecOps 的知识，同时了解到安全不仅仅是技术开发，有时候流程安全能比应用安全起到更多更大的作用。这里也要感谢一下我的领导们。&lt;&#x2F;p&gt;\n&quot;,&quot;toc&quot;:[{&quot;level&quot;:2,&quot;id&quot;:&quot;zhi-ye&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;2021-ending&#x2F;#zhi-ye&quot;,&quot;title&quot;:&quot;职业&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;ge-ren&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;2021-ending&#x2F;#ge-ren&quot;,&quot;title&quot;:&quot;个人&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;ji-zhu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;2021-ending&#x2F;#ji-zhu&quot;,&quot;title&quot;:&quot;技术&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;she-ying&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;2021-ending&#x2F;#she-ying&quot;,&quot;title&quot;:&quot;摄影&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;cai-wu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;2021-ending&#x2F;#cai-wu&quot;,&quot;title&quot;:&quot;财务&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;bai-bi&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;2021-ending&#x2F;#bai-bi&quot;,&quot;title&quot;:&quot;败笔&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;ending&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;2021-ending&#x2F;#ending&quot;,&quot;title&quot;:&quot;Ending&quot;,&quot;children&quot;:[]}],&quot;word_count&quot;:1346,&quot;reading_time&quot;:7,&quot;assets&quot;:[],&quot;draft&quot;:false,&quot;lang&quot;:&quot;cn&quot;,&quot;lower&quot;:{&quot;relative_path&quot;:&quot;posts&#x2F;introspection.cn.md&quot;,&quot;content&quot;:&quot;&lt;h2 id=\&quot;yuan-qi\&quot;&gt;缘起&lt;&#x2F;h2&gt;\n&lt;p&gt;事情还得从一次因防疫政策变化导致的“特殊”出差说起。&lt;&#x2F;p&gt;\n&lt;p&gt;人在远离舒适圈的时候，总会经历种种困难与不适，噪音、拥挤、打卡、隔离、被缩短的工期、不合理的政策……都让“出差”成为了一项挑战，而“疫情”和“三年第一次出差”，这两重因素的叠加，更让我对这次出差中将面临的未知感到恐惧，这种恐惧甚至大于好奇。&lt;&#x2F;p&gt;\n&lt;p&gt;下面我会尝试用“自我问答”的方式，记录这次出差的体验与感想。&lt;&#x2F;p&gt;\n&lt;span id=\&quot;continue-reading\&quot;&gt;&lt;&#x2F;span&gt;&lt;h2 id=\&quot;zi-wen\&quot;&gt;自问&lt;&#x2F;h2&gt;\n&lt;h3 id=\&quot;yi-shi-zhu-xing-shang-you-shi-yao-ti-yan\&quot;&gt;衣食住行上有什么体验？&lt;&#x2F;h3&gt;\n&lt;p&gt;衣：没啥好说的，我在出发前带了一些换洗衣服，还在当地“程序员服装供应商”之一的优衣库那的采购了一点新的。&lt;&#x2F;p&gt;\n&lt;p&gt;食：我吃不惯，太辣，成都人的口味真的好重。&lt;&#x2F;p&gt;\n&lt;p&gt;住：我隔离的时候住在宿舍里，嗯，怎么说呢。除了床之外，其他都挺好，床就是块板子，让腰疼的我“疼上加疼”😭。后几天的隔离时间里，我都睡沙发了，让我惊讶的是，沙发居然比床睡着舒服。再后面就住进酒店了，成都这边水质不好，我洗澡的时候有很严重地过敏反应。&lt;&#x2F;p&gt;\n&lt;p&gt;行：我几十年都没坐过飞机了，这次坐飞机突然发现，原来坐飞机这么挤，这么吵。安检的时候，安检小哥恨不得要把你“扒光”。我很讨厌这种感觉，但谁让飞机飞得快呢。之后会再和坐高铁需要的时间做比较，以后可能会倾向于总时长更短的。出门在外，“失去了”家里的“小破车”，只能选公共交通或者的士，这让我的行动范围变小了。&lt;&#x2F;p&gt;\n&lt;p&gt;更新: 返程时乘坐的是&lt;code&gt;空客321&lt;&#x2F;code&gt;,去程坐的是&lt;code&gt;波音737-800&lt;&#x2F;code&gt;，都是经济舱，空客体验完爆波音。&lt;&#x2F;p&gt;\n&lt;p&gt;成都街上绿化做得特别好，到处都有鸟叫声，而且大多数马路中间都有树，有的人行道上也种了很多树，空气质量也挺好的，就连在其他城市横冲直闯的外卖小哥，在这边也是走路送餐。我住在成都腾讯附近，在住处周围看见了很多互联网公司，相比我的城市来说，成都确实更适合“互联网人”的发展。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;dao-jin-tian-wei-zhi-dui-zhe-ci-de-chu-chai-you-shi-yao-gan-shou-ma\&quot;&gt;到今天为止，对这次的出差有什么感受吗？&lt;&#x2F;h3&gt;\n&lt;p&gt;我原来觉得我对很多事情没啥特别的要求，但经过这次出差，我发现我屁事还挺多的。&lt;&#x2F;p&gt;\n&lt;p&gt;喝上，要有净水器，还有随时能喝上的新鲜咖啡；工作&#x2F;学习上需要好的办公椅和升降办公桌；玩上要有4k高色准大彩电和音响系统；吃上得有厨房和不错的厨具，要能做饭，最好能有洗碗机。另外，窗外要有不错的风景，洗衣机要可以烘干，出门要开车，需要很好的隔音与遮光来保证睡眠，最重要的是，床要有中高档床垫。&lt;&#x2F;p&gt;\n&lt;p&gt;我当然理解不是所有人都需要这些所谓的“舒适条件”，但它们对我来说是不可缺少的。尤其是对于第一次出差、第一次乘飞机、第一次被隔离的我来说，我并没有做好失去它们的准备，但现实总是让人猝不及防，而离开了家的我，也只能接受这个现实。&lt;&#x2F;p&gt;\n&lt;p&gt;这些经历使得我更加理解和认可一个广告理念：卖给你的不是东西，而是一种生活方式。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;you-cai-qu-shi-yao-cuo-shi-huan-jie-tong-ku-huo-zhe-gai-shan-xian-zhuang-ma\&quot;&gt;有采取什么措施缓解“痛苦”或者改善现状吗？&lt;&#x2F;h3&gt;\n&lt;p&gt;当然是有的，对于舒适度上的需求，其实是可以通过一定程度上的锻炼来缓解的，毕竟身体好一点的话，对不同环境的适应能力也要强一点，至少腰不会那么疼。&lt;&#x2F;p&gt;\n&lt;p&gt;情绪上，我选择自己烹饪，同时还把大量的精力放在家里的 HomeLab 上，来转移被隔离影响的心情。另外，我也在看电影、上网吐槽，包括我写这篇博客的动机也是为了缓解情绪上的压力。&lt;&#x2F;p&gt;\n&lt;p&gt;为了老腰，隔离结束的第一天我就搬到酒店去住了，还去报复性消费了一波。哦，还剪了一个生平最丑（没有之一）的发型。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;zhi-hou-you-shi-yao-da-suan\&quot;&gt;之后有什么打算？&lt;&#x2F;h3&gt;\n&lt;p&gt;以后出差前还是得多考虑一下，不能随便答应。一个是因为自己的身体也不太行，另一个是女朋友也不是吃素的，最好还是不要长时间出差了。一个月就很长了。如果是出国，可以另外考虑考虑。&lt;&#x2F;p&gt;\n&lt;p&gt;身体上还是要坚持锻炼啊，先减肥再练核心，帮老腰过过难关呀，不能被身体限制住了发展。&lt;&#x2F;p&gt;\n&lt;p&gt;工作上还是要找到自己的价值所在，毕竟是我司中国里最年轻（菜）的应用安全专（砖）家，以后怎么发展，是不是应该专注更多的去做自己擅长的事情……都是要思考的&lt;&#x2F;p&gt;\n&lt;p&gt;对于我的财务自由计划，现在完成了差不多 1&#x2F;20，感觉上勉勉强强吧。我之后会用更多的时间去发展一些兴趣爱好，可能也会花更多的精力去开展一下副业吧，公司里的平台还是比较有限。还是得多自力更生啊。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;hou-ji\&quot;&gt;后记&lt;&#x2F;h2&gt;\n&lt;p&gt;对我来说，这次出差是一次很坏却也很好的事情，好的方面是，和从前相比，我能更清晰、更坚定地说出我要什么，我想要做什么，能更快地采取行动去实践自己的想法、能在逆境中调整心情、能抗压、能想办法给自己获取资源、能主动和自己的 stakeholders 保持不错的联系。有了更成熟的思维体系，对在控制范围内和不在控制范围内的事情，能更加自如地应对。&lt;&#x2F;p&gt;\n&lt;p&gt;不知道心理测量量表还会不会把我放到轻度抑郁症患者范围里。不管如何，有一个成熟的适合自己的思维体系，确实对我的发展有很大助益。&lt;&#x2F;p&gt;\n&lt;p&gt;希望以后每年都能有一次类似的经历或者体会，谁又会不渴望变得更高更快更强呢。&lt;&#x2F;p&gt;\n&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;introspection&#x2F;&quot;,&quot;slug&quot;:&quot;introspection&quot;,&quot;ancestors&quot;:[&quot;_index.cn.md&quot;,&quot;posts&#x2F;_index.cn.md&quot;],&quot;title&quot;:&quot;反躬自问&quot;,&quot;description&quot;:null,&quot;updated&quot;:null,&quot;date&quot;:&quot;2022-05-02T17:13:36+08:00&quot;,&quot;year&quot;:2022,&quot;month&quot;:5,&quot;day&quot;:2,&quot;taxonomies&quot;:{&quot;tags&quot;:[&quot;Introspection&quot;]},&quot;extra&quot;:{},&quot;path&quot;:&quot;&#x2F;cn&#x2F;posts&#x2F;introspection&#x2F;&quot;,&quot;components&quot;:[&quot;cn&quot;,&quot;posts&quot;,&quot;introspection&quot;],&quot;summary&quot;:&quot;&lt;h2 id=\&quot;yuan-qi\&quot;&gt;缘起&lt;&#x2F;h2&gt;\n&lt;p&gt;事情还得从一次因防疫政策变化导致的“特殊”出差说起。&lt;&#x2F;p&gt;\n&lt;p&gt;人在远离舒适圈的时候，总会经历种种困难与不适，噪音、拥挤、打卡、隔离、被缩短的工期、不合理的政策……都让“出差”成为了一项挑战，而“疫情”和“三年第一次出差”，这两重因素的叠加，更让我对这次出差中将面临的未知感到恐惧，这种恐惧甚至大于好奇。&lt;&#x2F;p&gt;\n&lt;p&gt;下面我会尝试用“自我问答”的方式，记录这次出差的体验与感想。&lt;&#x2F;p&gt;\n&quot;,&quot;toc&quot;:[{&quot;level&quot;:2,&quot;id&quot;:&quot;yuan-qi&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;introspection&#x2F;#yuan-qi&quot;,&quot;title&quot;:&quot;缘起&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;zi-wen&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;introspection&#x2F;#zi-wen&quot;,&quot;title&quot;:&quot;自问&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;yi-shi-zhu-xing-shang-you-shi-yao-ti-yan&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;introspection&#x2F;#yi-shi-zhu-xing-shang-you-shi-yao-ti-yan&quot;,&quot;title&quot;:&quot;衣食住行上有什么体验？&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;dao-jin-tian-wei-zhi-dui-zhe-ci-de-chu-chai-you-shi-yao-gan-shou-ma&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;introspection&#x2F;#dao-jin-tian-wei-zhi-dui-zhe-ci-de-chu-chai-you-shi-yao-gan-shou-ma&quot;,&quot;title&quot;:&quot;到今天为止，对这次的出差有什么感受吗？&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;you-cai-qu-shi-yao-cuo-shi-huan-jie-tong-ku-huo-zhe-gai-shan-xian-zhuang-ma&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;introspection&#x2F;#you-cai-qu-shi-yao-cuo-shi-huan-jie-tong-ku-huo-zhe-gai-shan-xian-zhuang-ma&quot;,&quot;title&quot;:&quot;有采取什么措施缓解“痛苦”或者改善现状吗？&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;zhi-hou-you-shi-yao-da-suan&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;introspection&#x2F;#zhi-hou-you-shi-yao-da-suan&quot;,&quot;title&quot;:&quot;之后有什么打算？&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;hou-ji&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;introspection&#x2F;#hou-ji&quot;,&quot;title&quot;:&quot;后记&quot;,&quot;children&quot;:[]}],&quot;word_count&quot;:1648,&quot;reading_time&quot;:9,&quot;assets&quot;:[],&quot;draft&quot;:false,&quot;lang&quot;:&quot;cn&quot;,&quot;lower&quot;:null,&quot;higher&quot;:null,&quot;translations&quot;:[{&quot;lang&quot;:&quot;cn&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;introspection&#x2F;&quot;,&quot;title&quot;:&quot;反躬自问&quot;,&quot;path&quot;:&quot;&#x2F;home&#x2F;runner&#x2F;work&#x2F;blog&#x2F;blog&#x2F;content&#x2F;posts&#x2F;introspection.cn.md&quot;}],&quot;backlinks&quot;:[]},&quot;higher&quot;:{&quot;relative_path&quot;:&quot;posts&#x2F;beancount-introduce.cn.md&quot;,&quot;content&quot;:&quot;&lt;p&gt;本文简单介绍一下复式记账和 Beancount 的使用方法。&lt;&#x2F;p&gt;\n&lt;span id=\&quot;continue-reading\&quot;&gt;&lt;&#x2F;span&gt;&lt;h2 id=\&quot;wei-shi-yao-yao-ji-zhang\&quot;&gt;为什么要记账&lt;&#x2F;h2&gt;\n&lt;p&gt;记账是理财的第一步，熟话说得好：”你不理财，才不理你。“&lt;&#x2F;p&gt;\n&lt;p&gt;记账可以明确自己每一笔钱花在哪去了，这个月最大的开销是什么，以及对自己的冲动消费、不必要消费能有一个反思。&lt;&#x2F;p&gt;\n&lt;p&gt;我曾使用过很多记账软件如：挖财、随手记、网易有钱、MoneyWiz、MOZE 等，其实记账最大的问题在于很难坚持下来，因为短期来看记账的收益并不高，而从长远来看，账本也能体现经济的健康状况。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;fu-shi-ji-zhang-shi-shi-yao\&quot;&gt;复式记账是什么&lt;&#x2F;h2&gt;\n&lt;p&gt;复式记账（Double Entry Bookkeeping）是以资产与权益平衡关系作为记账基础，对每一笔账单，都要以相等的金额在两个相互联系的账户中进行记录。&lt;&#x2F;p&gt;\n&lt;p&gt;原理：\n&lt;code&gt;资产 = 负债 + 所有者权益&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;\n&lt;p&gt;复式记账的优点是：&lt;&#x2F;p&gt;\n&lt;ul&gt;\n&lt;li&gt;账户对应关系清楚，可以鲜明的表示各种经济活动的来龙去脉。&lt;&#x2F;li&gt;\n&lt;li&gt;有借必有贷，借贷必相等的记账方式，对于检查账单是否记对非常有帮助。&lt;&#x2F;li&gt;\n&lt;&#x2F;ul&gt;\n&lt;h2 id=\&quot;he-wei-beancount\&quot;&gt;何为 Beancount&lt;&#x2F;h2&gt;\n&lt;p&gt;Beancount 是一个用 Python 实现的开源复式记账软件。&lt;&#x2F;p&gt;\n&lt;p&gt;数据文件基于纯文本，所以不用担心程序出问题，数据没法看懂。&lt;&#x2F;p&gt;\n&lt;p&gt;Beancount（fava）的界面大概是这个样子。\n&lt;img src=\&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;beancount-introduce&#x2F;media&#x2F;15676038764861&#x2F;15676114899083.jpg\&quot; alt=\&quot;-w2638\&quot; &#x2F;&gt;\n&lt;img src=\&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;beancount-introduce&#x2F;media&#x2F;15676038764861&#x2F;15676115071325.jpg\&quot; alt=\&quot;-w1319\&quot; &#x2F;&gt;&lt;&#x2F;p&gt;\n&lt;p&gt;Beancount 的优点：&lt;&#x2F;p&gt;\n&lt;ol&gt;\n&lt;li&gt;开源，可以自己写功能。&lt;&#x2F;li&gt;\n&lt;li&gt;数据基于纯文本，自己掌握所有数据，不担心隐私泄露。&lt;&#x2F;li&gt;\n&lt;li&gt;支持各种图标，支持SQL查询生成报表。&lt;&#x2F;li&gt;\n&lt;li&gt;支持预算（fava）。&lt;&#x2F;li&gt;\n&lt;li&gt;支持无限账本、无限账户、无限币种。&lt;&#x2F;li&gt;\n&lt;li&gt;可以导入各种账单文件（有些需要写代码支持）。&lt;&#x2F;li&gt;\n&lt;li&gt;可以用 Git、iCloud 等工具来管理账本。&lt;&#x2F;li&gt;\n&lt;&#x2F;ol&gt;\n&lt;p&gt;不仅如此，Beancount 还可以量化年假，产假等等非标准金融标的。&lt;&#x2F;p&gt;\n&lt;p&gt;例如讲公司年假记为一笔收入，从公司账户转入到个人账户，成为资产。使用掉年假，则把年假从个人资产转出到消费即可。这样就相当于把年假消费掉了。而年假的货币单位可以设置成 Day。&lt;&#x2F;p&gt;\n&lt;p&gt;写在 Beancount 里大概是这个样子。&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;beancount\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-beancount \&quot;&gt;&lt;code class=\&quot;language-beancount\&quot; data-lang=\&quot;beancount\&quot;&gt;&lt;span&gt;2019-04-24 * &amp;quot;CompanyName&amp;quot; &amp;quot;请假一天休息&amp;quot;\n&lt;&#x2F;span&gt;&lt;span&gt;  Assets:Leave                              -1.00 DAY\n&lt;&#x2F;span&gt;&lt;span&gt;  Expenses:Health\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;2019-04-01 * &amp;quot;CompanyName&amp;quot; &amp;quot;年假-初始化&amp;quot;\n&lt;&#x2F;span&gt;&lt;span&gt;  Income:Job:CompanyName:Leave\n&lt;&#x2F;span&gt;&lt;span&gt;  Assets:Leave                                 +7.00 DAY\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h2 id=\&quot;ji-ben-yu-fa\&quot;&gt;基本语法&lt;&#x2F;h2&gt;\n&lt;h3 id=\&quot;ji-ben-ge-shi\&quot;&gt;基本格式&lt;&#x2F;h3&gt;\n&lt;pre style=\&quot;background-color:#272822;color:#f8f8f2;\&quot;&gt;&lt;code&gt;&lt;span&gt;YYYY-MM-DD &amp;lt;directive&amp;gt; &amp;lt;arguments...&amp;gt;\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h3 id=\&quot;chuang-jian-huo-bi\&quot;&gt;创建货币&lt;&#x2F;h3&gt;\n&lt;pre style=\&quot;background-color:#272822;color:#f8f8f2;\&quot;&gt;&lt;code&gt;&lt;span&gt;option &amp;quot;operating_currency&amp;quot; &amp;quot;CNY&amp;quot;\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h3 id=\&quot;zhang-hu-xiang-guan\&quot;&gt;账户相关&lt;&#x2F;h3&gt;\n&lt;p&gt;创建账户&lt;&#x2F;p&gt;\n&lt;pre style=\&quot;background-color:#272822;color:#f8f8f2;\&quot;&gt;&lt;code&gt;&lt;span&gt;1970-01-01 open Assets:Bank:ABC CNY\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;p&gt;备注账户&lt;&#x2F;p&gt;\n&lt;pre style=\&quot;background-color:#272822;color:#f8f8f2;\&quot;&gt;&lt;code&gt;&lt;span&gt;1970-01-01 note Assets:Bank:ABC &amp;quot;农行卡&amp;quot;\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;p&gt;关闭帐户，账户关闭后就可以在现实界面上过滤掉已经关闭的账户。&lt;&#x2F;p&gt;\n&lt;pre style=\&quot;background-color:#272822;color:#f8f8f2;\&quot;&gt;&lt;code&gt;&lt;span&gt;1970-01-02 close Assets:Bank:ABC\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h3 id=\&quot;jiao-yi\&quot;&gt;交易&lt;&#x2F;h3&gt;\n&lt;p&gt;这是单笔简单交易的写法，表示我去美食风暴用微信支付吃了个盒饭。&lt;&#x2F;p&gt;\n&lt;pre style=\&quot;background-color:#272822;color:#f8f8f2;\&quot;&gt;&lt;code&gt;&lt;span&gt;2019-08-02 * &amp;quot;美食风暴&amp;quot; &amp;quot;盒饭&amp;quot;\n&lt;&#x2F;span&gt;&lt;span&gt;  Assets:Wechat:EINDEX                                  -18 CNY\n&lt;&#x2F;span&gt;&lt;span&gt;  Expenses:Food:Restaurant:Lunch       \n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h3 id=\&quot;she-zhi-jie-ge\&quot;&gt;设置价格&lt;&#x2F;h3&gt;\n&lt;p&gt;可以这是各种“货币”之间的价格转换。如果用上程序员思维，我们就可以实现股票价格跟踪、汇率跟踪等等。来提高账本的准确度。&lt;&#x2F;p&gt;\n&lt;pre style=\&quot;background-color:#272822;color:#f8f8f2;\&quot;&gt;&lt;code&gt;&lt;span&gt;2019-10-01 price USD 7 CNY\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h3 id=\&quot;yu-e-zi-dong-she-zhi\&quot;&gt;余额自动设置&lt;&#x2F;h3&gt;\n&lt;p&gt;这是一个偷懒必备功能，下面的 &lt;code&gt;pad&lt;&#x2F;code&gt;，我农行卡自动平账使用&lt;code&gt;Equity:Opening-Balances&lt;&#x2F;code&gt;，明天的 &lt;code&gt;balance&lt;&#x2F;code&gt; 表示在 2019年10月02日时这张卡的余额为4000CNY，如果旧的账单不平就会从&lt;code&gt;Equity:Opening-Balances&lt;&#x2F;code&gt;自动平账。&lt;&#x2F;p&gt;\n&lt;pre style=\&quot;background-color:#272822;color:#f8f8f2;\&quot;&gt;&lt;code&gt;&lt;span&gt;2019-10-01 pad Assets:Bank:ABC Equity:Opening-Balances\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;2019-10-02 balance Assets:Bank:ABC 4000 CNY\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;p&gt;如果未来要在这个账户过去的账目上做删改，2019年10月1日的余额也会是4000元不变。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;shi-yong-beancount\&quot;&gt;使用 Beancount&lt;&#x2F;h2&gt;\n&lt;p&gt;首先需要安装 Python 3，然后安装 beancount、fava。&lt;&#x2F;p&gt;\n&lt;pre style=\&quot;background-color:#272822;color:#f8f8f2;\&quot;&gt;&lt;code&gt;&lt;span&gt;pip install beancount fava\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;p&gt;&lt;code&gt;fava&lt;&#x2F;code&gt; 是 beancount 的一个 WebUI 实现，可以可视化的看见自己的账本。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;example\&quot;&gt;Example&lt;&#x2F;h3&gt;\n&lt;p&gt;官方提供了一个 Beancount 的使用用例。&lt;&#x2F;p&gt;\n&lt;pre style=\&quot;background-color:#272822;color:#f8f8f2;\&quot;&gt;&lt;code&gt;&lt;span&gt;bean-example &amp;gt; example.bean\n&lt;&#x2F;span&gt;&lt;span&gt;fava example.bean\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;p&gt;然后打开 &lt;code&gt;localhost:5000&lt;&#x2F;code&gt; 就可以在本地体验 Beancount 与 fava 了。&lt;&#x2F;p&gt;\n&lt;p&gt;&lt;img src=\&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;beancount-introduce&#x2F;media&#x2F;15676038764861&#x2F;15676114399432.jpg\&quot; alt=\&quot;-w1315\&quot; &#x2F;&gt;&lt;&#x2F;p&gt;\n&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;beancount-introduce&#x2F;&quot;,&quot;slug&quot;:&quot;beancount-introduce&quot;,&quot;ancestors&quot;:[&quot;_index.cn.md&quot;,&quot;posts&#x2F;_index.cn.md&quot;],&quot;title&quot;:&quot;复式记账工具 Beancount&quot;,&quot;description&quot;:null,&quot;updated&quot;:null,&quot;date&quot;:&quot;2019-11-30T00:00:00+08:00&quot;,&quot;year&quot;:2019,&quot;month&quot;:11,&quot;day&quot;:30,&quot;taxonomies&quot;:{&quot;tags&quot;:[&quot;Beancount&quot;],&quot;series&quot;:[&quot;algorithm&quot;]},&quot;extra&quot;:{},&quot;path&quot;:&quot;&#x2F;cn&#x2F;posts&#x2F;beancount-introduce&#x2F;&quot;,&quot;components&quot;:[&quot;cn&quot;,&quot;posts&quot;,&quot;beancount-introduce&quot;],&quot;summary&quot;:&quot;&lt;p&gt;本文简单介绍一下复式记账和 Beancount 的使用方法。&lt;&#x2F;p&gt;\n&quot;,&quot;toc&quot;:[{&quot;level&quot;:2,&quot;id&quot;:&quot;wei-shi-yao-yao-ji-zhang&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;beancount-introduce&#x2F;#wei-shi-yao-yao-ji-zhang&quot;,&quot;title&quot;:&quot;为什么要记账&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;fu-shi-ji-zhang-shi-shi-yao&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;beancount-introduce&#x2F;#fu-shi-ji-zhang-shi-shi-yao&quot;,&quot;title&quot;:&quot;复式记账是什么&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;he-wei-beancount&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;beancount-introduce&#x2F;#he-wei-beancount&quot;,&quot;title&quot;:&quot;何为 Beancount&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;ji-ben-yu-fa&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;beancount-introduce&#x2F;#ji-ben-yu-fa&quot;,&quot;title&quot;:&quot;基本语法&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;ji-ben-ge-shi&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;beancount-introduce&#x2F;#ji-ben-ge-shi&quot;,&quot;title&quot;:&quot;基本格式&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;chuang-jian-huo-bi&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;beancount-introduce&#x2F;#chuang-jian-huo-bi&quot;,&quot;title&quot;:&quot;创建货币&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;zhang-hu-xiang-guan&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;beancount-introduce&#x2F;#zhang-hu-xiang-guan&quot;,&quot;title&quot;:&quot;账户相关&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;jiao-yi&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;beancount-introduce&#x2F;#jiao-yi&quot;,&quot;title&quot;:&quot;交易&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;she-zhi-jie-ge&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;beancount-introduce&#x2F;#she-zhi-jie-ge&quot;,&quot;title&quot;:&quot;设置价格&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;yu-e-zi-dong-she-zhi&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;beancount-introduce&#x2F;#yu-e-zi-dong-she-zhi&quot;,&quot;title&quot;:&quot;余额自动设置&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;shi-yong-beancount&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;beancount-introduce&#x2F;#shi-yong-beancount&quot;,&quot;title&quot;:&quot;使用 Beancount&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;example&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;beancount-introduce&#x2F;#example&quot;,&quot;title&quot;:&quot;Example&quot;,&quot;children&quot;:[]}]}],&quot;word_count&quot;:1012,&quot;reading_time&quot;:6,&quot;assets&quot;:[],&quot;draft&quot;:false,&quot;lang&quot;:&quot;cn&quot;,&quot;lower&quot;:null,&quot;higher&quot;:null,&quot;translations&quot;:[{&quot;lang&quot;:&quot;cn&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;beancount-introduce&#x2F;&quot;,&quot;title&quot;:&quot;复式记账工具 Beancount&quot;,&quot;path&quot;:&quot;&#x2F;home&#x2F;runner&#x2F;work&#x2F;blog&#x2F;blog&#x2F;content&#x2F;posts&#x2F;beancount-introduce.cn.md&quot;}],&quot;backlinks&quot;:[{&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;my-homelab-introduce&#x2F;&quot;,&quot;title&quot;:&quot;My HomeLab&quot;}]},&quot;translations&quot;:[{&quot;lang&quot;:&quot;cn&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;2021-ending&#x2F;&quot;,&quot;title&quot;:&quot;2021 Ending&quot;,&quot;path&quot;:&quot;&#x2F;home&#x2F;runner&#x2F;work&#x2F;blog&#x2F;blog&#x2F;content&#x2F;posts&#x2F;2021-ending.cn.md&quot;}],&quot;backlinks&quot;:[]},{&quot;relative_path&quot;:&quot;posts&#x2F;beancount-introduce.cn.md&quot;,&quot;content&quot;:&quot;&lt;p&gt;本文简单介绍一下复式记账和 Beancount 的使用方法。&lt;&#x2F;p&gt;\n&lt;span id=\&quot;continue-reading\&quot;&gt;&lt;&#x2F;span&gt;&lt;h2 id=\&quot;wei-shi-yao-yao-ji-zhang\&quot;&gt;为什么要记账&lt;&#x2F;h2&gt;\n&lt;p&gt;记账是理财的第一步，熟话说得好：”你不理财，才不理你。“&lt;&#x2F;p&gt;\n&lt;p&gt;记账可以明确自己每一笔钱花在哪去了，这个月最大的开销是什么，以及对自己的冲动消费、不必要消费能有一个反思。&lt;&#x2F;p&gt;\n&lt;p&gt;我曾使用过很多记账软件如：挖财、随手记、网易有钱、MoneyWiz、MOZE 等，其实记账最大的问题在于很难坚持下来，因为短期来看记账的收益并不高，而从长远来看，账本也能体现经济的健康状况。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;fu-shi-ji-zhang-shi-shi-yao\&quot;&gt;复式记账是什么&lt;&#x2F;h2&gt;\n&lt;p&gt;复式记账（Double Entry Bookkeeping）是以资产与权益平衡关系作为记账基础，对每一笔账单，都要以相等的金额在两个相互联系的账户中进行记录。&lt;&#x2F;p&gt;\n&lt;p&gt;原理：\n&lt;code&gt;资产 = 负债 + 所有者权益&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;\n&lt;p&gt;复式记账的优点是：&lt;&#x2F;p&gt;\n&lt;ul&gt;\n&lt;li&gt;账户对应关系清楚，可以鲜明的表示各种经济活动的来龙去脉。&lt;&#x2F;li&gt;\n&lt;li&gt;有借必有贷，借贷必相等的记账方式，对于检查账单是否记对非常有帮助。&lt;&#x2F;li&gt;\n&lt;&#x2F;ul&gt;\n&lt;h2 id=\&quot;he-wei-beancount\&quot;&gt;何为 Beancount&lt;&#x2F;h2&gt;\n&lt;p&gt;Beancount 是一个用 Python 实现的开源复式记账软件。&lt;&#x2F;p&gt;\n&lt;p&gt;数据文件基于纯文本，所以不用担心程序出问题，数据没法看懂。&lt;&#x2F;p&gt;\n&lt;p&gt;Beancount（fava）的界面大概是这个样子。\n&lt;img src=\&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;beancount-introduce&#x2F;media&#x2F;15676038764861&#x2F;15676114899083.jpg\&quot; alt=\&quot;-w2638\&quot; &#x2F;&gt;\n&lt;img src=\&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;beancount-introduce&#x2F;media&#x2F;15676038764861&#x2F;15676115071325.jpg\&quot; alt=\&quot;-w1319\&quot; &#x2F;&gt;&lt;&#x2F;p&gt;\n&lt;p&gt;Beancount 的优点：&lt;&#x2F;p&gt;\n&lt;ol&gt;\n&lt;li&gt;开源，可以自己写功能。&lt;&#x2F;li&gt;\n&lt;li&gt;数据基于纯文本，自己掌握所有数据，不担心隐私泄露。&lt;&#x2F;li&gt;\n&lt;li&gt;支持各种图标，支持SQL查询生成报表。&lt;&#x2F;li&gt;\n&lt;li&gt;支持预算（fava）。&lt;&#x2F;li&gt;\n&lt;li&gt;支持无限账本、无限账户、无限币种。&lt;&#x2F;li&gt;\n&lt;li&gt;可以导入各种账单文件（有些需要写代码支持）。&lt;&#x2F;li&gt;\n&lt;li&gt;可以用 Git、iCloud 等工具来管理账本。&lt;&#x2F;li&gt;\n&lt;&#x2F;ol&gt;\n&lt;p&gt;不仅如此，Beancount 还可以量化年假，产假等等非标准金融标的。&lt;&#x2F;p&gt;\n&lt;p&gt;例如讲公司年假记为一笔收入，从公司账户转入到个人账户，成为资产。使用掉年假，则把年假从个人资产转出到消费即可。这样就相当于把年假消费掉了。而年假的货币单位可以设置成 Day。&lt;&#x2F;p&gt;\n&lt;p&gt;写在 Beancount 里大概是这个样子。&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;beancount\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-beancount \&quot;&gt;&lt;code class=\&quot;language-beancount\&quot; data-lang=\&quot;beancount\&quot;&gt;&lt;span&gt;2019-04-24 * &amp;quot;CompanyName&amp;quot; &amp;quot;请假一天休息&amp;quot;\n&lt;&#x2F;span&gt;&lt;span&gt;  Assets:Leave                              -1.00 DAY\n&lt;&#x2F;span&gt;&lt;span&gt;  Expenses:Health\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;2019-04-01 * &amp;quot;CompanyName&amp;quot; &amp;quot;年假-初始化&amp;quot;\n&lt;&#x2F;span&gt;&lt;span&gt;  Income:Job:CompanyName:Leave\n&lt;&#x2F;span&gt;&lt;span&gt;  Assets:Leave                                 +7.00 DAY\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h2 id=\&quot;ji-ben-yu-fa\&quot;&gt;基本语法&lt;&#x2F;h2&gt;\n&lt;h3 id=\&quot;ji-ben-ge-shi\&quot;&gt;基本格式&lt;&#x2F;h3&gt;\n&lt;pre style=\&quot;background-color:#272822;color:#f8f8f2;\&quot;&gt;&lt;code&gt;&lt;span&gt;YYYY-MM-DD &amp;lt;directive&amp;gt; &amp;lt;arguments...&amp;gt;\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h3 id=\&quot;chuang-jian-huo-bi\&quot;&gt;创建货币&lt;&#x2F;h3&gt;\n&lt;pre style=\&quot;background-color:#272822;color:#f8f8f2;\&quot;&gt;&lt;code&gt;&lt;span&gt;option &amp;quot;operating_currency&amp;quot; &amp;quot;CNY&amp;quot;\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h3 id=\&quot;zhang-hu-xiang-guan\&quot;&gt;账户相关&lt;&#x2F;h3&gt;\n&lt;p&gt;创建账户&lt;&#x2F;p&gt;\n&lt;pre style=\&quot;background-color:#272822;color:#f8f8f2;\&quot;&gt;&lt;code&gt;&lt;span&gt;1970-01-01 open Assets:Bank:ABC CNY\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;p&gt;备注账户&lt;&#x2F;p&gt;\n&lt;pre style=\&quot;background-color:#272822;color:#f8f8f2;\&quot;&gt;&lt;code&gt;&lt;span&gt;1970-01-01 note Assets:Bank:ABC &amp;quot;农行卡&amp;quot;\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;p&gt;关闭帐户，账户关闭后就可以在现实界面上过滤掉已经关闭的账户。&lt;&#x2F;p&gt;\n&lt;pre style=\&quot;background-color:#272822;color:#f8f8f2;\&quot;&gt;&lt;code&gt;&lt;span&gt;1970-01-02 close Assets:Bank:ABC\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h3 id=\&quot;jiao-yi\&quot;&gt;交易&lt;&#x2F;h3&gt;\n&lt;p&gt;这是单笔简单交易的写法，表示我去美食风暴用微信支付吃了个盒饭。&lt;&#x2F;p&gt;\n&lt;pre style=\&quot;background-color:#272822;color:#f8f8f2;\&quot;&gt;&lt;code&gt;&lt;span&gt;2019-08-02 * &amp;quot;美食风暴&amp;quot; &amp;quot;盒饭&amp;quot;\n&lt;&#x2F;span&gt;&lt;span&gt;  Assets:Wechat:EINDEX                                  -18 CNY\n&lt;&#x2F;span&gt;&lt;span&gt;  Expenses:Food:Restaurant:Lunch       \n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h3 id=\&quot;she-zhi-jie-ge\&quot;&gt;设置价格&lt;&#x2F;h3&gt;\n&lt;p&gt;可以这是各种“货币”之间的价格转换。如果用上程序员思维，我们就可以实现股票价格跟踪、汇率跟踪等等。来提高账本的准确度。&lt;&#x2F;p&gt;\n&lt;pre style=\&quot;background-color:#272822;color:#f8f8f2;\&quot;&gt;&lt;code&gt;&lt;span&gt;2019-10-01 price USD 7 CNY\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h3 id=\&quot;yu-e-zi-dong-she-zhi\&quot;&gt;余额自动设置&lt;&#x2F;h3&gt;\n&lt;p&gt;这是一个偷懒必备功能，下面的 &lt;code&gt;pad&lt;&#x2F;code&gt;，我农行卡自动平账使用&lt;code&gt;Equity:Opening-Balances&lt;&#x2F;code&gt;，明天的 &lt;code&gt;balance&lt;&#x2F;code&gt; 表示在 2019年10月02日时这张卡的余额为4000CNY，如果旧的账单不平就会从&lt;code&gt;Equity:Opening-Balances&lt;&#x2F;code&gt;自动平账。&lt;&#x2F;p&gt;\n&lt;pre style=\&quot;background-color:#272822;color:#f8f8f2;\&quot;&gt;&lt;code&gt;&lt;span&gt;2019-10-01 pad Assets:Bank:ABC Equity:Opening-Balances\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;2019-10-02 balance Assets:Bank:ABC 4000 CNY\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;p&gt;如果未来要在这个账户过去的账目上做删改，2019年10月1日的余额也会是4000元不变。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;shi-yong-beancount\&quot;&gt;使用 Beancount&lt;&#x2F;h2&gt;\n&lt;p&gt;首先需要安装 Python 3，然后安装 beancount、fava。&lt;&#x2F;p&gt;\n&lt;pre style=\&quot;background-color:#272822;color:#f8f8f2;\&quot;&gt;&lt;code&gt;&lt;span&gt;pip install beancount fava\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;p&gt;&lt;code&gt;fava&lt;&#x2F;code&gt; 是 beancount 的一个 WebUI 实现，可以可视化的看见自己的账本。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;example\&quot;&gt;Example&lt;&#x2F;h3&gt;\n&lt;p&gt;官方提供了一个 Beancount 的使用用例。&lt;&#x2F;p&gt;\n&lt;pre style=\&quot;background-color:#272822;color:#f8f8f2;\&quot;&gt;&lt;code&gt;&lt;span&gt;bean-example &amp;gt; example.bean\n&lt;&#x2F;span&gt;&lt;span&gt;fava example.bean\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;p&gt;然后打开 &lt;code&gt;localhost:5000&lt;&#x2F;code&gt; 就可以在本地体验 Beancount 与 fava 了。&lt;&#x2F;p&gt;\n&lt;p&gt;&lt;img src=\&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;beancount-introduce&#x2F;media&#x2F;15676038764861&#x2F;15676114399432.jpg\&quot; alt=\&quot;-w1315\&quot; &#x2F;&gt;&lt;&#x2F;p&gt;\n&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;beancount-introduce&#x2F;&quot;,&quot;slug&quot;:&quot;beancount-introduce&quot;,&quot;ancestors&quot;:[&quot;_index.cn.md&quot;,&quot;posts&#x2F;_index.cn.md&quot;],&quot;title&quot;:&quot;复式记账工具 Beancount&quot;,&quot;description&quot;:null,&quot;updated&quot;:null,&quot;date&quot;:&quot;2019-11-30T00:00:00+08:00&quot;,&quot;year&quot;:2019,&quot;month&quot;:11,&quot;day&quot;:30,&quot;taxonomies&quot;:{&quot;tags&quot;:[&quot;Beancount&quot;],&quot;series&quot;:[&quot;algorithm&quot;]},&quot;extra&quot;:{},&quot;path&quot;:&quot;&#x2F;cn&#x2F;posts&#x2F;beancount-introduce&#x2F;&quot;,&quot;components&quot;:[&quot;cn&quot;,&quot;posts&quot;,&quot;beancount-introduce&quot;],&quot;summary&quot;:&quot;&lt;p&gt;本文简单介绍一下复式记账和 Beancount 的使用方法。&lt;&#x2F;p&gt;\n&quot;,&quot;toc&quot;:[{&quot;level&quot;:2,&quot;id&quot;:&quot;wei-shi-yao-yao-ji-zhang&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;beancount-introduce&#x2F;#wei-shi-yao-yao-ji-zhang&quot;,&quot;title&quot;:&quot;为什么要记账&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;fu-shi-ji-zhang-shi-shi-yao&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;beancount-introduce&#x2F;#fu-shi-ji-zhang-shi-shi-yao&quot;,&quot;title&quot;:&quot;复式记账是什么&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;he-wei-beancount&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;beancount-introduce&#x2F;#he-wei-beancount&quot;,&quot;title&quot;:&quot;何为 Beancount&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;ji-ben-yu-fa&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;beancount-introduce&#x2F;#ji-ben-yu-fa&quot;,&quot;title&quot;:&quot;基本语法&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;ji-ben-ge-shi&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;beancount-introduce&#x2F;#ji-ben-ge-shi&quot;,&quot;title&quot;:&quot;基本格式&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;chuang-jian-huo-bi&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;beancount-introduce&#x2F;#chuang-jian-huo-bi&quot;,&quot;title&quot;:&quot;创建货币&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;zhang-hu-xiang-guan&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;beancount-introduce&#x2F;#zhang-hu-xiang-guan&quot;,&quot;title&quot;:&quot;账户相关&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;jiao-yi&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;beancount-introduce&#x2F;#jiao-yi&quot;,&quot;title&quot;:&quot;交易&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;she-zhi-jie-ge&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;beancount-introduce&#x2F;#she-zhi-jie-ge&quot;,&quot;title&quot;:&quot;设置价格&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;yu-e-zi-dong-she-zhi&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;beancount-introduce&#x2F;#yu-e-zi-dong-she-zhi&quot;,&quot;title&quot;:&quot;余额自动设置&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;shi-yong-beancount&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;beancount-introduce&#x2F;#shi-yong-beancount&quot;,&quot;title&quot;:&quot;使用 Beancount&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;example&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;beancount-introduce&#x2F;#example&quot;,&quot;title&quot;:&quot;Example&quot;,&quot;children&quot;:[]}]}],&quot;word_count&quot;:1012,&quot;reading_time&quot;:6,&quot;assets&quot;:[],&quot;draft&quot;:false,&quot;lang&quot;:&quot;cn&quot;,&quot;lower&quot;:{&quot;relative_path&quot;:&quot;posts&#x2F;2021-ending.cn.md&quot;,&quot;content&quot;:&quot;&lt;p&gt;2021年就要过去了，分享一下我今年都干了些什么事请。\n下面会分为几个维度来说。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;zhi-ye\&quot;&gt;职业&lt;&#x2F;h2&gt;\n&lt;p&gt;今年无缝转职成了安全从业人员，学习到了很多 DevSecOps 的知识，同时了解到安全不仅仅是技术开发，有时候流程安全能比应用安全起到更多更大的作用。这里也要感谢一下我的领导们。&lt;&#x2F;p&gt;\n&lt;span id=\&quot;continue-reading\&quot;&gt;&lt;&#x2F;span&gt;\n&lt;p&gt;也更了解如何去和其他人和团队沟通，如何去推动其他人或团队做事情。更高效的完成事情，同时也让双方都觉得比较舒服。以及知道如何去和 stakeholder 沟通，让大家的利益趋向一致。&lt;&#x2F;p&gt;\n&lt;p&gt;在内部处理了 Log4J 这个史诗级的漏洞，不仅快速排查&#x2F;修复问题可能出现的点，而且从多个角度重新审视了整个内部安全流程与 DevSecOps 的设计，收获颇丰。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;ge-ren\&quot;&gt;个人&lt;&#x2F;h2&gt;\n&lt;p&gt;今年在自己这边，提升最大的可能是英语了，了解我的人知道我英语很差（高考五十几分）也没过四级，现在可以用英文与外国同事交流，能写长邮件文档。&lt;&#x2F;p&gt;\n&lt;p&gt;在光顾了心理医生和自己研究学习之后，知道如何排解内心的情绪，也更了解什么时候需要做什么事情，应该大大降低了我自身的跳楼风险，虽然我不是毛星云那样的天才。&lt;&#x2F;p&gt;\n&lt;p&gt;19 年交付的房子，21 年总算是简单搞了一搞，开始住了。&lt;&#x2F;p&gt;\n&lt;p&gt;和女朋友分手一次，复合了，应该&#x2F;也许以后感情会更加稳固。&lt;&#x2F;p&gt;\n&lt;p&gt;从不敢&#x2F;懒得开车变得喜欢开车，虽然会花掉一些精力但确实能节省很多时间。大约开了 1000-2000 公里？一共开车出游两次，装修搬家 N 次，以后再也不是不愿意开车的人了。&lt;&#x2F;p&gt;\n&lt;p&gt;交了几个知心朋友。有痛苦有人分担，有快乐可以分享。&lt;del&gt;[doge] 可谓是分布式 EINDEX 支持系统。&lt;&#x2F;del&gt;&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;ji-zhu\&quot;&gt;技术&lt;&#x2F;h2&gt;\n&lt;p&gt;今年一直打算把 blog 重新弄起来，本来是想用 go 做后端的，前后端展示界面都写好了，后来太懒（管理界面太难做，引入了太多安全与成本问题，收益太低），就做了一个 hugo 的主题，还是半成品之后会继续更新的。&lt;&#x2F;p&gt;\n&lt;p&gt;开源方面：参与了一些简单的开源项目，给 homebrew-cask 维护了一些软件包，自己也学习了 Github Action，还写了一个 leetcode-report，主要都是工具方面的。哦，还有现在这个 hugo 主题也是开源的。虽然还没有人用，哈哈。&lt;&#x2F;p&gt;\n&lt;p&gt;安全方面：学了一些渗透测试的知识，主要在 PentestLab 上，刷了一百五十多题。&lt;&#x2F;p&gt;\n&lt;p&gt;编码方面：前端写的更好了 doge，给自己写了一些 Golang&#x2F;Python 的代码，写了一些脚本自动化的做安全检测（为了摸鱼，结果都开会去了）。&lt;&#x2F;p&gt;\n&lt;p&gt;除此之外，还做了一个自用的 docker-compose 合集，包括密码管理软件 vaultwarden，观影套装 Plex + Sonarr + Radarr + Lidarr + Prowlarr + bazarr + qBT + Trakt 涵盖下载，字母，刮削，播放，观影记录同步。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;she-ying\&quot;&gt;摄影&lt;&#x2F;h2&gt;\n&lt;p&gt;出去玩了几次，拍了几张自己非常满意的风景照片，车果然是摄影最重要的外设，没有之一。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;cai-wu\&quot;&gt;财务&lt;&#x2F;h2&gt;\n&lt;p&gt;今年没怎么攒钱，反而还变少了（装修、车、瞎折腾），离我 500 万的财务自由目标越来越远了。&lt;&#x2F;p&gt;\n&lt;p&gt;唯一的成果可能就是利用 beancount 和自动化脚本来导入微信和支付宝的账单数据，并还可以做一些简单的自动分类。极大的减少了我的记账工作量，虽然也浪费不少钱折腾了Moze等记账软件。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;bai-bi\&quot;&gt;败笔&lt;&#x2F;h2&gt;\n&lt;p&gt;上面说的都是好的，现在说点不好的。&lt;&#x2F;p&gt;\n&lt;p&gt;一方面是自己对感情还有沟通上面的处理很不成熟，以及对技术的渴望，加上一个爱折腾的心，今年多少有些乱。有时候我分不清我自己的决策是不是混杂了很多情感因素，我觉得这样是很不好的。&lt;&#x2F;p&gt;\n&lt;p&gt;在一个是现在的岗位给我过大的心理压力，我总是把自己放分别到开发团队和安全团队中，导致很多时候做事非常割裂，一方面的强硬需求以及另一方面没有配合，让我非常焦虑，我总觉得是我传达的不到位，或者是工作没有做到位，导致开发团队并不理解安全团队的想法是什么。闹了很多乌龙。我认为我就是想太多，两边都想要个好结果。&lt;&#x2F;p&gt;\n&lt;p&gt;反而到年尾来看，确实今年做的这些事情取得了很大的成功，领导们对我负责的团队信任度有很大的提升，团队之间的沟通也变得更加和谐。但是这不符合我现在对自己的职业目标，也许大个一轮，我就很乐意做这份工作了。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;ending\&quot;&gt;Ending&lt;&#x2F;h2&gt;\n&lt;p&gt;今年大致便是如此，希望 2022 年更好，7 年目标里除了财务都在有序的推进。明年多多开源节流，把财务的短板补上来。&lt;&#x2F;p&gt;\n&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;2021-ending&#x2F;&quot;,&quot;slug&quot;:&quot;2021-ending&quot;,&quot;ancestors&quot;:[&quot;_index.cn.md&quot;,&quot;posts&#x2F;_index.cn.md&quot;],&quot;title&quot;:&quot;2021 Ending&quot;,&quot;description&quot;:null,&quot;updated&quot;:null,&quot;date&quot;:&quot;2021-12-29T14:08:01+08:00&quot;,&quot;year&quot;:2021,&quot;month&quot;:12,&quot;day&quot;:29,&quot;taxonomies&quot;:{&quot;tags&quot;:[&quot;Ending&quot;,&quot;Annual Summary&quot;]},&quot;extra&quot;:{},&quot;path&quot;:&quot;&#x2F;cn&#x2F;posts&#x2F;2021-ending&#x2F;&quot;,&quot;components&quot;:[&quot;cn&quot;,&quot;posts&quot;,&quot;2021-ending&quot;],&quot;summary&quot;:&quot;&lt;p&gt;2021年就要过去了，分享一下我今年都干了些什么事请。\n下面会分为几个维度来说。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;zhi-ye\&quot;&gt;职业&lt;&#x2F;h2&gt;\n&lt;p&gt;今年无缝转职成了安全从业人员，学习到了很多 DevSecOps 的知识，同时了解到安全不仅仅是技术开发，有时候流程安全能比应用安全起到更多更大的作用。这里也要感谢一下我的领导们。&lt;&#x2F;p&gt;\n&quot;,&quot;toc&quot;:[{&quot;level&quot;:2,&quot;id&quot;:&quot;zhi-ye&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;2021-ending&#x2F;#zhi-ye&quot;,&quot;title&quot;:&quot;职业&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;ge-ren&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;2021-ending&#x2F;#ge-ren&quot;,&quot;title&quot;:&quot;个人&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;ji-zhu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;2021-ending&#x2F;#ji-zhu&quot;,&quot;title&quot;:&quot;技术&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;she-ying&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;2021-ending&#x2F;#she-ying&quot;,&quot;title&quot;:&quot;摄影&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;cai-wu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;2021-ending&#x2F;#cai-wu&quot;,&quot;title&quot;:&quot;财务&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;bai-bi&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;2021-ending&#x2F;#bai-bi&quot;,&quot;title&quot;:&quot;败笔&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;ending&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;2021-ending&#x2F;#ending&quot;,&quot;title&quot;:&quot;Ending&quot;,&quot;children&quot;:[]}],&quot;word_count&quot;:1346,&quot;reading_time&quot;:7,&quot;assets&quot;:[],&quot;draft&quot;:false,&quot;lang&quot;:&quot;cn&quot;,&quot;lower&quot;:null,&quot;higher&quot;:null,&quot;translations&quot;:[{&quot;lang&quot;:&quot;cn&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;2021-ending&#x2F;&quot;,&quot;title&quot;:&quot;2021 Ending&quot;,&quot;path&quot;:&quot;&#x2F;home&#x2F;runner&#x2F;work&#x2F;blog&#x2F;blog&#x2F;content&#x2F;posts&#x2F;2021-ending.cn.md&quot;}],&quot;backlinks&quot;:[]},&quot;higher&quot;:{&quot;relative_path&quot;:&quot;posts&#x2F;one-hundred-line-async-crawler.cn.md&quot;,&quot;content&quot;:&quot;&lt;p&gt;一个优雅的爬虫需要一下这些东西：&lt;&#x2F;p&gt;\n&lt;ul&gt;\n&lt;li&gt;请求器&lt;&#x2F;li&gt;\n&lt;li&gt;页面解析器&lt;&#x2F;li&gt;\n&lt;li&gt;链接生成器&lt;&#x2F;li&gt;\n&lt;li&gt;调度器&lt;&#x2F;li&gt;\n&lt;&#x2F;ul&gt;\n&lt;span id=\&quot;continue-reading\&quot;&gt;&lt;&#x2F;span&gt;&lt;h2 id=\&quot;qing-qiu-qi\&quot;&gt;请求器&lt;&#x2F;h2&gt;\n&lt;p&gt;负责发送请求。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;ye-mian-jie-xi-qi\&quot;&gt;页面解析器&lt;&#x2F;h2&gt;\n&lt;p&gt;负责从页面上解析出继续爬的链接。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;lian-jie-sheng-cheng-qi\&quot;&gt;链接生成器&lt;&#x2F;h2&gt;\n&lt;p&gt;负责处理继续爬虫的链接并放入队列。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;diao-du-qi\&quot;&gt;调度器&lt;&#x2F;h2&gt;\n&lt;p&gt;决定链接是否应该被爬去的核心部件。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;yi-bu\&quot;&gt;异步&lt;&#x2F;h2&gt;\n&lt;p&gt;同时有多个请求在发送，即时异步爬虫。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;dai-ma\&quot;&gt;代码&lt;&#x2F;h2&gt;\n&lt;p&gt;相关代码已上传到 &lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;github.com&#x2F;EINDEX&#x2F;100-line-async-spider\&quot;&gt;Github[https:&#x2F;&#x2F;github.com&#x2F;EINDEX&#x2F;100-line-async-spider]&lt;&#x2F;a&gt;。&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;aiohttp, asyncio, aiofiles, lxml, pathlib, sys, re, lxml.html\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;from &lt;&#x2F;span&gt;&lt;span&gt;urllib.parse &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;urlparse\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;from &lt;&#x2F;span&gt;&lt;span&gt;pathlib &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;Path\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;from &lt;&#x2F;span&gt;&lt;span&gt;hashlib &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;md5\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;MAX_GET, MAX_QUEUE_SIZE, MAX_WORKER &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;10000&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;100&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;20\n&lt;&#x2F;span&gt;&lt;span&gt;spider_url_set, spider_content_set &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;set&lt;&#x2F;span&gt;&lt;span&gt;(), &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;set&lt;&#x2F;span&gt;&lt;span&gt;()\n&lt;&#x2F;span&gt;&lt;span&gt;status &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;{&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;success&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;all&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;same&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;same_content&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;}\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;async &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;fetch&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;url&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;global &lt;&#x2F;span&gt;&lt;span&gt;MAX_GET\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;MAX_GET &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;lt; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;async with &lt;&#x2F;span&gt;&lt;span&gt;aiohttp.ClientSession(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;connector&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt;aiohttp.TCPConnector(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;ssl&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;False&lt;&#x2F;span&gt;&lt;span&gt;), &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;timeout&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt;aiohttp.ClientTimeout(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;total&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;)) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;as &lt;&#x2F;span&gt;&lt;span&gt;session:\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;async with &lt;&#x2F;span&gt;&lt;span&gt;session.get(url) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;as &lt;&#x2F;span&gt;&lt;span&gt;response:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return await &lt;&#x2F;span&gt;&lt;span&gt;response.text()\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;async &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;savefile&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;path&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;data&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    path &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;Path(path)\n&lt;&#x2F;span&gt;&lt;span&gt;    path.parent.mkdir(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;parents&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;True&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;exist_ok&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;True&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;async with &lt;&#x2F;span&gt;&lt;span&gt;aiofiles.open(path, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;mode&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;w&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;as &lt;&#x2F;span&gt;&lt;span&gt;f:\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;await &lt;&#x2F;span&gt;&lt;span&gt;f.write(data)\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;data_analysis&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;data&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;try&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;        html &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;lxml.html.fromstring(data)\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;html.xpath(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;&#x2F;&#x2F;a&#x2F;@href&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;except&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;[]\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;url_analysis&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;endpoint&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;urls&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;url &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;urls:\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if not &lt;&#x2F;span&gt;&lt;span&gt;url &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;or &lt;&#x2F;span&gt;&lt;span&gt;url &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;== &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;#&amp;#39; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;or &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;javascript&amp;#39; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;url:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;continue\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;elif &lt;&#x2F;span&gt;&lt;span&gt;url.startswith(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;&#x2F;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;endpoint.endswith(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;&#x2F;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;                endpoint &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;endpoint[:&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;]\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;yield &lt;&#x2F;span&gt;&lt;span&gt;endpoint &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;url\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;elif &lt;&#x2F;span&gt;&lt;span&gt;url.endswith(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;.html&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;or &lt;&#x2F;span&gt;&lt;span&gt;url.endswith(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;.htm&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;or &lt;&#x2F;span&gt;&lt;span&gt;url.endswith(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;.shtml&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;or &lt;&#x2F;span&gt;&lt;span&gt;url.endswith(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;&#x2F;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;or &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;?&amp;#39; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;url:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;yield &lt;&#x2F;span&gt;&lt;span&gt;url\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;path_gene&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;endpoint&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    result &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;urlparse(endpoint)\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;f&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;data&#x2F;&lt;&#x2F;span&gt;&lt;span&gt;{&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;&#x2F;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;.join(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;filter&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;lambda &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;x&lt;&#x2F;span&gt;&lt;span&gt;:x, result.hostname.split(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;.&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;)))[::&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;])}{result.path&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;&#x2F;index.html&amp;quot; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;result.path&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;!=&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;&#x2F;&amp;quot; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;else &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;&#x2F;index.html&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;}{result.query.replace(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;&#x2F;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;)}&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;async &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;pushurl&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;url_iter&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;queue&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;global &lt;&#x2F;span&gt;&lt;span&gt;MAX_GET\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;try&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;url &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;url_iter:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;MAX_GET &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;await &lt;&#x2F;span&gt;&lt;span&gt;queue.put(url)\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;except &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;Exception &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;as &lt;&#x2F;span&gt;&lt;span&gt;e:\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;pass\n&lt;&#x2F;span&gt;&lt;span&gt;    \n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;async &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;spider&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;name&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;queue&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;global &lt;&#x2F;span&gt;&lt;span&gt;MAX_GET, spider_content_set, spider_url_set\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;while &lt;&#x2F;span&gt;&lt;span&gt;MAX_GET &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;try&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            endpoint &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= await &lt;&#x2F;span&gt;&lt;span&gt;queue.get()\n&lt;&#x2F;span&gt;&lt;span&gt;            data &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= await &lt;&#x2F;span&gt;&lt;span&gt;fetch(endpoint)\n&lt;&#x2F;span&gt;&lt;span&gt;            md5data &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;md5(data.encode()).hexdigest()\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;md5data &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;spider_content_set:\n&lt;&#x2F;span&gt;&lt;span&gt;                status[&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;same_content&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;continue\n&lt;&#x2F;span&gt;&lt;span&gt;            MAX_GET &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;-= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1\n&lt;&#x2F;span&gt;&lt;span&gt;            status[&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;all&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1\n&lt;&#x2F;span&gt;&lt;span&gt;            spider_content_set.add(md5data)\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;await &lt;&#x2F;span&gt;&lt;span&gt;savefile(path_gene(endpoint), data)\n&lt;&#x2F;span&gt;&lt;span&gt;            asyncio.gather(asyncio.create_task(pushurl(url_analysis(endpoint, data_analysis(data)), queue)), &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;return_exceptions&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;False&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;            status[&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;success&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;except &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;Exception &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;as &lt;&#x2F;span&gt;&lt;span&gt;e:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;pass\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;exit&lt;&#x2F;span&gt;&lt;span&gt;():\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;exit&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;task &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;asyncio.Task.all_tasks():\n&lt;&#x2F;span&gt;&lt;span&gt;        task.cancel()\n&lt;&#x2F;span&gt;&lt;span&gt;    sys.exit(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;async &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;main&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;first_endpoint&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    queue &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;asyncio.Queue(MAX_QUEUE_SIZE)\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;await &lt;&#x2F;span&gt;&lt;span&gt;queue.put(first_endpoint)\n&lt;&#x2F;span&gt;&lt;span&gt;    asyncio.gather(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;[asyncio.create_task(spider(spider_id,queue)) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;spider_id &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(MAX_WORKER)], &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;return_exceptions&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;False&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;try&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;while &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;True&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;await &lt;&#x2F;span&gt;&lt;span&gt;asyncio.sleep(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(queue.qsize(), MAX_GET, status)\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;MAX_GET &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;lt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0 &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;or not &lt;&#x2F;span&gt;&lt;span&gt;queue.qsize():\n&lt;&#x2F;span&gt;&lt;span&gt;                exit()\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;except&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;        exit()\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;__name__ &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;== &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;__main__&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;    asyncio.run(main(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;https:&#x2F;&#x2F;eindex.me&#x2F;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;))\n&lt;&#x2F;span&gt;&lt;span&gt;    asyncio.get_event_loop().close()\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;one-hundred-line-async-crawler&#x2F;&quot;,&quot;slug&quot;:&quot;one-hundred-line-async-crawler&quot;,&quot;ancestors&quot;:[&quot;_index.cn.md&quot;,&quot;posts&#x2F;_index.cn.md&quot;],&quot;title&quot;:&quot;一百行代码实现异步爬虫&quot;,&quot;description&quot;:null,&quot;updated&quot;:null,&quot;date&quot;:&quot;2019-09-07T12:17:25+08:00&quot;,&quot;year&quot;:2019,&quot;month&quot;:9,&quot;day&quot;:7,&quot;taxonomies&quot;:{&quot;tags&quot;:[&quot;Python&quot;,&quot;Crawler&quot;,&quot;Async&quot;]},&quot;extra&quot;:{},&quot;path&quot;:&quot;&#x2F;cn&#x2F;posts&#x2F;one-hundred-line-async-crawler&#x2F;&quot;,&quot;components&quot;:[&quot;cn&quot;,&quot;posts&quot;,&quot;one-hundred-line-async-crawler&quot;],&quot;summary&quot;:&quot;&lt;p&gt;一个优雅的爬虫需要一下这些东西：&lt;&#x2F;p&gt;\n&lt;ul&gt;\n&lt;li&gt;请求器&lt;&#x2F;li&gt;\n&lt;li&gt;页面解析器&lt;&#x2F;li&gt;\n&lt;li&gt;链接生成器&lt;&#x2F;li&gt;\n&lt;li&gt;调度器&lt;&#x2F;li&gt;\n&lt;&#x2F;ul&gt;\n&quot;,&quot;toc&quot;:[{&quot;level&quot;:2,&quot;id&quot;:&quot;qing-qiu-qi&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;one-hundred-line-async-crawler&#x2F;#qing-qiu-qi&quot;,&quot;title&quot;:&quot;请求器&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;ye-mian-jie-xi-qi&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;one-hundred-line-async-crawler&#x2F;#ye-mian-jie-xi-qi&quot;,&quot;title&quot;:&quot;页面解析器&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;lian-jie-sheng-cheng-qi&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;one-hundred-line-async-crawler&#x2F;#lian-jie-sheng-cheng-qi&quot;,&quot;title&quot;:&quot;链接生成器&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;diao-du-qi&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;one-hundred-line-async-crawler&#x2F;#diao-du-qi&quot;,&quot;title&quot;:&quot;调度器&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;yi-bu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;one-hundred-line-async-crawler&#x2F;#yi-bu&quot;,&quot;title&quot;:&quot;异步&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;dai-ma&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;one-hundred-line-async-crawler&#x2F;#dai-ma&quot;,&quot;title&quot;:&quot;代码&quot;,&quot;children&quot;:[]}],&quot;word_count&quot;:466,&quot;reading_time&quot;:3,&quot;assets&quot;:[],&quot;draft&quot;:false,&quot;lang&quot;:&quot;cn&quot;,&quot;lower&quot;:null,&quot;higher&quot;:null,&quot;translations&quot;:[{&quot;lang&quot;:&quot;cn&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;one-hundred-line-async-crawler&#x2F;&quot;,&quot;title&quot;:&quot;一百行代码实现异步爬虫&quot;,&quot;path&quot;:&quot;&#x2F;home&#x2F;runner&#x2F;work&#x2F;blog&#x2F;blog&#x2F;content&#x2F;posts&#x2F;one-hundred-line-async-crawler.cn.md&quot;}],&quot;backlinks&quot;:[]},&quot;translations&quot;:[{&quot;lang&quot;:&quot;cn&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;beancount-introduce&#x2F;&quot;,&quot;title&quot;:&quot;复式记账工具 Beancount&quot;,&quot;path&quot;:&quot;&#x2F;home&#x2F;runner&#x2F;work&#x2F;blog&#x2F;blog&#x2F;content&#x2F;posts&#x2F;beancount-introduce.cn.md&quot;}],&quot;backlinks&quot;:[{&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;my-homelab-introduce&#x2F;&quot;,&quot;title&quot;:&quot;My HomeLab&quot;}]},{&quot;relative_path&quot;:&quot;posts&#x2F;one-hundred-line-async-crawler.cn.md&quot;,&quot;content&quot;:&quot;&lt;p&gt;一个优雅的爬虫需要一下这些东西：&lt;&#x2F;p&gt;\n&lt;ul&gt;\n&lt;li&gt;请求器&lt;&#x2F;li&gt;\n&lt;li&gt;页面解析器&lt;&#x2F;li&gt;\n&lt;li&gt;链接生成器&lt;&#x2F;li&gt;\n&lt;li&gt;调度器&lt;&#x2F;li&gt;\n&lt;&#x2F;ul&gt;\n&lt;span id=\&quot;continue-reading\&quot;&gt;&lt;&#x2F;span&gt;&lt;h2 id=\&quot;qing-qiu-qi\&quot;&gt;请求器&lt;&#x2F;h2&gt;\n&lt;p&gt;负责发送请求。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;ye-mian-jie-xi-qi\&quot;&gt;页面解析器&lt;&#x2F;h2&gt;\n&lt;p&gt;负责从页面上解析出继续爬的链接。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;lian-jie-sheng-cheng-qi\&quot;&gt;链接生成器&lt;&#x2F;h2&gt;\n&lt;p&gt;负责处理继续爬虫的链接并放入队列。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;diao-du-qi\&quot;&gt;调度器&lt;&#x2F;h2&gt;\n&lt;p&gt;决定链接是否应该被爬去的核心部件。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;yi-bu\&quot;&gt;异步&lt;&#x2F;h2&gt;\n&lt;p&gt;同时有多个请求在发送，即时异步爬虫。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;dai-ma\&quot;&gt;代码&lt;&#x2F;h2&gt;\n&lt;p&gt;相关代码已上传到 &lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;github.com&#x2F;EINDEX&#x2F;100-line-async-spider\&quot;&gt;Github[https:&#x2F;&#x2F;github.com&#x2F;EINDEX&#x2F;100-line-async-spider]&lt;&#x2F;a&gt;。&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;aiohttp, asyncio, aiofiles, lxml, pathlib, sys, re, lxml.html\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;from &lt;&#x2F;span&gt;&lt;span&gt;urllib.parse &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;urlparse\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;from &lt;&#x2F;span&gt;&lt;span&gt;pathlib &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;Path\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;from &lt;&#x2F;span&gt;&lt;span&gt;hashlib &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;md5\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;MAX_GET, MAX_QUEUE_SIZE, MAX_WORKER &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;10000&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;100&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;20\n&lt;&#x2F;span&gt;&lt;span&gt;spider_url_set, spider_content_set &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;set&lt;&#x2F;span&gt;&lt;span&gt;(), &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;set&lt;&#x2F;span&gt;&lt;span&gt;()\n&lt;&#x2F;span&gt;&lt;span&gt;status &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;{&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;success&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;all&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;same&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;same_content&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;}\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;async &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;fetch&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;url&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;global &lt;&#x2F;span&gt;&lt;span&gt;MAX_GET\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;MAX_GET &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;lt; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;async with &lt;&#x2F;span&gt;&lt;span&gt;aiohttp.ClientSession(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;connector&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt;aiohttp.TCPConnector(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;ssl&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;False&lt;&#x2F;span&gt;&lt;span&gt;), &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;timeout&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt;aiohttp.ClientTimeout(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;total&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;)) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;as &lt;&#x2F;span&gt;&lt;span&gt;session:\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;async with &lt;&#x2F;span&gt;&lt;span&gt;session.get(url) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;as &lt;&#x2F;span&gt;&lt;span&gt;response:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return await &lt;&#x2F;span&gt;&lt;span&gt;response.text()\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;async &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;savefile&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;path&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;data&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    path &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;Path(path)\n&lt;&#x2F;span&gt;&lt;span&gt;    path.parent.mkdir(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;parents&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;True&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;exist_ok&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;True&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;async with &lt;&#x2F;span&gt;&lt;span&gt;aiofiles.open(path, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;mode&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;w&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;as &lt;&#x2F;span&gt;&lt;span&gt;f:\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;await &lt;&#x2F;span&gt;&lt;span&gt;f.write(data)\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;data_analysis&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;data&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;try&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;        html &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;lxml.html.fromstring(data)\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;html.xpath(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;&#x2F;&#x2F;a&#x2F;@href&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;except&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;[]\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;url_analysis&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;endpoint&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;urls&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;url &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;urls:\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if not &lt;&#x2F;span&gt;&lt;span&gt;url &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;or &lt;&#x2F;span&gt;&lt;span&gt;url &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;== &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;#&amp;#39; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;or &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;javascript&amp;#39; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;url:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;continue\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;elif &lt;&#x2F;span&gt;&lt;span&gt;url.startswith(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;&#x2F;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;endpoint.endswith(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;&#x2F;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;                endpoint &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;endpoint[:&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;]\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;yield &lt;&#x2F;span&gt;&lt;span&gt;endpoint &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;url\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;elif &lt;&#x2F;span&gt;&lt;span&gt;url.endswith(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;.html&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;or &lt;&#x2F;span&gt;&lt;span&gt;url.endswith(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;.htm&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;or &lt;&#x2F;span&gt;&lt;span&gt;url.endswith(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;.shtml&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;or &lt;&#x2F;span&gt;&lt;span&gt;url.endswith(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;&#x2F;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;or &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;?&amp;#39; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;url:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;yield &lt;&#x2F;span&gt;&lt;span&gt;url\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;path_gene&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;endpoint&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    result &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;urlparse(endpoint)\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;f&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;data&#x2F;&lt;&#x2F;span&gt;&lt;span&gt;{&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;&#x2F;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;.join(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;filter&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;lambda &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;x&lt;&#x2F;span&gt;&lt;span&gt;:x, result.hostname.split(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;.&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;)))[::&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;])}{result.path&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;&#x2F;index.html&amp;quot; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;result.path&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;!=&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;&#x2F;&amp;quot; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;else &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;&#x2F;index.html&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;}{result.query.replace(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;&#x2F;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;)}&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;async &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;pushurl&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;url_iter&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;queue&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;global &lt;&#x2F;span&gt;&lt;span&gt;MAX_GET\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;try&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;url &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;url_iter:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;MAX_GET &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;await &lt;&#x2F;span&gt;&lt;span&gt;queue.put(url)\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;except &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;Exception &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;as &lt;&#x2F;span&gt;&lt;span&gt;e:\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;pass\n&lt;&#x2F;span&gt;&lt;span&gt;    \n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;async &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;spider&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;name&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;queue&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;global &lt;&#x2F;span&gt;&lt;span&gt;MAX_GET, spider_content_set, spider_url_set\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;while &lt;&#x2F;span&gt;&lt;span&gt;MAX_GET &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;try&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            endpoint &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= await &lt;&#x2F;span&gt;&lt;span&gt;queue.get()\n&lt;&#x2F;span&gt;&lt;span&gt;            data &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= await &lt;&#x2F;span&gt;&lt;span&gt;fetch(endpoint)\n&lt;&#x2F;span&gt;&lt;span&gt;            md5data &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;md5(data.encode()).hexdigest()\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;md5data &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;spider_content_set:\n&lt;&#x2F;span&gt;&lt;span&gt;                status[&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;same_content&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;continue\n&lt;&#x2F;span&gt;&lt;span&gt;            MAX_GET &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;-= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1\n&lt;&#x2F;span&gt;&lt;span&gt;            status[&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;all&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1\n&lt;&#x2F;span&gt;&lt;span&gt;            spider_content_set.add(md5data)\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;await &lt;&#x2F;span&gt;&lt;span&gt;savefile(path_gene(endpoint), data)\n&lt;&#x2F;span&gt;&lt;span&gt;            asyncio.gather(asyncio.create_task(pushurl(url_analysis(endpoint, data_analysis(data)), queue)), &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;return_exceptions&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;False&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;            status[&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;success&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;except &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;Exception &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;as &lt;&#x2F;span&gt;&lt;span&gt;e:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;pass\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;exit&lt;&#x2F;span&gt;&lt;span&gt;():\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;exit&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;task &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;asyncio.Task.all_tasks():\n&lt;&#x2F;span&gt;&lt;span&gt;        task.cancel()\n&lt;&#x2F;span&gt;&lt;span&gt;    sys.exit(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;async &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;main&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;first_endpoint&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    queue &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;asyncio.Queue(MAX_QUEUE_SIZE)\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;await &lt;&#x2F;span&gt;&lt;span&gt;queue.put(first_endpoint)\n&lt;&#x2F;span&gt;&lt;span&gt;    asyncio.gather(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;[asyncio.create_task(spider(spider_id,queue)) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;spider_id &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(MAX_WORKER)], &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;return_exceptions&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;False&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;try&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;while &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;True&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;await &lt;&#x2F;span&gt;&lt;span&gt;asyncio.sleep(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(queue.qsize(), MAX_GET, status)\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;MAX_GET &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;lt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0 &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;or not &lt;&#x2F;span&gt;&lt;span&gt;queue.qsize():\n&lt;&#x2F;span&gt;&lt;span&gt;                exit()\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;except&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;        exit()\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;__name__ &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;== &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;__main__&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;    asyncio.run(main(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;https:&#x2F;&#x2F;eindex.me&#x2F;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;))\n&lt;&#x2F;span&gt;&lt;span&gt;    asyncio.get_event_loop().close()\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;one-hundred-line-async-crawler&#x2F;&quot;,&quot;slug&quot;:&quot;one-hundred-line-async-crawler&quot;,&quot;ancestors&quot;:[&quot;_index.cn.md&quot;,&quot;posts&#x2F;_index.cn.md&quot;],&quot;title&quot;:&quot;一百行代码实现异步爬虫&quot;,&quot;description&quot;:null,&quot;updated&quot;:null,&quot;date&quot;:&quot;2019-09-07T12:17:25+08:00&quot;,&quot;year&quot;:2019,&quot;month&quot;:9,&quot;day&quot;:7,&quot;taxonomies&quot;:{&quot;tags&quot;:[&quot;Python&quot;,&quot;Crawler&quot;,&quot;Async&quot;]},&quot;extra&quot;:{},&quot;path&quot;:&quot;&#x2F;cn&#x2F;posts&#x2F;one-hundred-line-async-crawler&#x2F;&quot;,&quot;components&quot;:[&quot;cn&quot;,&quot;posts&quot;,&quot;one-hundred-line-async-crawler&quot;],&quot;summary&quot;:&quot;&lt;p&gt;一个优雅的爬虫需要一下这些东西：&lt;&#x2F;p&gt;\n&lt;ul&gt;\n&lt;li&gt;请求器&lt;&#x2F;li&gt;\n&lt;li&gt;页面解析器&lt;&#x2F;li&gt;\n&lt;li&gt;链接生成器&lt;&#x2F;li&gt;\n&lt;li&gt;调度器&lt;&#x2F;li&gt;\n&lt;&#x2F;ul&gt;\n&quot;,&quot;toc&quot;:[{&quot;level&quot;:2,&quot;id&quot;:&quot;qing-qiu-qi&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;one-hundred-line-async-crawler&#x2F;#qing-qiu-qi&quot;,&quot;title&quot;:&quot;请求器&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;ye-mian-jie-xi-qi&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;one-hundred-line-async-crawler&#x2F;#ye-mian-jie-xi-qi&quot;,&quot;title&quot;:&quot;页面解析器&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;lian-jie-sheng-cheng-qi&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;one-hundred-line-async-crawler&#x2F;#lian-jie-sheng-cheng-qi&quot;,&quot;title&quot;:&quot;链接生成器&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;diao-du-qi&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;one-hundred-line-async-crawler&#x2F;#diao-du-qi&quot;,&quot;title&quot;:&quot;调度器&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;yi-bu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;one-hundred-line-async-crawler&#x2F;#yi-bu&quot;,&quot;title&quot;:&quot;异步&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;dai-ma&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;one-hundred-line-async-crawler&#x2F;#dai-ma&quot;,&quot;title&quot;:&quot;代码&quot;,&quot;children&quot;:[]}],&quot;word_count&quot;:466,&quot;reading_time&quot;:3,&quot;assets&quot;:[],&quot;draft&quot;:false,&quot;lang&quot;:&quot;cn&quot;,&quot;lower&quot;:{&quot;relative_path&quot;:&quot;posts&#x2F;beancount-introduce.cn.md&quot;,&quot;content&quot;:&quot;&lt;p&gt;本文简单介绍一下复式记账和 Beancount 的使用方法。&lt;&#x2F;p&gt;\n&lt;span id=\&quot;continue-reading\&quot;&gt;&lt;&#x2F;span&gt;&lt;h2 id=\&quot;wei-shi-yao-yao-ji-zhang\&quot;&gt;为什么要记账&lt;&#x2F;h2&gt;\n&lt;p&gt;记账是理财的第一步，熟话说得好：”你不理财，才不理你。“&lt;&#x2F;p&gt;\n&lt;p&gt;记账可以明确自己每一笔钱花在哪去了，这个月最大的开销是什么，以及对自己的冲动消费、不必要消费能有一个反思。&lt;&#x2F;p&gt;\n&lt;p&gt;我曾使用过很多记账软件如：挖财、随手记、网易有钱、MoneyWiz、MOZE 等，其实记账最大的问题在于很难坚持下来，因为短期来看记账的收益并不高，而从长远来看，账本也能体现经济的健康状况。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;fu-shi-ji-zhang-shi-shi-yao\&quot;&gt;复式记账是什么&lt;&#x2F;h2&gt;\n&lt;p&gt;复式记账（Double Entry Bookkeeping）是以资产与权益平衡关系作为记账基础，对每一笔账单，都要以相等的金额在两个相互联系的账户中进行记录。&lt;&#x2F;p&gt;\n&lt;p&gt;原理：\n&lt;code&gt;资产 = 负债 + 所有者权益&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;\n&lt;p&gt;复式记账的优点是：&lt;&#x2F;p&gt;\n&lt;ul&gt;\n&lt;li&gt;账户对应关系清楚，可以鲜明的表示各种经济活动的来龙去脉。&lt;&#x2F;li&gt;\n&lt;li&gt;有借必有贷，借贷必相等的记账方式，对于检查账单是否记对非常有帮助。&lt;&#x2F;li&gt;\n&lt;&#x2F;ul&gt;\n&lt;h2 id=\&quot;he-wei-beancount\&quot;&gt;何为 Beancount&lt;&#x2F;h2&gt;\n&lt;p&gt;Beancount 是一个用 Python 实现的开源复式记账软件。&lt;&#x2F;p&gt;\n&lt;p&gt;数据文件基于纯文本，所以不用担心程序出问题，数据没法看懂。&lt;&#x2F;p&gt;\n&lt;p&gt;Beancount（fava）的界面大概是这个样子。\n&lt;img src=\&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;beancount-introduce&#x2F;media&#x2F;15676038764861&#x2F;15676114899083.jpg\&quot; alt=\&quot;-w2638\&quot; &#x2F;&gt;\n&lt;img src=\&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;beancount-introduce&#x2F;media&#x2F;15676038764861&#x2F;15676115071325.jpg\&quot; alt=\&quot;-w1319\&quot; &#x2F;&gt;&lt;&#x2F;p&gt;\n&lt;p&gt;Beancount 的优点：&lt;&#x2F;p&gt;\n&lt;ol&gt;\n&lt;li&gt;开源，可以自己写功能。&lt;&#x2F;li&gt;\n&lt;li&gt;数据基于纯文本，自己掌握所有数据，不担心隐私泄露。&lt;&#x2F;li&gt;\n&lt;li&gt;支持各种图标，支持SQL查询生成报表。&lt;&#x2F;li&gt;\n&lt;li&gt;支持预算（fava）。&lt;&#x2F;li&gt;\n&lt;li&gt;支持无限账本、无限账户、无限币种。&lt;&#x2F;li&gt;\n&lt;li&gt;可以导入各种账单文件（有些需要写代码支持）。&lt;&#x2F;li&gt;\n&lt;li&gt;可以用 Git、iCloud 等工具来管理账本。&lt;&#x2F;li&gt;\n&lt;&#x2F;ol&gt;\n&lt;p&gt;不仅如此，Beancount 还可以量化年假，产假等等非标准金融标的。&lt;&#x2F;p&gt;\n&lt;p&gt;例如讲公司年假记为一笔收入，从公司账户转入到个人账户，成为资产。使用掉年假，则把年假从个人资产转出到消费即可。这样就相当于把年假消费掉了。而年假的货币单位可以设置成 Day。&lt;&#x2F;p&gt;\n&lt;p&gt;写在 Beancount 里大概是这个样子。&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;beancount\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-beancount \&quot;&gt;&lt;code class=\&quot;language-beancount\&quot; data-lang=\&quot;beancount\&quot;&gt;&lt;span&gt;2019-04-24 * &amp;quot;CompanyName&amp;quot; &amp;quot;请假一天休息&amp;quot;\n&lt;&#x2F;span&gt;&lt;span&gt;  Assets:Leave                              -1.00 DAY\n&lt;&#x2F;span&gt;&lt;span&gt;  Expenses:Health\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;2019-04-01 * &amp;quot;CompanyName&amp;quot; &amp;quot;年假-初始化&amp;quot;\n&lt;&#x2F;span&gt;&lt;span&gt;  Income:Job:CompanyName:Leave\n&lt;&#x2F;span&gt;&lt;span&gt;  Assets:Leave                                 +7.00 DAY\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h2 id=\&quot;ji-ben-yu-fa\&quot;&gt;基本语法&lt;&#x2F;h2&gt;\n&lt;h3 id=\&quot;ji-ben-ge-shi\&quot;&gt;基本格式&lt;&#x2F;h3&gt;\n&lt;pre style=\&quot;background-color:#272822;color:#f8f8f2;\&quot;&gt;&lt;code&gt;&lt;span&gt;YYYY-MM-DD &amp;lt;directive&amp;gt; &amp;lt;arguments...&amp;gt;\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h3 id=\&quot;chuang-jian-huo-bi\&quot;&gt;创建货币&lt;&#x2F;h3&gt;\n&lt;pre style=\&quot;background-color:#272822;color:#f8f8f2;\&quot;&gt;&lt;code&gt;&lt;span&gt;option &amp;quot;operating_currency&amp;quot; &amp;quot;CNY&amp;quot;\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h3 id=\&quot;zhang-hu-xiang-guan\&quot;&gt;账户相关&lt;&#x2F;h3&gt;\n&lt;p&gt;创建账户&lt;&#x2F;p&gt;\n&lt;pre style=\&quot;background-color:#272822;color:#f8f8f2;\&quot;&gt;&lt;code&gt;&lt;span&gt;1970-01-01 open Assets:Bank:ABC CNY\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;p&gt;备注账户&lt;&#x2F;p&gt;\n&lt;pre style=\&quot;background-color:#272822;color:#f8f8f2;\&quot;&gt;&lt;code&gt;&lt;span&gt;1970-01-01 note Assets:Bank:ABC &amp;quot;农行卡&amp;quot;\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;p&gt;关闭帐户，账户关闭后就可以在现实界面上过滤掉已经关闭的账户。&lt;&#x2F;p&gt;\n&lt;pre style=\&quot;background-color:#272822;color:#f8f8f2;\&quot;&gt;&lt;code&gt;&lt;span&gt;1970-01-02 close Assets:Bank:ABC\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h3 id=\&quot;jiao-yi\&quot;&gt;交易&lt;&#x2F;h3&gt;\n&lt;p&gt;这是单笔简单交易的写法，表示我去美食风暴用微信支付吃了个盒饭。&lt;&#x2F;p&gt;\n&lt;pre style=\&quot;background-color:#272822;color:#f8f8f2;\&quot;&gt;&lt;code&gt;&lt;span&gt;2019-08-02 * &amp;quot;美食风暴&amp;quot; &amp;quot;盒饭&amp;quot;\n&lt;&#x2F;span&gt;&lt;span&gt;  Assets:Wechat:EINDEX                                  -18 CNY\n&lt;&#x2F;span&gt;&lt;span&gt;  Expenses:Food:Restaurant:Lunch       \n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h3 id=\&quot;she-zhi-jie-ge\&quot;&gt;设置价格&lt;&#x2F;h3&gt;\n&lt;p&gt;可以这是各种“货币”之间的价格转换。如果用上程序员思维，我们就可以实现股票价格跟踪、汇率跟踪等等。来提高账本的准确度。&lt;&#x2F;p&gt;\n&lt;pre style=\&quot;background-color:#272822;color:#f8f8f2;\&quot;&gt;&lt;code&gt;&lt;span&gt;2019-10-01 price USD 7 CNY\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h3 id=\&quot;yu-e-zi-dong-she-zhi\&quot;&gt;余额自动设置&lt;&#x2F;h3&gt;\n&lt;p&gt;这是一个偷懒必备功能，下面的 &lt;code&gt;pad&lt;&#x2F;code&gt;，我农行卡自动平账使用&lt;code&gt;Equity:Opening-Balances&lt;&#x2F;code&gt;，明天的 &lt;code&gt;balance&lt;&#x2F;code&gt; 表示在 2019年10月02日时这张卡的余额为4000CNY，如果旧的账单不平就会从&lt;code&gt;Equity:Opening-Balances&lt;&#x2F;code&gt;自动平账。&lt;&#x2F;p&gt;\n&lt;pre style=\&quot;background-color:#272822;color:#f8f8f2;\&quot;&gt;&lt;code&gt;&lt;span&gt;2019-10-01 pad Assets:Bank:ABC Equity:Opening-Balances\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;2019-10-02 balance Assets:Bank:ABC 4000 CNY\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;p&gt;如果未来要在这个账户过去的账目上做删改，2019年10月1日的余额也会是4000元不变。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;shi-yong-beancount\&quot;&gt;使用 Beancount&lt;&#x2F;h2&gt;\n&lt;p&gt;首先需要安装 Python 3，然后安装 beancount、fava。&lt;&#x2F;p&gt;\n&lt;pre style=\&quot;background-color:#272822;color:#f8f8f2;\&quot;&gt;&lt;code&gt;&lt;span&gt;pip install beancount fava\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;p&gt;&lt;code&gt;fava&lt;&#x2F;code&gt; 是 beancount 的一个 WebUI 实现，可以可视化的看见自己的账本。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;example\&quot;&gt;Example&lt;&#x2F;h3&gt;\n&lt;p&gt;官方提供了一个 Beancount 的使用用例。&lt;&#x2F;p&gt;\n&lt;pre style=\&quot;background-color:#272822;color:#f8f8f2;\&quot;&gt;&lt;code&gt;&lt;span&gt;bean-example &amp;gt; example.bean\n&lt;&#x2F;span&gt;&lt;span&gt;fava example.bean\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;p&gt;然后打开 &lt;code&gt;localhost:5000&lt;&#x2F;code&gt; 就可以在本地体验 Beancount 与 fava 了。&lt;&#x2F;p&gt;\n&lt;p&gt;&lt;img src=\&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;beancount-introduce&#x2F;media&#x2F;15676038764861&#x2F;15676114399432.jpg\&quot; alt=\&quot;-w1315\&quot; &#x2F;&gt;&lt;&#x2F;p&gt;\n&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;beancount-introduce&#x2F;&quot;,&quot;slug&quot;:&quot;beancount-introduce&quot;,&quot;ancestors&quot;:[&quot;_index.cn.md&quot;,&quot;posts&#x2F;_index.cn.md&quot;],&quot;title&quot;:&quot;复式记账工具 Beancount&quot;,&quot;description&quot;:null,&quot;updated&quot;:null,&quot;date&quot;:&quot;2019-11-30T00:00:00+08:00&quot;,&quot;year&quot;:2019,&quot;month&quot;:11,&quot;day&quot;:30,&quot;taxonomies&quot;:{&quot;tags&quot;:[&quot;Beancount&quot;],&quot;series&quot;:[&quot;algorithm&quot;]},&quot;extra&quot;:{},&quot;path&quot;:&quot;&#x2F;cn&#x2F;posts&#x2F;beancount-introduce&#x2F;&quot;,&quot;components&quot;:[&quot;cn&quot;,&quot;posts&quot;,&quot;beancount-introduce&quot;],&quot;summary&quot;:&quot;&lt;p&gt;本文简单介绍一下复式记账和 Beancount 的使用方法。&lt;&#x2F;p&gt;\n&quot;,&quot;toc&quot;:[{&quot;level&quot;:2,&quot;id&quot;:&quot;wei-shi-yao-yao-ji-zhang&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;beancount-introduce&#x2F;#wei-shi-yao-yao-ji-zhang&quot;,&quot;title&quot;:&quot;为什么要记账&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;fu-shi-ji-zhang-shi-shi-yao&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;beancount-introduce&#x2F;#fu-shi-ji-zhang-shi-shi-yao&quot;,&quot;title&quot;:&quot;复式记账是什么&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;he-wei-beancount&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;beancount-introduce&#x2F;#he-wei-beancount&quot;,&quot;title&quot;:&quot;何为 Beancount&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;ji-ben-yu-fa&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;beancount-introduce&#x2F;#ji-ben-yu-fa&quot;,&quot;title&quot;:&quot;基本语法&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;ji-ben-ge-shi&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;beancount-introduce&#x2F;#ji-ben-ge-shi&quot;,&quot;title&quot;:&quot;基本格式&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;chuang-jian-huo-bi&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;beancount-introduce&#x2F;#chuang-jian-huo-bi&quot;,&quot;title&quot;:&quot;创建货币&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;zhang-hu-xiang-guan&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;beancount-introduce&#x2F;#zhang-hu-xiang-guan&quot;,&quot;title&quot;:&quot;账户相关&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;jiao-yi&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;beancount-introduce&#x2F;#jiao-yi&quot;,&quot;title&quot;:&quot;交易&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;she-zhi-jie-ge&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;beancount-introduce&#x2F;#she-zhi-jie-ge&quot;,&quot;title&quot;:&quot;设置价格&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;yu-e-zi-dong-she-zhi&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;beancount-introduce&#x2F;#yu-e-zi-dong-she-zhi&quot;,&quot;title&quot;:&quot;余额自动设置&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;shi-yong-beancount&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;beancount-introduce&#x2F;#shi-yong-beancount&quot;,&quot;title&quot;:&quot;使用 Beancount&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;example&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;beancount-introduce&#x2F;#example&quot;,&quot;title&quot;:&quot;Example&quot;,&quot;children&quot;:[]}]}],&quot;word_count&quot;:1012,&quot;reading_time&quot;:6,&quot;assets&quot;:[],&quot;draft&quot;:false,&quot;lang&quot;:&quot;cn&quot;,&quot;lower&quot;:null,&quot;higher&quot;:null,&quot;translations&quot;:[{&quot;lang&quot;:&quot;cn&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;beancount-introduce&#x2F;&quot;,&quot;title&quot;:&quot;复式记账工具 Beancount&quot;,&quot;path&quot;:&quot;&#x2F;home&#x2F;runner&#x2F;work&#x2F;blog&#x2F;blog&#x2F;content&#x2F;posts&#x2F;beancount-introduce.cn.md&quot;}],&quot;backlinks&quot;:[{&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;my-homelab-introduce&#x2F;&quot;,&quot;title&quot;:&quot;My HomeLab&quot;}]},&quot;higher&quot;:{&quot;relative_path&quot;:&quot;posts&#x2F;1984-after-reading.cn.md&quot;,&quot;content&quot;:&quot;&lt;p&gt;这本书看了很久了，下面这句话一直环绕在我脑中，始终不能忘记。&lt;&#x2F;p&gt;\n&lt;blockquote&gt;\n&lt;p&gt;“老大哥在看着你。”&lt;&#x2F;p&gt;\n&lt;&#x2F;blockquote&gt;\n&lt;span id=\&quot;continue-reading\&quot;&gt;&lt;&#x2F;span&gt;\n&lt;p&gt;在书中的那个时代， 是个反乌托邦的社会， 这个社会有一个叫做老大哥的统治者。四处都贴着老大哥的肖像， 大家崇拜着这个叫做老大哥的领袖。&lt;&#x2F;p&gt;\n&lt;p&gt;那个社会中存在这样一句口号: “战争即和平；自由即奴役；无知即力量。” 看着就觉得非常厉害，读完之后在看这句话， 更能理解其中的深意。&lt;&#x2F;p&gt;\n&lt;p&gt;文中以一个小职员主人公温斯顿的日常生活，带领我们进入《1984》的世界。老大哥控制思想、老大哥永远正确、老大哥创造了历史，老大哥是人民的救星。当然也有反对老大哥的人，想推翻国家政权的人。&lt;&#x2F;p&gt;\n&lt;p&gt;而我们的主人公因为有自己的思想，负责修改历史记录，所以他犯下了思想罪，迎接他的就是死亡。因为“思想罪不会带来死亡，思想罪本身就是死亡。”&lt;&#x2F;p&gt;\n&lt;p&gt;之后温斯顿遇到了爱情，以及真正的性，同时加入到了反老大哥的组织。他读到反党领袖所写的《寡头政治集体主义的理论与实践》，他读到这本书关键之处，被思想警察活捉。&lt;&#x2F;p&gt;\n&lt;p&gt;在监狱，反复被拷打，被改造，只有相信老大哥的人才能真正的出狱。&lt;&#x2F;p&gt;\n&lt;p&gt;他也出狱了，他放弃了自己的思想，他死去了。&lt;&#x2F;p&gt;\n&lt;p&gt;这本书里面还有几句经典的话语：&lt;&#x2F;p&gt;\n&lt;blockquote&gt;\n&lt;p&gt;谁控制过去，谁就控制未来；谁控制现在，谁就控制过去。&lt;&#x2F;p&gt;\n&lt;&#x2F;blockquote&gt;\n&lt;blockquote&gt;\n&lt;p&gt;可认为自人称之为人以来，便有三等人。 上等人，中等人和下等人。这三种人的目标完全不可调和。上等人的目标是要保持他们的地位。中等人的目标是要同高等人交换地位。下等人劳苦之余无暇旁顾，若说有目标的话，无非是取消一切差别，建立一个人人平等的社会。&lt;&#x2F;p&gt;\n&lt;&#x2F;blockquote&gt;\n&lt;p&gt;这书写于1949年， 预言的是英国40年后的样子，书中是一个没有自由，没有思想，没有隐私的社会。&lt;&#x2F;p&gt;\n&lt;p&gt;谁也想不到，在70年后的今天，网络暴力四处横行，我们每个人都在谨言慎行，每个人都在用自己的思想强加于他人。&lt;&#x2F;p&gt;\n&lt;p&gt;我们这个社会自由吗？我们需要自由吗？自由的定义是什么？&lt;&#x2F;p&gt;\n&lt;p&gt;“老大哥在看着你！”&lt;&#x2F;p&gt;\n&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;1984-after-reading&#x2F;&quot;,&quot;slug&quot;:&quot;1984-after-reading&quot;,&quot;ancestors&quot;:[&quot;_index.cn.md&quot;,&quot;posts&#x2F;_index.cn.md&quot;],&quot;title&quot;:&quot;1984&quot;,&quot;description&quot;:null,&quot;updated&quot;:null,&quot;date&quot;:&quot;2019-09-02T23:28:58+08:00&quot;,&quot;year&quot;:2019,&quot;month&quot;:9,&quot;day&quot;:2,&quot;taxonomies&quot;:{&quot;tags&quot;:[&quot;After Reading&quot;]},&quot;extra&quot;:{&quot;doubian-id&quot;:4512435},&quot;path&quot;:&quot;&#x2F;cn&#x2F;posts&#x2F;1984-after-reading&#x2F;&quot;,&quot;components&quot;:[&quot;cn&quot;,&quot;posts&quot;,&quot;1984-after-reading&quot;],&quot;summary&quot;:&quot;&lt;p&gt;这本书看了很久了，下面这句话一直环绕在我脑中，始终不能忘记。&lt;&#x2F;p&gt;\n&lt;blockquote&gt;\n&lt;p&gt;“老大哥在看着你。”&lt;&#x2F;p&gt;\n&lt;&#x2F;blockquote&gt;\n&quot;,&quot;toc&quot;:[],&quot;word_count&quot;:664,&quot;reading_time&quot;:4,&quot;assets&quot;:[],&quot;draft&quot;:false,&quot;lang&quot;:&quot;cn&quot;,&quot;lower&quot;:null,&quot;higher&quot;:null,&quot;translations&quot;:[{&quot;lang&quot;:&quot;cn&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;1984-after-reading&#x2F;&quot;,&quot;title&quot;:&quot;1984&quot;,&quot;path&quot;:&quot;&#x2F;home&#x2F;runner&#x2F;work&#x2F;blog&#x2F;blog&#x2F;content&#x2F;posts&#x2F;1984-after-reading.cn.md&quot;}],&quot;backlinks&quot;:[]},&quot;translations&quot;:[{&quot;lang&quot;:&quot;cn&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;one-hundred-line-async-crawler&#x2F;&quot;,&quot;title&quot;:&quot;一百行代码实现异步爬虫&quot;,&quot;path&quot;:&quot;&#x2F;home&#x2F;runner&#x2F;work&#x2F;blog&#x2F;blog&#x2F;content&#x2F;posts&#x2F;one-hundred-line-async-crawler.cn.md&quot;}],&quot;backlinks&quot;:[]},{&quot;relative_path&quot;:&quot;posts&#x2F;1984-after-reading.cn.md&quot;,&quot;content&quot;:&quot;&lt;p&gt;这本书看了很久了，下面这句话一直环绕在我脑中，始终不能忘记。&lt;&#x2F;p&gt;\n&lt;blockquote&gt;\n&lt;p&gt;“老大哥在看着你。”&lt;&#x2F;p&gt;\n&lt;&#x2F;blockquote&gt;\n&lt;span id=\&quot;continue-reading\&quot;&gt;&lt;&#x2F;span&gt;\n&lt;p&gt;在书中的那个时代， 是个反乌托邦的社会， 这个社会有一个叫做老大哥的统治者。四处都贴着老大哥的肖像， 大家崇拜着这个叫做老大哥的领袖。&lt;&#x2F;p&gt;\n&lt;p&gt;那个社会中存在这样一句口号: “战争即和平；自由即奴役；无知即力量。” 看着就觉得非常厉害，读完之后在看这句话， 更能理解其中的深意。&lt;&#x2F;p&gt;\n&lt;p&gt;文中以一个小职员主人公温斯顿的日常生活，带领我们进入《1984》的世界。老大哥控制思想、老大哥永远正确、老大哥创造了历史，老大哥是人民的救星。当然也有反对老大哥的人，想推翻国家政权的人。&lt;&#x2F;p&gt;\n&lt;p&gt;而我们的主人公因为有自己的思想，负责修改历史记录，所以他犯下了思想罪，迎接他的就是死亡。因为“思想罪不会带来死亡，思想罪本身就是死亡。”&lt;&#x2F;p&gt;\n&lt;p&gt;之后温斯顿遇到了爱情，以及真正的性，同时加入到了反老大哥的组织。他读到反党领袖所写的《寡头政治集体主义的理论与实践》，他读到这本书关键之处，被思想警察活捉。&lt;&#x2F;p&gt;\n&lt;p&gt;在监狱，反复被拷打，被改造，只有相信老大哥的人才能真正的出狱。&lt;&#x2F;p&gt;\n&lt;p&gt;他也出狱了，他放弃了自己的思想，他死去了。&lt;&#x2F;p&gt;\n&lt;p&gt;这本书里面还有几句经典的话语：&lt;&#x2F;p&gt;\n&lt;blockquote&gt;\n&lt;p&gt;谁控制过去，谁就控制未来；谁控制现在，谁就控制过去。&lt;&#x2F;p&gt;\n&lt;&#x2F;blockquote&gt;\n&lt;blockquote&gt;\n&lt;p&gt;可认为自人称之为人以来，便有三等人。 上等人，中等人和下等人。这三种人的目标完全不可调和。上等人的目标是要保持他们的地位。中等人的目标是要同高等人交换地位。下等人劳苦之余无暇旁顾，若说有目标的话，无非是取消一切差别，建立一个人人平等的社会。&lt;&#x2F;p&gt;\n&lt;&#x2F;blockquote&gt;\n&lt;p&gt;这书写于1949年， 预言的是英国40年后的样子，书中是一个没有自由，没有思想，没有隐私的社会。&lt;&#x2F;p&gt;\n&lt;p&gt;谁也想不到，在70年后的今天，网络暴力四处横行，我们每个人都在谨言慎行，每个人都在用自己的思想强加于他人。&lt;&#x2F;p&gt;\n&lt;p&gt;我们这个社会自由吗？我们需要自由吗？自由的定义是什么？&lt;&#x2F;p&gt;\n&lt;p&gt;“老大哥在看着你！”&lt;&#x2F;p&gt;\n&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;1984-after-reading&#x2F;&quot;,&quot;slug&quot;:&quot;1984-after-reading&quot;,&quot;ancestors&quot;:[&quot;_index.cn.md&quot;,&quot;posts&#x2F;_index.cn.md&quot;],&quot;title&quot;:&quot;1984&quot;,&quot;description&quot;:null,&quot;updated&quot;:null,&quot;date&quot;:&quot;2019-09-02T23:28:58+08:00&quot;,&quot;year&quot;:2019,&quot;month&quot;:9,&quot;day&quot;:2,&quot;taxonomies&quot;:{&quot;tags&quot;:[&quot;After Reading&quot;]},&quot;extra&quot;:{&quot;doubian-id&quot;:4512435},&quot;path&quot;:&quot;&#x2F;cn&#x2F;posts&#x2F;1984-after-reading&#x2F;&quot;,&quot;components&quot;:[&quot;cn&quot;,&quot;posts&quot;,&quot;1984-after-reading&quot;],&quot;summary&quot;:&quot;&lt;p&gt;这本书看了很久了，下面这句话一直环绕在我脑中，始终不能忘记。&lt;&#x2F;p&gt;\n&lt;blockquote&gt;\n&lt;p&gt;“老大哥在看着你。”&lt;&#x2F;p&gt;\n&lt;&#x2F;blockquote&gt;\n&quot;,&quot;toc&quot;:[],&quot;word_count&quot;:664,&quot;reading_time&quot;:4,&quot;assets&quot;:[],&quot;draft&quot;:false,&quot;lang&quot;:&quot;cn&quot;,&quot;lower&quot;:{&quot;relative_path&quot;:&quot;posts&#x2F;one-hundred-line-async-crawler.cn.md&quot;,&quot;content&quot;:&quot;&lt;p&gt;一个优雅的爬虫需要一下这些东西：&lt;&#x2F;p&gt;\n&lt;ul&gt;\n&lt;li&gt;请求器&lt;&#x2F;li&gt;\n&lt;li&gt;页面解析器&lt;&#x2F;li&gt;\n&lt;li&gt;链接生成器&lt;&#x2F;li&gt;\n&lt;li&gt;调度器&lt;&#x2F;li&gt;\n&lt;&#x2F;ul&gt;\n&lt;span id=\&quot;continue-reading\&quot;&gt;&lt;&#x2F;span&gt;&lt;h2 id=\&quot;qing-qiu-qi\&quot;&gt;请求器&lt;&#x2F;h2&gt;\n&lt;p&gt;负责发送请求。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;ye-mian-jie-xi-qi\&quot;&gt;页面解析器&lt;&#x2F;h2&gt;\n&lt;p&gt;负责从页面上解析出继续爬的链接。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;lian-jie-sheng-cheng-qi\&quot;&gt;链接生成器&lt;&#x2F;h2&gt;\n&lt;p&gt;负责处理继续爬虫的链接并放入队列。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;diao-du-qi\&quot;&gt;调度器&lt;&#x2F;h2&gt;\n&lt;p&gt;决定链接是否应该被爬去的核心部件。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;yi-bu\&quot;&gt;异步&lt;&#x2F;h2&gt;\n&lt;p&gt;同时有多个请求在发送，即时异步爬虫。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;dai-ma\&quot;&gt;代码&lt;&#x2F;h2&gt;\n&lt;p&gt;相关代码已上传到 &lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;github.com&#x2F;EINDEX&#x2F;100-line-async-spider\&quot;&gt;Github[https:&#x2F;&#x2F;github.com&#x2F;EINDEX&#x2F;100-line-async-spider]&lt;&#x2F;a&gt;。&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;aiohttp, asyncio, aiofiles, lxml, pathlib, sys, re, lxml.html\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;from &lt;&#x2F;span&gt;&lt;span&gt;urllib.parse &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;urlparse\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;from &lt;&#x2F;span&gt;&lt;span&gt;pathlib &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;Path\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;from &lt;&#x2F;span&gt;&lt;span&gt;hashlib &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;md5\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;MAX_GET, MAX_QUEUE_SIZE, MAX_WORKER &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;10000&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;100&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;20\n&lt;&#x2F;span&gt;&lt;span&gt;spider_url_set, spider_content_set &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;set&lt;&#x2F;span&gt;&lt;span&gt;(), &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;set&lt;&#x2F;span&gt;&lt;span&gt;()\n&lt;&#x2F;span&gt;&lt;span&gt;status &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;{&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;success&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;all&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;same&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;same_content&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;}\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;async &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;fetch&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;url&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;global &lt;&#x2F;span&gt;&lt;span&gt;MAX_GET\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;MAX_GET &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;lt; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;async with &lt;&#x2F;span&gt;&lt;span&gt;aiohttp.ClientSession(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;connector&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt;aiohttp.TCPConnector(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;ssl&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;False&lt;&#x2F;span&gt;&lt;span&gt;), &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;timeout&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt;aiohttp.ClientTimeout(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;total&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;)) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;as &lt;&#x2F;span&gt;&lt;span&gt;session:\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;async with &lt;&#x2F;span&gt;&lt;span&gt;session.get(url) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;as &lt;&#x2F;span&gt;&lt;span&gt;response:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return await &lt;&#x2F;span&gt;&lt;span&gt;response.text()\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;async &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;savefile&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;path&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;data&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    path &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;Path(path)\n&lt;&#x2F;span&gt;&lt;span&gt;    path.parent.mkdir(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;parents&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;True&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;exist_ok&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;True&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;async with &lt;&#x2F;span&gt;&lt;span&gt;aiofiles.open(path, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;mode&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;w&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;as &lt;&#x2F;span&gt;&lt;span&gt;f:\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;await &lt;&#x2F;span&gt;&lt;span&gt;f.write(data)\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;data_analysis&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;data&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;try&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;        html &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;lxml.html.fromstring(data)\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;html.xpath(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;&#x2F;&#x2F;a&#x2F;@href&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;except&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;[]\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;url_analysis&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;endpoint&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;urls&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;url &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;urls:\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if not &lt;&#x2F;span&gt;&lt;span&gt;url &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;or &lt;&#x2F;span&gt;&lt;span&gt;url &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;== &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;#&amp;#39; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;or &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;javascript&amp;#39; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;url:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;continue\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;elif &lt;&#x2F;span&gt;&lt;span&gt;url.startswith(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;&#x2F;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;endpoint.endswith(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;&#x2F;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;                endpoint &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;endpoint[:&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;]\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;yield &lt;&#x2F;span&gt;&lt;span&gt;endpoint &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;url\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;elif &lt;&#x2F;span&gt;&lt;span&gt;url.endswith(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;.html&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;or &lt;&#x2F;span&gt;&lt;span&gt;url.endswith(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;.htm&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;or &lt;&#x2F;span&gt;&lt;span&gt;url.endswith(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;.shtml&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;or &lt;&#x2F;span&gt;&lt;span&gt;url.endswith(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;&#x2F;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;or &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;?&amp;#39; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;url:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;yield &lt;&#x2F;span&gt;&lt;span&gt;url\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;path_gene&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;endpoint&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    result &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;urlparse(endpoint)\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;f&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;data&#x2F;&lt;&#x2F;span&gt;&lt;span&gt;{&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;&#x2F;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;.join(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;filter&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;lambda &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;x&lt;&#x2F;span&gt;&lt;span&gt;:x, result.hostname.split(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;.&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;)))[::&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;])}{result.path&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;&#x2F;index.html&amp;quot; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;result.path&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;!=&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;&#x2F;&amp;quot; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;else &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;&#x2F;index.html&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;}{result.query.replace(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;&#x2F;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;)}&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;async &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;pushurl&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;url_iter&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;queue&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;global &lt;&#x2F;span&gt;&lt;span&gt;MAX_GET\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;try&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;url &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;url_iter:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;MAX_GET &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;await &lt;&#x2F;span&gt;&lt;span&gt;queue.put(url)\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;except &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;Exception &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;as &lt;&#x2F;span&gt;&lt;span&gt;e:\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;pass\n&lt;&#x2F;span&gt;&lt;span&gt;    \n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;async &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;spider&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;name&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;queue&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;global &lt;&#x2F;span&gt;&lt;span&gt;MAX_GET, spider_content_set, spider_url_set\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;while &lt;&#x2F;span&gt;&lt;span&gt;MAX_GET &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;try&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            endpoint &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= await &lt;&#x2F;span&gt;&lt;span&gt;queue.get()\n&lt;&#x2F;span&gt;&lt;span&gt;            data &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= await &lt;&#x2F;span&gt;&lt;span&gt;fetch(endpoint)\n&lt;&#x2F;span&gt;&lt;span&gt;            md5data &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;md5(data.encode()).hexdigest()\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;md5data &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;spider_content_set:\n&lt;&#x2F;span&gt;&lt;span&gt;                status[&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;same_content&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;continue\n&lt;&#x2F;span&gt;&lt;span&gt;            MAX_GET &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;-= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1\n&lt;&#x2F;span&gt;&lt;span&gt;            status[&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;all&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1\n&lt;&#x2F;span&gt;&lt;span&gt;            spider_content_set.add(md5data)\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;await &lt;&#x2F;span&gt;&lt;span&gt;savefile(path_gene(endpoint), data)\n&lt;&#x2F;span&gt;&lt;span&gt;            asyncio.gather(asyncio.create_task(pushurl(url_analysis(endpoint, data_analysis(data)), queue)), &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;return_exceptions&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;False&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;            status[&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;success&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;except &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;Exception &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;as &lt;&#x2F;span&gt;&lt;span&gt;e:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;pass\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;exit&lt;&#x2F;span&gt;&lt;span&gt;():\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;exit&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;task &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;asyncio.Task.all_tasks():\n&lt;&#x2F;span&gt;&lt;span&gt;        task.cancel()\n&lt;&#x2F;span&gt;&lt;span&gt;    sys.exit(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;async &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;main&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;first_endpoint&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    queue &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;asyncio.Queue(MAX_QUEUE_SIZE)\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;await &lt;&#x2F;span&gt;&lt;span&gt;queue.put(first_endpoint)\n&lt;&#x2F;span&gt;&lt;span&gt;    asyncio.gather(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;[asyncio.create_task(spider(spider_id,queue)) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;spider_id &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(MAX_WORKER)], &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;return_exceptions&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;False&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;try&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;while &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;True&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;await &lt;&#x2F;span&gt;&lt;span&gt;asyncio.sleep(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(queue.qsize(), MAX_GET, status)\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;MAX_GET &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;lt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0 &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;or not &lt;&#x2F;span&gt;&lt;span&gt;queue.qsize():\n&lt;&#x2F;span&gt;&lt;span&gt;                exit()\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;except&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;        exit()\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;__name__ &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;== &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;__main__&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;    asyncio.run(main(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;https:&#x2F;&#x2F;eindex.me&#x2F;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;))\n&lt;&#x2F;span&gt;&lt;span&gt;    asyncio.get_event_loop().close()\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;one-hundred-line-async-crawler&#x2F;&quot;,&quot;slug&quot;:&quot;one-hundred-line-async-crawler&quot;,&quot;ancestors&quot;:[&quot;_index.cn.md&quot;,&quot;posts&#x2F;_index.cn.md&quot;],&quot;title&quot;:&quot;一百行代码实现异步爬虫&quot;,&quot;description&quot;:null,&quot;updated&quot;:null,&quot;date&quot;:&quot;2019-09-07T12:17:25+08:00&quot;,&quot;year&quot;:2019,&quot;month&quot;:9,&quot;day&quot;:7,&quot;taxonomies&quot;:{&quot;tags&quot;:[&quot;Python&quot;,&quot;Crawler&quot;,&quot;Async&quot;]},&quot;extra&quot;:{},&quot;path&quot;:&quot;&#x2F;cn&#x2F;posts&#x2F;one-hundred-line-async-crawler&#x2F;&quot;,&quot;components&quot;:[&quot;cn&quot;,&quot;posts&quot;,&quot;one-hundred-line-async-crawler&quot;],&quot;summary&quot;:&quot;&lt;p&gt;一个优雅的爬虫需要一下这些东西：&lt;&#x2F;p&gt;\n&lt;ul&gt;\n&lt;li&gt;请求器&lt;&#x2F;li&gt;\n&lt;li&gt;页面解析器&lt;&#x2F;li&gt;\n&lt;li&gt;链接生成器&lt;&#x2F;li&gt;\n&lt;li&gt;调度器&lt;&#x2F;li&gt;\n&lt;&#x2F;ul&gt;\n&quot;,&quot;toc&quot;:[{&quot;level&quot;:2,&quot;id&quot;:&quot;qing-qiu-qi&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;one-hundred-line-async-crawler&#x2F;#qing-qiu-qi&quot;,&quot;title&quot;:&quot;请求器&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;ye-mian-jie-xi-qi&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;one-hundred-line-async-crawler&#x2F;#ye-mian-jie-xi-qi&quot;,&quot;title&quot;:&quot;页面解析器&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;lian-jie-sheng-cheng-qi&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;one-hundred-line-async-crawler&#x2F;#lian-jie-sheng-cheng-qi&quot;,&quot;title&quot;:&quot;链接生成器&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;diao-du-qi&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;one-hundred-line-async-crawler&#x2F;#diao-du-qi&quot;,&quot;title&quot;:&quot;调度器&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;yi-bu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;one-hundred-line-async-crawler&#x2F;#yi-bu&quot;,&quot;title&quot;:&quot;异步&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;dai-ma&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;one-hundred-line-async-crawler&#x2F;#dai-ma&quot;,&quot;title&quot;:&quot;代码&quot;,&quot;children&quot;:[]}],&quot;word_count&quot;:466,&quot;reading_time&quot;:3,&quot;assets&quot;:[],&quot;draft&quot;:false,&quot;lang&quot;:&quot;cn&quot;,&quot;lower&quot;:null,&quot;higher&quot;:null,&quot;translations&quot;:[{&quot;lang&quot;:&quot;cn&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;one-hundred-line-async-crawler&#x2F;&quot;,&quot;title&quot;:&quot;一百行代码实现异步爬虫&quot;,&quot;path&quot;:&quot;&#x2F;home&#x2F;runner&#x2F;work&#x2F;blog&#x2F;blog&#x2F;content&#x2F;posts&#x2F;one-hundred-line-async-crawler.cn.md&quot;}],&quot;backlinks&quot;:[]},&quot;higher&quot;:{&quot;relative_path&quot;:&quot;posts&#x2F;inverted-index.cn.md&quot;,&quot;content&quot;:&quot;&lt;p&gt;世界上最伟大的互联网产品,说是搜索引擎,绝对没有别的产品可以替代,尤其是伟大的先在市场占用率最高的搜索引擎,Google Search.&lt;&#x2F;p&gt;\n&lt;p&gt;还有很多差一大截的,比如 Bing, Yahoo 和 YANDEX.&lt;&#x2F;p&gt;\n&lt;span id=\&quot;continue-reading\&quot;&gt;&lt;&#x2F;span&gt;&lt;h2 id=\&quot;shi-yao-shi-sou-suo-yin-qing\&quot;&gt;什么是搜索引擎&lt;&#x2F;h2&gt;\n&lt;p&gt;所谓搜索引擎，就是根据用户需求与一定算法，运用特定策略从互联网检索出制定信息反馈给用户的一门检索技术。&lt;&#x2F;p&gt;\n&lt;p&gt;搜索引擎技术的核心模块一般包括爬虫、索引、检索和排序等，同时可添加其他一系列辅助模块，以为用户创造更好的网络使用环境。 &lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;sou-suo-yin-qing-gan-liao-xie-shi-yao\&quot;&gt;搜索引擎干了些什么&lt;&#x2F;h2&gt;\n&lt;p&gt;简单的说搜索引擎从网络上爬取网页,然后对网页信息进行提取,构建正排索引,然后分析网页内容,建立倒排文件.&lt;&#x2F;p&gt;\n&lt;p&gt;接下来我将依次介绍 正排索引、 倒排索引 等知识点.&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;zheng-pai-suo-yin\&quot;&gt;正排索引&lt;&#x2F;h2&gt;\n&lt;p&gt;正排索引通常是 \nid-document 的键值对&lt;&#x2F;p&gt;\n&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;id&lt;&#x2F;th&gt;&lt;th&gt;name&lt;&#x2F;th&gt;&lt;th&gt;context&lt;&#x2F;th&gt;&lt;th&gt;eng_context&lt;&#x2F;th&gt;&lt;&#x2F;tr&gt;&lt;&#x2F;thead&gt;&lt;tbody&gt;\n&lt;tr&gt;&lt;td&gt;1&lt;&#x2F;td&gt;&lt;td&gt;小明&lt;&#x2F;td&gt;&lt;td&gt;今天吃了3个包子&lt;&#x2F;td&gt;&lt;td&gt;today eating 3 baozi&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;\n&lt;tr&gt;&lt;td&gt;2&lt;&#x2F;td&gt;&lt;td&gt;小仓&lt;&#x2F;td&gt;&lt;td&gt;最后一天看了一本书&lt;&#x2F;td&gt;&lt;td&gt;read a book last day&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;\n&lt;tr&gt;&lt;td&gt;3&lt;&#x2F;td&gt;&lt;td&gt;仓颉&lt;&#x2F;td&gt;&lt;td&gt;去年造了个新华字典&lt;&#x2F;td&gt;&lt;td&gt;make a xinhua dictionary last year&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;\n&lt;&#x2F;tbody&gt;&lt;&#x2F;table&gt;\n&lt;h2 id=\&quot;dao-pai-suo-yin\&quot;&gt;倒排索引&lt;&#x2F;h2&gt;\n&lt;p&gt;倒排索引是关键词到id列表的映射关系.&lt;&#x2F;p&gt;\n&lt;p&gt;倒排索引里面左边的列叫做 term , 里面存储的通常是一个关键词; \n右边的列叫做 posting list,里面存储的是文档的id.&lt;&#x2F;p&gt;\n&lt;p&gt;左侧的一列一起叫做 term dictionary.&lt;&#x2F;p&gt;\n&lt;p&gt;首先上面有每个 document 有3个 field , 所以会创建3个倒排索引.&lt;&#x2F;p&gt;\n&lt;p&gt;如果使用默认的英文分词器,那么表格会创建的索引大概是下面这个样子:&lt;&#x2F;p&gt;\n&lt;p&gt;name index:&lt;&#x2F;p&gt;\n&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;term&lt;&#x2F;th&gt;&lt;th&gt;posting list&lt;&#x2F;th&gt;&lt;&#x2F;tr&gt;&lt;&#x2F;thead&gt;&lt;tbody&gt;\n&lt;tr&gt;&lt;td&gt;小&lt;&#x2F;td&gt;&lt;td&gt;[1, 2]&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;\n&lt;tr&gt;&lt;td&gt;仓&lt;&#x2F;td&gt;&lt;td&gt;[2, 3]&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;\n&lt;tr&gt;&lt;td&gt;明&lt;&#x2F;td&gt;&lt;td&gt;[1]&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;\n&lt;tr&gt;&lt;td&gt;颉&lt;&#x2F;td&gt;&lt;td&gt;[3]&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;\n&lt;&#x2F;tbody&gt;&lt;&#x2F;table&gt;\n&lt;p&gt;context index:&lt;&#x2F;p&gt;\n&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;term&lt;&#x2F;th&gt;&lt;th&gt;posting list&lt;&#x2F;th&gt;&lt;&#x2F;tr&gt;&lt;&#x2F;thead&gt;&lt;tbody&gt;\n&lt;tr&gt;&lt;td&gt;个&lt;&#x2F;td&gt;&lt;td&gt;[1, 3]&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;\n&lt;tr&gt;&lt;td&gt;了&lt;&#x2F;td&gt;&lt;td&gt;[1, 2, 3]&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;\n&lt;tr&gt;&lt;td&gt;今&lt;&#x2F;td&gt;&lt;td&gt;[1]&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;\n&lt;tr&gt;&lt;td&gt;...&lt;&#x2F;td&gt;&lt;td&gt;...&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;\n&lt;&#x2F;tbody&gt;&lt;&#x2F;table&gt;\n&lt;p&gt;eng_context index:&lt;&#x2F;p&gt;\n&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;term&lt;&#x2F;th&gt;&lt;th&gt;posting list&lt;&#x2F;th&gt;&lt;&#x2F;tr&gt;&lt;&#x2F;thead&gt;&lt;tbody&gt;\n&lt;tr&gt;&lt;td&gt;last&lt;&#x2F;td&gt;&lt;td&gt;[2, 3]&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;\n&lt;tr&gt;&lt;td&gt;a&lt;&#x2F;td&gt;&lt;td&gt;[2, 3]&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;\n&lt;tr&gt;&lt;td&gt;dictionary&lt;&#x2F;td&gt;&lt;td&gt;[3]&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;\n&lt;tr&gt;&lt;td&gt;...&lt;&#x2F;td&gt;&lt;td&gt;...&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;\n&lt;&#x2F;tbody&gt;&lt;&#x2F;table&gt;\n&lt;hr &#x2F;&gt;\n&lt;p&gt;读到这里想来你也会有些许疑问?&lt;&#x2F;p&gt;\n&lt;ul&gt;\n&lt;li&gt;比 MySQL Index 的优势在哪?&lt;&#x2F;li&gt;\n&lt;li&gt;当有1亿 Term 时如何高效查询?&lt;&#x2F;li&gt;\n&lt;li&gt;联合查询怎么办?&lt;&#x2F;li&gt;\n&lt;li&gt;相关度排序?&lt;&#x2F;li&gt;\n&lt;&#x2F;ul&gt;\n&lt;h2 id=\&quot;term-index\&quot;&gt;Term index&lt;&#x2F;h2&gt;\n&lt;p&gt;假象一下我们现在有 1 亿个 term, 那么这个 trem dictionary 会占多少内存呢?\n假设每个 trem 占用内存 6 byte, 那么亿个大约占用 0.6 GB, 那么如果是一个非常复杂的文档, 岂不是内存不够用?\n而且为什么搜索引擎的速度远远快于MySQL 的索引速度?&lt;&#x2F;p&gt;\n&lt;p&gt;首先 Trem Index 实际上是一种字典树(前缀树), 可以将 term dictionary 里的内容组成树状结构.\n下图会是一个普通的字典树. \n&lt;img src=\&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;inverted-index&#x2F;media&#x2F;15669198838069&#x2F;15673442795943.jpg\&quot; alt=\&quot;\&quot; &#x2F;&gt;&lt;&#x2F;p&gt;\n&lt;p&gt;而 Term Index 的 Value 就是 Term 在磁盘中的位置.&lt;&#x2F;p&gt;\n&lt;p&gt;而且 Trem Index 通常会被缓存到内存中, 再加上优秀的树结构, 所以查询速度极快, 字典树的数据结构优势, 使体积远小于 term dictonary.&lt;&#x2F;p&gt;\n&lt;p&gt;快于 MySQL 的主要原因是, 减少了访问磁盘的次数.MySQL 的B+树会在磁盘中多次读写不同位置, 而使用 term index , 则只会在匹配到 term 时进行一次磁盘访问.&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;lian-he-cha-xun\&quot;&gt;联合查询&lt;&#x2F;h2&gt;\n&lt;p&gt;如何进行索引的联合查询, 当程序获得多个Posting list 那么程序需要从list 中进行多次交集并集操作.如何减少这些操作呢?&lt;&#x2F;p&gt;\n&lt;p&gt;通常有两个解决方案.&lt;&#x2F;p&gt;\n&lt;ul&gt;\n&lt;li&gt;bitset&lt;&#x2F;li&gt;\n&lt;li&gt;跳表&lt;&#x2F;li&gt;\n&lt;&#x2F;ul&gt;\n&lt;p&gt;可以自己去看一下相关的工作原理。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;end\&quot;&gt;END&lt;&#x2F;h2&gt;\n&lt;p&gt;想必看完之后，你也对倒排索引工作原理有一定的了解了吧。感谢阅读！&lt;&#x2F;p&gt;\n&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;inverted-index&#x2F;&quot;,&quot;slug&quot;:&quot;inverted-index&quot;,&quot;ancestors&quot;:[&quot;_index.cn.md&quot;,&quot;posts&#x2F;_index.cn.md&quot;],&quot;title&quot;:&quot;倒排索引&quot;,&quot;description&quot;:null,&quot;updated&quot;:null,&quot;date&quot;:&quot;2019-08-27T12:31:56+08:00&quot;,&quot;year&quot;:2019,&quot;month&quot;:8,&quot;day&quot;:27,&quot;taxonomies&quot;:{&quot;series&quot;:[&quot;algorithm&quot;],&quot;tags&quot;:[&quot;Index&quot;,&quot;Search Engine&quot;]},&quot;extra&quot;:{},&quot;path&quot;:&quot;&#x2F;cn&#x2F;posts&#x2F;inverted-index&#x2F;&quot;,&quot;components&quot;:[&quot;cn&quot;,&quot;posts&quot;,&quot;inverted-index&quot;],&quot;summary&quot;:&quot;&lt;p&gt;世界上最伟大的互联网产品,说是搜索引擎,绝对没有别的产品可以替代,尤其是伟大的先在市场占用率最高的搜索引擎,Google Search.&lt;&#x2F;p&gt;\n&lt;p&gt;还有很多差一大截的,比如 Bing, Yahoo 和 YANDEX.&lt;&#x2F;p&gt;\n&quot;,&quot;toc&quot;:[{&quot;level&quot;:2,&quot;id&quot;:&quot;shi-yao-shi-sou-suo-yin-qing&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;inverted-index&#x2F;#shi-yao-shi-sou-suo-yin-qing&quot;,&quot;title&quot;:&quot;什么是搜索引擎&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;sou-suo-yin-qing-gan-liao-xie-shi-yao&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;inverted-index&#x2F;#sou-suo-yin-qing-gan-liao-xie-shi-yao&quot;,&quot;title&quot;:&quot;搜索引擎干了些什么&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;zheng-pai-suo-yin&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;inverted-index&#x2F;#zheng-pai-suo-yin&quot;,&quot;title&quot;:&quot;正排索引&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;dao-pai-suo-yin&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;inverted-index&#x2F;#dao-pai-suo-yin&quot;,&quot;title&quot;:&quot;倒排索引&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;term-index&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;inverted-index&#x2F;#term-index&quot;,&quot;title&quot;:&quot;Term index&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;lian-he-cha-xun&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;inverted-index&#x2F;#lian-he-cha-xun&quot;,&quot;title&quot;:&quot;联合查询&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;end&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;inverted-index&#x2F;#end&quot;,&quot;title&quot;:&quot;END&quot;,&quot;children&quot;:[]}],&quot;word_count&quot;:914,&quot;reading_time&quot;:5,&quot;assets&quot;:[],&quot;draft&quot;:false,&quot;lang&quot;:&quot;cn&quot;,&quot;lower&quot;:null,&quot;higher&quot;:null,&quot;translations&quot;:[{&quot;lang&quot;:&quot;cn&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;inverted-index&#x2F;&quot;,&quot;title&quot;:&quot;倒排索引&quot;,&quot;path&quot;:&quot;&#x2F;home&#x2F;runner&#x2F;work&#x2F;blog&#x2F;blog&#x2F;content&#x2F;posts&#x2F;inverted-index.cn.md&quot;}],&quot;backlinks&quot;:[]},&quot;translations&quot;:[{&quot;lang&quot;:&quot;cn&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;1984-after-reading&#x2F;&quot;,&quot;title&quot;:&quot;1984&quot;,&quot;path&quot;:&quot;&#x2F;home&#x2F;runner&#x2F;work&#x2F;blog&#x2F;blog&#x2F;content&#x2F;posts&#x2F;1984-after-reading.cn.md&quot;}],&quot;backlinks&quot;:[]},{&quot;relative_path&quot;:&quot;posts&#x2F;inverted-index.cn.md&quot;,&quot;content&quot;:&quot;&lt;p&gt;世界上最伟大的互联网产品,说是搜索引擎,绝对没有别的产品可以替代,尤其是伟大的先在市场占用率最高的搜索引擎,Google Search.&lt;&#x2F;p&gt;\n&lt;p&gt;还有很多差一大截的,比如 Bing, Yahoo 和 YANDEX.&lt;&#x2F;p&gt;\n&lt;span id=\&quot;continue-reading\&quot;&gt;&lt;&#x2F;span&gt;&lt;h2 id=\&quot;shi-yao-shi-sou-suo-yin-qing\&quot;&gt;什么是搜索引擎&lt;&#x2F;h2&gt;\n&lt;p&gt;所谓搜索引擎，就是根据用户需求与一定算法，运用特定策略从互联网检索出制定信息反馈给用户的一门检索技术。&lt;&#x2F;p&gt;\n&lt;p&gt;搜索引擎技术的核心模块一般包括爬虫、索引、检索和排序等，同时可添加其他一系列辅助模块，以为用户创造更好的网络使用环境。 &lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;sou-suo-yin-qing-gan-liao-xie-shi-yao\&quot;&gt;搜索引擎干了些什么&lt;&#x2F;h2&gt;\n&lt;p&gt;简单的说搜索引擎从网络上爬取网页,然后对网页信息进行提取,构建正排索引,然后分析网页内容,建立倒排文件.&lt;&#x2F;p&gt;\n&lt;p&gt;接下来我将依次介绍 正排索引、 倒排索引 等知识点.&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;zheng-pai-suo-yin\&quot;&gt;正排索引&lt;&#x2F;h2&gt;\n&lt;p&gt;正排索引通常是 \nid-document 的键值对&lt;&#x2F;p&gt;\n&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;id&lt;&#x2F;th&gt;&lt;th&gt;name&lt;&#x2F;th&gt;&lt;th&gt;context&lt;&#x2F;th&gt;&lt;th&gt;eng_context&lt;&#x2F;th&gt;&lt;&#x2F;tr&gt;&lt;&#x2F;thead&gt;&lt;tbody&gt;\n&lt;tr&gt;&lt;td&gt;1&lt;&#x2F;td&gt;&lt;td&gt;小明&lt;&#x2F;td&gt;&lt;td&gt;今天吃了3个包子&lt;&#x2F;td&gt;&lt;td&gt;today eating 3 baozi&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;\n&lt;tr&gt;&lt;td&gt;2&lt;&#x2F;td&gt;&lt;td&gt;小仓&lt;&#x2F;td&gt;&lt;td&gt;最后一天看了一本书&lt;&#x2F;td&gt;&lt;td&gt;read a book last day&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;\n&lt;tr&gt;&lt;td&gt;3&lt;&#x2F;td&gt;&lt;td&gt;仓颉&lt;&#x2F;td&gt;&lt;td&gt;去年造了个新华字典&lt;&#x2F;td&gt;&lt;td&gt;make a xinhua dictionary last year&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;\n&lt;&#x2F;tbody&gt;&lt;&#x2F;table&gt;\n&lt;h2 id=\&quot;dao-pai-suo-yin\&quot;&gt;倒排索引&lt;&#x2F;h2&gt;\n&lt;p&gt;倒排索引是关键词到id列表的映射关系.&lt;&#x2F;p&gt;\n&lt;p&gt;倒排索引里面左边的列叫做 term , 里面存储的通常是一个关键词; \n右边的列叫做 posting list,里面存储的是文档的id.&lt;&#x2F;p&gt;\n&lt;p&gt;左侧的一列一起叫做 term dictionary.&lt;&#x2F;p&gt;\n&lt;p&gt;首先上面有每个 document 有3个 field , 所以会创建3个倒排索引.&lt;&#x2F;p&gt;\n&lt;p&gt;如果使用默认的英文分词器,那么表格会创建的索引大概是下面这个样子:&lt;&#x2F;p&gt;\n&lt;p&gt;name index:&lt;&#x2F;p&gt;\n&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;term&lt;&#x2F;th&gt;&lt;th&gt;posting list&lt;&#x2F;th&gt;&lt;&#x2F;tr&gt;&lt;&#x2F;thead&gt;&lt;tbody&gt;\n&lt;tr&gt;&lt;td&gt;小&lt;&#x2F;td&gt;&lt;td&gt;[1, 2]&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;\n&lt;tr&gt;&lt;td&gt;仓&lt;&#x2F;td&gt;&lt;td&gt;[2, 3]&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;\n&lt;tr&gt;&lt;td&gt;明&lt;&#x2F;td&gt;&lt;td&gt;[1]&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;\n&lt;tr&gt;&lt;td&gt;颉&lt;&#x2F;td&gt;&lt;td&gt;[3]&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;\n&lt;&#x2F;tbody&gt;&lt;&#x2F;table&gt;\n&lt;p&gt;context index:&lt;&#x2F;p&gt;\n&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;term&lt;&#x2F;th&gt;&lt;th&gt;posting list&lt;&#x2F;th&gt;&lt;&#x2F;tr&gt;&lt;&#x2F;thead&gt;&lt;tbody&gt;\n&lt;tr&gt;&lt;td&gt;个&lt;&#x2F;td&gt;&lt;td&gt;[1, 3]&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;\n&lt;tr&gt;&lt;td&gt;了&lt;&#x2F;td&gt;&lt;td&gt;[1, 2, 3]&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;\n&lt;tr&gt;&lt;td&gt;今&lt;&#x2F;td&gt;&lt;td&gt;[1]&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;\n&lt;tr&gt;&lt;td&gt;...&lt;&#x2F;td&gt;&lt;td&gt;...&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;\n&lt;&#x2F;tbody&gt;&lt;&#x2F;table&gt;\n&lt;p&gt;eng_context index:&lt;&#x2F;p&gt;\n&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;term&lt;&#x2F;th&gt;&lt;th&gt;posting list&lt;&#x2F;th&gt;&lt;&#x2F;tr&gt;&lt;&#x2F;thead&gt;&lt;tbody&gt;\n&lt;tr&gt;&lt;td&gt;last&lt;&#x2F;td&gt;&lt;td&gt;[2, 3]&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;\n&lt;tr&gt;&lt;td&gt;a&lt;&#x2F;td&gt;&lt;td&gt;[2, 3]&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;\n&lt;tr&gt;&lt;td&gt;dictionary&lt;&#x2F;td&gt;&lt;td&gt;[3]&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;\n&lt;tr&gt;&lt;td&gt;...&lt;&#x2F;td&gt;&lt;td&gt;...&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;\n&lt;&#x2F;tbody&gt;&lt;&#x2F;table&gt;\n&lt;hr &#x2F;&gt;\n&lt;p&gt;读到这里想来你也会有些许疑问?&lt;&#x2F;p&gt;\n&lt;ul&gt;\n&lt;li&gt;比 MySQL Index 的优势在哪?&lt;&#x2F;li&gt;\n&lt;li&gt;当有1亿 Term 时如何高效查询?&lt;&#x2F;li&gt;\n&lt;li&gt;联合查询怎么办?&lt;&#x2F;li&gt;\n&lt;li&gt;相关度排序?&lt;&#x2F;li&gt;\n&lt;&#x2F;ul&gt;\n&lt;h2 id=\&quot;term-index\&quot;&gt;Term index&lt;&#x2F;h2&gt;\n&lt;p&gt;假象一下我们现在有 1 亿个 term, 那么这个 trem dictionary 会占多少内存呢?\n假设每个 trem 占用内存 6 byte, 那么亿个大约占用 0.6 GB, 那么如果是一个非常复杂的文档, 岂不是内存不够用?\n而且为什么搜索引擎的速度远远快于MySQL 的索引速度?&lt;&#x2F;p&gt;\n&lt;p&gt;首先 Trem Index 实际上是一种字典树(前缀树), 可以将 term dictionary 里的内容组成树状结构.\n下图会是一个普通的字典树. \n&lt;img src=\&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;inverted-index&#x2F;media&#x2F;15669198838069&#x2F;15673442795943.jpg\&quot; alt=\&quot;\&quot; &#x2F;&gt;&lt;&#x2F;p&gt;\n&lt;p&gt;而 Term Index 的 Value 就是 Term 在磁盘中的位置.&lt;&#x2F;p&gt;\n&lt;p&gt;而且 Trem Index 通常会被缓存到内存中, 再加上优秀的树结构, 所以查询速度极快, 字典树的数据结构优势, 使体积远小于 term dictonary.&lt;&#x2F;p&gt;\n&lt;p&gt;快于 MySQL 的主要原因是, 减少了访问磁盘的次数.MySQL 的B+树会在磁盘中多次读写不同位置, 而使用 term index , 则只会在匹配到 term 时进行一次磁盘访问.&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;lian-he-cha-xun\&quot;&gt;联合查询&lt;&#x2F;h2&gt;\n&lt;p&gt;如何进行索引的联合查询, 当程序获得多个Posting list 那么程序需要从list 中进行多次交集并集操作.如何减少这些操作呢?&lt;&#x2F;p&gt;\n&lt;p&gt;通常有两个解决方案.&lt;&#x2F;p&gt;\n&lt;ul&gt;\n&lt;li&gt;bitset&lt;&#x2F;li&gt;\n&lt;li&gt;跳表&lt;&#x2F;li&gt;\n&lt;&#x2F;ul&gt;\n&lt;p&gt;可以自己去看一下相关的工作原理。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;end\&quot;&gt;END&lt;&#x2F;h2&gt;\n&lt;p&gt;想必看完之后，你也对倒排索引工作原理有一定的了解了吧。感谢阅读！&lt;&#x2F;p&gt;\n&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;inverted-index&#x2F;&quot;,&quot;slug&quot;:&quot;inverted-index&quot;,&quot;ancestors&quot;:[&quot;_index.cn.md&quot;,&quot;posts&#x2F;_index.cn.md&quot;],&quot;title&quot;:&quot;倒排索引&quot;,&quot;description&quot;:null,&quot;updated&quot;:null,&quot;date&quot;:&quot;2019-08-27T12:31:56+08:00&quot;,&quot;year&quot;:2019,&quot;month&quot;:8,&quot;day&quot;:27,&quot;taxonomies&quot;:{&quot;series&quot;:[&quot;algorithm&quot;],&quot;tags&quot;:[&quot;Index&quot;,&quot;Search Engine&quot;]},&quot;extra&quot;:{},&quot;path&quot;:&quot;&#x2F;cn&#x2F;posts&#x2F;inverted-index&#x2F;&quot;,&quot;components&quot;:[&quot;cn&quot;,&quot;posts&quot;,&quot;inverted-index&quot;],&quot;summary&quot;:&quot;&lt;p&gt;世界上最伟大的互联网产品,说是搜索引擎,绝对没有别的产品可以替代,尤其是伟大的先在市场占用率最高的搜索引擎,Google Search.&lt;&#x2F;p&gt;\n&lt;p&gt;还有很多差一大截的,比如 Bing, Yahoo 和 YANDEX.&lt;&#x2F;p&gt;\n&quot;,&quot;toc&quot;:[{&quot;level&quot;:2,&quot;id&quot;:&quot;shi-yao-shi-sou-suo-yin-qing&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;inverted-index&#x2F;#shi-yao-shi-sou-suo-yin-qing&quot;,&quot;title&quot;:&quot;什么是搜索引擎&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;sou-suo-yin-qing-gan-liao-xie-shi-yao&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;inverted-index&#x2F;#sou-suo-yin-qing-gan-liao-xie-shi-yao&quot;,&quot;title&quot;:&quot;搜索引擎干了些什么&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;zheng-pai-suo-yin&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;inverted-index&#x2F;#zheng-pai-suo-yin&quot;,&quot;title&quot;:&quot;正排索引&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;dao-pai-suo-yin&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;inverted-index&#x2F;#dao-pai-suo-yin&quot;,&quot;title&quot;:&quot;倒排索引&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;term-index&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;inverted-index&#x2F;#term-index&quot;,&quot;title&quot;:&quot;Term index&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;lian-he-cha-xun&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;inverted-index&#x2F;#lian-he-cha-xun&quot;,&quot;title&quot;:&quot;联合查询&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;end&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;inverted-index&#x2F;#end&quot;,&quot;title&quot;:&quot;END&quot;,&quot;children&quot;:[]}],&quot;word_count&quot;:914,&quot;reading_time&quot;:5,&quot;assets&quot;:[],&quot;draft&quot;:false,&quot;lang&quot;:&quot;cn&quot;,&quot;lower&quot;:{&quot;relative_path&quot;:&quot;posts&#x2F;1984-after-reading.cn.md&quot;,&quot;content&quot;:&quot;&lt;p&gt;这本书看了很久了，下面这句话一直环绕在我脑中，始终不能忘记。&lt;&#x2F;p&gt;\n&lt;blockquote&gt;\n&lt;p&gt;“老大哥在看着你。”&lt;&#x2F;p&gt;\n&lt;&#x2F;blockquote&gt;\n&lt;span id=\&quot;continue-reading\&quot;&gt;&lt;&#x2F;span&gt;\n&lt;p&gt;在书中的那个时代， 是个反乌托邦的社会， 这个社会有一个叫做老大哥的统治者。四处都贴着老大哥的肖像， 大家崇拜着这个叫做老大哥的领袖。&lt;&#x2F;p&gt;\n&lt;p&gt;那个社会中存在这样一句口号: “战争即和平；自由即奴役；无知即力量。” 看着就觉得非常厉害，读完之后在看这句话， 更能理解其中的深意。&lt;&#x2F;p&gt;\n&lt;p&gt;文中以一个小职员主人公温斯顿的日常生活，带领我们进入《1984》的世界。老大哥控制思想、老大哥永远正确、老大哥创造了历史，老大哥是人民的救星。当然也有反对老大哥的人，想推翻国家政权的人。&lt;&#x2F;p&gt;\n&lt;p&gt;而我们的主人公因为有自己的思想，负责修改历史记录，所以他犯下了思想罪，迎接他的就是死亡。因为“思想罪不会带来死亡，思想罪本身就是死亡。”&lt;&#x2F;p&gt;\n&lt;p&gt;之后温斯顿遇到了爱情，以及真正的性，同时加入到了反老大哥的组织。他读到反党领袖所写的《寡头政治集体主义的理论与实践》，他读到这本书关键之处，被思想警察活捉。&lt;&#x2F;p&gt;\n&lt;p&gt;在监狱，反复被拷打，被改造，只有相信老大哥的人才能真正的出狱。&lt;&#x2F;p&gt;\n&lt;p&gt;他也出狱了，他放弃了自己的思想，他死去了。&lt;&#x2F;p&gt;\n&lt;p&gt;这本书里面还有几句经典的话语：&lt;&#x2F;p&gt;\n&lt;blockquote&gt;\n&lt;p&gt;谁控制过去，谁就控制未来；谁控制现在，谁就控制过去。&lt;&#x2F;p&gt;\n&lt;&#x2F;blockquote&gt;\n&lt;blockquote&gt;\n&lt;p&gt;可认为自人称之为人以来，便有三等人。 上等人，中等人和下等人。这三种人的目标完全不可调和。上等人的目标是要保持他们的地位。中等人的目标是要同高等人交换地位。下等人劳苦之余无暇旁顾，若说有目标的话，无非是取消一切差别，建立一个人人平等的社会。&lt;&#x2F;p&gt;\n&lt;&#x2F;blockquote&gt;\n&lt;p&gt;这书写于1949年， 预言的是英国40年后的样子，书中是一个没有自由，没有思想，没有隐私的社会。&lt;&#x2F;p&gt;\n&lt;p&gt;谁也想不到，在70年后的今天，网络暴力四处横行，我们每个人都在谨言慎行，每个人都在用自己的思想强加于他人。&lt;&#x2F;p&gt;\n&lt;p&gt;我们这个社会自由吗？我们需要自由吗？自由的定义是什么？&lt;&#x2F;p&gt;\n&lt;p&gt;“老大哥在看着你！”&lt;&#x2F;p&gt;\n&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;1984-after-reading&#x2F;&quot;,&quot;slug&quot;:&quot;1984-after-reading&quot;,&quot;ancestors&quot;:[&quot;_index.cn.md&quot;,&quot;posts&#x2F;_index.cn.md&quot;],&quot;title&quot;:&quot;1984&quot;,&quot;description&quot;:null,&quot;updated&quot;:null,&quot;date&quot;:&quot;2019-09-02T23:28:58+08:00&quot;,&quot;year&quot;:2019,&quot;month&quot;:9,&quot;day&quot;:2,&quot;taxonomies&quot;:{&quot;tags&quot;:[&quot;After Reading&quot;]},&quot;extra&quot;:{&quot;doubian-id&quot;:4512435},&quot;path&quot;:&quot;&#x2F;cn&#x2F;posts&#x2F;1984-after-reading&#x2F;&quot;,&quot;components&quot;:[&quot;cn&quot;,&quot;posts&quot;,&quot;1984-after-reading&quot;],&quot;summary&quot;:&quot;&lt;p&gt;这本书看了很久了，下面这句话一直环绕在我脑中，始终不能忘记。&lt;&#x2F;p&gt;\n&lt;blockquote&gt;\n&lt;p&gt;“老大哥在看着你。”&lt;&#x2F;p&gt;\n&lt;&#x2F;blockquote&gt;\n&quot;,&quot;toc&quot;:[],&quot;word_count&quot;:664,&quot;reading_time&quot;:4,&quot;assets&quot;:[],&quot;draft&quot;:false,&quot;lang&quot;:&quot;cn&quot;,&quot;lower&quot;:null,&quot;higher&quot;:null,&quot;translations&quot;:[{&quot;lang&quot;:&quot;cn&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;1984-after-reading&#x2F;&quot;,&quot;title&quot;:&quot;1984&quot;,&quot;path&quot;:&quot;&#x2F;home&#x2F;runner&#x2F;work&#x2F;blog&#x2F;blog&#x2F;content&#x2F;posts&#x2F;1984-after-reading.cn.md&quot;}],&quot;backlinks&quot;:[]},&quot;higher&quot;:{&quot;relative_path&quot;:&quot;posts&#x2F;tornado-auto-etag.cn.md&quot;,&quot;content&quot;:&quot;&lt;p&gt;为了研究缓存看了 tornado &lt;code&gt;web.py&lt;&#x2F;code&gt; 里的 &lt;code&gt;finish&lt;&#x2F;code&gt; 函数&lt;&#x2F;p&gt;\n&lt;span id=\&quot;continue-reading\&quot;&gt;&lt;&#x2F;span&gt;\n&lt;p&gt;代码如下&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;finish&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;chunk&lt;&#x2F;span&gt;&lt;span&gt;: Union[&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;str&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;bytes&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;dict&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None&lt;&#x2F;span&gt;&lt;span&gt;) -&amp;gt; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;Future[None]&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;&amp;quot;&amp;quot;&amp;quot;Finishes this response, ending the HTTP request.\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        Passing a ``chunk`` to ``finish()`` is equivalent to passing that\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        chunk to ``write()`` and then calling ``finish()`` with no arguments.\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        Returns a `.Future` which may optionally be awaited to track the sending\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        of the response to the client. This `.Future` resolves when all the response\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        data has been sent, and raises an error if the connection is closed before all\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        data can be sent.\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        .. versionchanged:: 5.1\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;           Now returns a `.Future` instead of ``None``.\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        &amp;quot;&amp;quot;&amp;quot;\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;self._finished:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;raise &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;RuntimeError&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;finish() called twice&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;chunk &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;is not &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            self.write(chunk)\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# Automatically support ETags and add the Content-Length header if\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# we have not flushed any content yet.\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if not &lt;&#x2F;span&gt;&lt;span&gt;self._headers_written:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;(\n&lt;&#x2F;span&gt;&lt;span&gt;                self._status_code &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;== &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;200\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;and &lt;&#x2F;span&gt;&lt;span&gt;self.request.method &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;GET&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;HEAD&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;and &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;Etag&amp;quot; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;not in &lt;&#x2F;span&gt;&lt;span&gt;self._headers\n&lt;&#x2F;span&gt;&lt;span&gt;            ):\n&lt;&#x2F;span&gt;&lt;span&gt;                self.set_etag_header()\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;self.check_etag_header():\n&lt;&#x2F;span&gt;&lt;span&gt;                    self._write_buffer &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[]\n&lt;&#x2F;span&gt;&lt;span&gt;                    self.set_status(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;304&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;self._status_code &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;204&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;304&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;or &lt;&#x2F;span&gt;&lt;span&gt;(\n&lt;&#x2F;span&gt;&lt;span&gt;                self._status_code &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;100 &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;and &lt;&#x2F;span&gt;&lt;span&gt;self._status_code &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;lt; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;200\n&lt;&#x2F;span&gt;&lt;span&gt;            ):\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;assert not &lt;&#x2F;span&gt;&lt;span&gt;self._write_buffer, (\n&lt;&#x2F;span&gt;&lt;span&gt;                    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;Cannot send body with &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;%s&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;% &lt;&#x2F;span&gt;&lt;span&gt;self._status_code\n&lt;&#x2F;span&gt;&lt;span&gt;                )\n&lt;&#x2F;span&gt;&lt;span&gt;                self._clear_headers_for_304()\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;elif &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;Content-Length&amp;quot; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;not in &lt;&#x2F;span&gt;&lt;span&gt;self._headers:\n&lt;&#x2F;span&gt;&lt;span&gt;                content_length &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;sum&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(part) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;part &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;self._write_buffer)\n&lt;&#x2F;span&gt;&lt;span&gt;                self.set_header(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;Content-Length&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;, content_length)\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;assert &lt;&#x2F;span&gt;&lt;span&gt;self.request.connection &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;is not &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# Now that the request is finished, clear the callback we\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# set on the HTTPConnection (which would otherwise prevent the\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# garbage collection of the RequestHandler when there\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# are keepalive connections)\n&lt;&#x2F;span&gt;&lt;span&gt;        self.request.connection.set_close_callback(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None&lt;&#x2F;span&gt;&lt;span&gt;)  &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# type: ignore\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        future &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;self.flush(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;include_footers&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;True&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;        self.request.connection.finish()\n&lt;&#x2F;span&gt;&lt;span&gt;        self._log()\n&lt;&#x2F;span&gt;&lt;span&gt;        self._finished &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;True\n&lt;&#x2F;span&gt;&lt;span&gt;        self.on_finish()\n&lt;&#x2F;span&gt;&lt;span&gt;        self._break_cycles()\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;future\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;p&gt;从代码中可以看出, 满足下面条件的请求:&lt;&#x2F;p&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;code&gt;self._headers_written&lt;&#x2F;code&gt; 为不为&lt;code&gt;True&lt;&#x2F;code&gt; &lt;&#x2F;li&gt;\n&lt;li&gt;http status 为 &lt;code&gt;200&lt;&#x2F;code&gt; 的 &lt;code&gt;GET&lt;&#x2F;code&gt;、 &lt;code&gt;HEAD&lt;&#x2F;code&gt; 请求&lt;&#x2F;li&gt;\n&lt;li&gt;同时没有 &lt;code&gt;Etag&lt;&#x2F;code&gt; 在 &lt;code&gt;response header&lt;&#x2F;code&gt; 的情况下&lt;&#x2F;li&gt;\n&lt;&#x2F;ul&gt;\n&lt;p&gt;tornado 会自动计算返回结果的 sha1, 并设置 Etag 若客户端支持 Etag 机制, 正确返回 &lt;code&gt;If-None-Match&lt;&#x2F;code&gt;, 就能节约一波流量, 美滋滋.&lt;&#x2F;p&gt;\n&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tornado-auto-etag&#x2F;&quot;,&quot;slug&quot;:&quot;tornado-auto-etag&quot;,&quot;ancestors&quot;:[&quot;_index.cn.md&quot;,&quot;posts&#x2F;_index.cn.md&quot;],&quot;title&quot;:&quot;Tornado Auto Etag 机制&quot;,&quot;description&quot;:null,&quot;updated&quot;:null,&quot;date&quot;:&quot;2019-04-24T14:20:03+08:00&quot;,&quot;year&quot;:2019,&quot;month&quot;:4,&quot;day&quot;:24,&quot;taxonomies&quot;:{&quot;tags&quot;:[&quot;Python&quot;,&quot;Cache&quot;,&quot;ETag&quot;]},&quot;extra&quot;:{},&quot;path&quot;:&quot;&#x2F;cn&#x2F;posts&#x2F;tornado-auto-etag&#x2F;&quot;,&quot;components&quot;:[&quot;cn&quot;,&quot;posts&quot;,&quot;tornado-auto-etag&quot;],&quot;summary&quot;:&quot;&lt;p&gt;为了研究缓存看了 tornado &lt;code&gt;web.py&lt;&#x2F;code&gt; 里的 &lt;code&gt;finish&lt;&#x2F;code&gt; 函数&lt;&#x2F;p&gt;\n&quot;,&quot;toc&quot;:[],&quot;word_count&quot;:357,&quot;reading_time&quot;:2,&quot;assets&quot;:[],&quot;draft&quot;:false,&quot;lang&quot;:&quot;cn&quot;,&quot;lower&quot;:null,&quot;higher&quot;:null,&quot;translations&quot;:[{&quot;lang&quot;:&quot;cn&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tornado-auto-etag&#x2F;&quot;,&quot;title&quot;:&quot;Tornado Auto Etag 机制&quot;,&quot;path&quot;:&quot;&#x2F;home&#x2F;runner&#x2F;work&#x2F;blog&#x2F;blog&#x2F;content&#x2F;posts&#x2F;tornado-auto-etag.cn.md&quot;}],&quot;backlinks&quot;:[]},&quot;translations&quot;:[{&quot;lang&quot;:&quot;cn&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;inverted-index&#x2F;&quot;,&quot;title&quot;:&quot;倒排索引&quot;,&quot;path&quot;:&quot;&#x2F;home&#x2F;runner&#x2F;work&#x2F;blog&#x2F;blog&#x2F;content&#x2F;posts&#x2F;inverted-index.cn.md&quot;}],&quot;backlinks&quot;:[]},{&quot;relative_path&quot;:&quot;posts&#x2F;tornado-auto-etag.cn.md&quot;,&quot;content&quot;:&quot;&lt;p&gt;为了研究缓存看了 tornado &lt;code&gt;web.py&lt;&#x2F;code&gt; 里的 &lt;code&gt;finish&lt;&#x2F;code&gt; 函数&lt;&#x2F;p&gt;\n&lt;span id=\&quot;continue-reading\&quot;&gt;&lt;&#x2F;span&gt;\n&lt;p&gt;代码如下&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;finish&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;chunk&lt;&#x2F;span&gt;&lt;span&gt;: Union[&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;str&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;bytes&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;dict&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None&lt;&#x2F;span&gt;&lt;span&gt;) -&amp;gt; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;Future[None]&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;&amp;quot;&amp;quot;&amp;quot;Finishes this response, ending the HTTP request.\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        Passing a ``chunk`` to ``finish()`` is equivalent to passing that\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        chunk to ``write()`` and then calling ``finish()`` with no arguments.\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        Returns a `.Future` which may optionally be awaited to track the sending\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        of the response to the client. This `.Future` resolves when all the response\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        data has been sent, and raises an error if the connection is closed before all\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        data can be sent.\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        .. versionchanged:: 5.1\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;           Now returns a `.Future` instead of ``None``.\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        &amp;quot;&amp;quot;&amp;quot;\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;self._finished:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;raise &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;RuntimeError&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;finish() called twice&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;chunk &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;is not &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            self.write(chunk)\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# Automatically support ETags and add the Content-Length header if\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# we have not flushed any content yet.\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if not &lt;&#x2F;span&gt;&lt;span&gt;self._headers_written:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;(\n&lt;&#x2F;span&gt;&lt;span&gt;                self._status_code &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;== &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;200\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;and &lt;&#x2F;span&gt;&lt;span&gt;self.request.method &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;GET&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;HEAD&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;and &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;Etag&amp;quot; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;not in &lt;&#x2F;span&gt;&lt;span&gt;self._headers\n&lt;&#x2F;span&gt;&lt;span&gt;            ):\n&lt;&#x2F;span&gt;&lt;span&gt;                self.set_etag_header()\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;self.check_etag_header():\n&lt;&#x2F;span&gt;&lt;span&gt;                    self._write_buffer &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[]\n&lt;&#x2F;span&gt;&lt;span&gt;                    self.set_status(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;304&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;self._status_code &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;204&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;304&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;or &lt;&#x2F;span&gt;&lt;span&gt;(\n&lt;&#x2F;span&gt;&lt;span&gt;                self._status_code &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;100 &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;and &lt;&#x2F;span&gt;&lt;span&gt;self._status_code &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;lt; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;200\n&lt;&#x2F;span&gt;&lt;span&gt;            ):\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;assert not &lt;&#x2F;span&gt;&lt;span&gt;self._write_buffer, (\n&lt;&#x2F;span&gt;&lt;span&gt;                    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;Cannot send body with &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;%s&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;% &lt;&#x2F;span&gt;&lt;span&gt;self._status_code\n&lt;&#x2F;span&gt;&lt;span&gt;                )\n&lt;&#x2F;span&gt;&lt;span&gt;                self._clear_headers_for_304()\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;elif &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;Content-Length&amp;quot; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;not in &lt;&#x2F;span&gt;&lt;span&gt;self._headers:\n&lt;&#x2F;span&gt;&lt;span&gt;                content_length &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;sum&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(part) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;part &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;self._write_buffer)\n&lt;&#x2F;span&gt;&lt;span&gt;                self.set_header(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;Content-Length&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;, content_length)\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;assert &lt;&#x2F;span&gt;&lt;span&gt;self.request.connection &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;is not &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# Now that the request is finished, clear the callback we\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# set on the HTTPConnection (which would otherwise prevent the\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# garbage collection of the RequestHandler when there\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# are keepalive connections)\n&lt;&#x2F;span&gt;&lt;span&gt;        self.request.connection.set_close_callback(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None&lt;&#x2F;span&gt;&lt;span&gt;)  &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# type: ignore\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        future &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;self.flush(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;include_footers&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;True&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;        self.request.connection.finish()\n&lt;&#x2F;span&gt;&lt;span&gt;        self._log()\n&lt;&#x2F;span&gt;&lt;span&gt;        self._finished &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;True\n&lt;&#x2F;span&gt;&lt;span&gt;        self.on_finish()\n&lt;&#x2F;span&gt;&lt;span&gt;        self._break_cycles()\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;future\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;p&gt;从代码中可以看出, 满足下面条件的请求:&lt;&#x2F;p&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;code&gt;self._headers_written&lt;&#x2F;code&gt; 为不为&lt;code&gt;True&lt;&#x2F;code&gt; &lt;&#x2F;li&gt;\n&lt;li&gt;http status 为 &lt;code&gt;200&lt;&#x2F;code&gt; 的 &lt;code&gt;GET&lt;&#x2F;code&gt;、 &lt;code&gt;HEAD&lt;&#x2F;code&gt; 请求&lt;&#x2F;li&gt;\n&lt;li&gt;同时没有 &lt;code&gt;Etag&lt;&#x2F;code&gt; 在 &lt;code&gt;response header&lt;&#x2F;code&gt; 的情况下&lt;&#x2F;li&gt;\n&lt;&#x2F;ul&gt;\n&lt;p&gt;tornado 会自动计算返回结果的 sha1, 并设置 Etag 若客户端支持 Etag 机制, 正确返回 &lt;code&gt;If-None-Match&lt;&#x2F;code&gt;, 就能节约一波流量, 美滋滋.&lt;&#x2F;p&gt;\n&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tornado-auto-etag&#x2F;&quot;,&quot;slug&quot;:&quot;tornado-auto-etag&quot;,&quot;ancestors&quot;:[&quot;_index.cn.md&quot;,&quot;posts&#x2F;_index.cn.md&quot;],&quot;title&quot;:&quot;Tornado Auto Etag 机制&quot;,&quot;description&quot;:null,&quot;updated&quot;:null,&quot;date&quot;:&quot;2019-04-24T14:20:03+08:00&quot;,&quot;year&quot;:2019,&quot;month&quot;:4,&quot;day&quot;:24,&quot;taxonomies&quot;:{&quot;tags&quot;:[&quot;Python&quot;,&quot;Cache&quot;,&quot;ETag&quot;]},&quot;extra&quot;:{},&quot;path&quot;:&quot;&#x2F;cn&#x2F;posts&#x2F;tornado-auto-etag&#x2F;&quot;,&quot;components&quot;:[&quot;cn&quot;,&quot;posts&quot;,&quot;tornado-auto-etag&quot;],&quot;summary&quot;:&quot;&lt;p&gt;为了研究缓存看了 tornado &lt;code&gt;web.py&lt;&#x2F;code&gt; 里的 &lt;code&gt;finish&lt;&#x2F;code&gt; 函数&lt;&#x2F;p&gt;\n&quot;,&quot;toc&quot;:[],&quot;word_count&quot;:357,&quot;reading_time&quot;:2,&quot;assets&quot;:[],&quot;draft&quot;:false,&quot;lang&quot;:&quot;cn&quot;,&quot;lower&quot;:{&quot;relative_path&quot;:&quot;posts&#x2F;inverted-index.cn.md&quot;,&quot;content&quot;:&quot;&lt;p&gt;世界上最伟大的互联网产品,说是搜索引擎,绝对没有别的产品可以替代,尤其是伟大的先在市场占用率最高的搜索引擎,Google Search.&lt;&#x2F;p&gt;\n&lt;p&gt;还有很多差一大截的,比如 Bing, Yahoo 和 YANDEX.&lt;&#x2F;p&gt;\n&lt;span id=\&quot;continue-reading\&quot;&gt;&lt;&#x2F;span&gt;&lt;h2 id=\&quot;shi-yao-shi-sou-suo-yin-qing\&quot;&gt;什么是搜索引擎&lt;&#x2F;h2&gt;\n&lt;p&gt;所谓搜索引擎，就是根据用户需求与一定算法，运用特定策略从互联网检索出制定信息反馈给用户的一门检索技术。&lt;&#x2F;p&gt;\n&lt;p&gt;搜索引擎技术的核心模块一般包括爬虫、索引、检索和排序等，同时可添加其他一系列辅助模块，以为用户创造更好的网络使用环境。 &lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;sou-suo-yin-qing-gan-liao-xie-shi-yao\&quot;&gt;搜索引擎干了些什么&lt;&#x2F;h2&gt;\n&lt;p&gt;简单的说搜索引擎从网络上爬取网页,然后对网页信息进行提取,构建正排索引,然后分析网页内容,建立倒排文件.&lt;&#x2F;p&gt;\n&lt;p&gt;接下来我将依次介绍 正排索引、 倒排索引 等知识点.&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;zheng-pai-suo-yin\&quot;&gt;正排索引&lt;&#x2F;h2&gt;\n&lt;p&gt;正排索引通常是 \nid-document 的键值对&lt;&#x2F;p&gt;\n&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;id&lt;&#x2F;th&gt;&lt;th&gt;name&lt;&#x2F;th&gt;&lt;th&gt;context&lt;&#x2F;th&gt;&lt;th&gt;eng_context&lt;&#x2F;th&gt;&lt;&#x2F;tr&gt;&lt;&#x2F;thead&gt;&lt;tbody&gt;\n&lt;tr&gt;&lt;td&gt;1&lt;&#x2F;td&gt;&lt;td&gt;小明&lt;&#x2F;td&gt;&lt;td&gt;今天吃了3个包子&lt;&#x2F;td&gt;&lt;td&gt;today eating 3 baozi&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;\n&lt;tr&gt;&lt;td&gt;2&lt;&#x2F;td&gt;&lt;td&gt;小仓&lt;&#x2F;td&gt;&lt;td&gt;最后一天看了一本书&lt;&#x2F;td&gt;&lt;td&gt;read a book last day&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;\n&lt;tr&gt;&lt;td&gt;3&lt;&#x2F;td&gt;&lt;td&gt;仓颉&lt;&#x2F;td&gt;&lt;td&gt;去年造了个新华字典&lt;&#x2F;td&gt;&lt;td&gt;make a xinhua dictionary last year&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;\n&lt;&#x2F;tbody&gt;&lt;&#x2F;table&gt;\n&lt;h2 id=\&quot;dao-pai-suo-yin\&quot;&gt;倒排索引&lt;&#x2F;h2&gt;\n&lt;p&gt;倒排索引是关键词到id列表的映射关系.&lt;&#x2F;p&gt;\n&lt;p&gt;倒排索引里面左边的列叫做 term , 里面存储的通常是一个关键词; \n右边的列叫做 posting list,里面存储的是文档的id.&lt;&#x2F;p&gt;\n&lt;p&gt;左侧的一列一起叫做 term dictionary.&lt;&#x2F;p&gt;\n&lt;p&gt;首先上面有每个 document 有3个 field , 所以会创建3个倒排索引.&lt;&#x2F;p&gt;\n&lt;p&gt;如果使用默认的英文分词器,那么表格会创建的索引大概是下面这个样子:&lt;&#x2F;p&gt;\n&lt;p&gt;name index:&lt;&#x2F;p&gt;\n&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;term&lt;&#x2F;th&gt;&lt;th&gt;posting list&lt;&#x2F;th&gt;&lt;&#x2F;tr&gt;&lt;&#x2F;thead&gt;&lt;tbody&gt;\n&lt;tr&gt;&lt;td&gt;小&lt;&#x2F;td&gt;&lt;td&gt;[1, 2]&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;\n&lt;tr&gt;&lt;td&gt;仓&lt;&#x2F;td&gt;&lt;td&gt;[2, 3]&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;\n&lt;tr&gt;&lt;td&gt;明&lt;&#x2F;td&gt;&lt;td&gt;[1]&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;\n&lt;tr&gt;&lt;td&gt;颉&lt;&#x2F;td&gt;&lt;td&gt;[3]&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;\n&lt;&#x2F;tbody&gt;&lt;&#x2F;table&gt;\n&lt;p&gt;context index:&lt;&#x2F;p&gt;\n&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;term&lt;&#x2F;th&gt;&lt;th&gt;posting list&lt;&#x2F;th&gt;&lt;&#x2F;tr&gt;&lt;&#x2F;thead&gt;&lt;tbody&gt;\n&lt;tr&gt;&lt;td&gt;个&lt;&#x2F;td&gt;&lt;td&gt;[1, 3]&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;\n&lt;tr&gt;&lt;td&gt;了&lt;&#x2F;td&gt;&lt;td&gt;[1, 2, 3]&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;\n&lt;tr&gt;&lt;td&gt;今&lt;&#x2F;td&gt;&lt;td&gt;[1]&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;\n&lt;tr&gt;&lt;td&gt;...&lt;&#x2F;td&gt;&lt;td&gt;...&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;\n&lt;&#x2F;tbody&gt;&lt;&#x2F;table&gt;\n&lt;p&gt;eng_context index:&lt;&#x2F;p&gt;\n&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;term&lt;&#x2F;th&gt;&lt;th&gt;posting list&lt;&#x2F;th&gt;&lt;&#x2F;tr&gt;&lt;&#x2F;thead&gt;&lt;tbody&gt;\n&lt;tr&gt;&lt;td&gt;last&lt;&#x2F;td&gt;&lt;td&gt;[2, 3]&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;\n&lt;tr&gt;&lt;td&gt;a&lt;&#x2F;td&gt;&lt;td&gt;[2, 3]&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;\n&lt;tr&gt;&lt;td&gt;dictionary&lt;&#x2F;td&gt;&lt;td&gt;[3]&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;\n&lt;tr&gt;&lt;td&gt;...&lt;&#x2F;td&gt;&lt;td&gt;...&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;\n&lt;&#x2F;tbody&gt;&lt;&#x2F;table&gt;\n&lt;hr &#x2F;&gt;\n&lt;p&gt;读到这里想来你也会有些许疑问?&lt;&#x2F;p&gt;\n&lt;ul&gt;\n&lt;li&gt;比 MySQL Index 的优势在哪?&lt;&#x2F;li&gt;\n&lt;li&gt;当有1亿 Term 时如何高效查询?&lt;&#x2F;li&gt;\n&lt;li&gt;联合查询怎么办?&lt;&#x2F;li&gt;\n&lt;li&gt;相关度排序?&lt;&#x2F;li&gt;\n&lt;&#x2F;ul&gt;\n&lt;h2 id=\&quot;term-index\&quot;&gt;Term index&lt;&#x2F;h2&gt;\n&lt;p&gt;假象一下我们现在有 1 亿个 term, 那么这个 trem dictionary 会占多少内存呢?\n假设每个 trem 占用内存 6 byte, 那么亿个大约占用 0.6 GB, 那么如果是一个非常复杂的文档, 岂不是内存不够用?\n而且为什么搜索引擎的速度远远快于MySQL 的索引速度?&lt;&#x2F;p&gt;\n&lt;p&gt;首先 Trem Index 实际上是一种字典树(前缀树), 可以将 term dictionary 里的内容组成树状结构.\n下图会是一个普通的字典树. \n&lt;img src=\&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;inverted-index&#x2F;media&#x2F;15669198838069&#x2F;15673442795943.jpg\&quot; alt=\&quot;\&quot; &#x2F;&gt;&lt;&#x2F;p&gt;\n&lt;p&gt;而 Term Index 的 Value 就是 Term 在磁盘中的位置.&lt;&#x2F;p&gt;\n&lt;p&gt;而且 Trem Index 通常会被缓存到内存中, 再加上优秀的树结构, 所以查询速度极快, 字典树的数据结构优势, 使体积远小于 term dictonary.&lt;&#x2F;p&gt;\n&lt;p&gt;快于 MySQL 的主要原因是, 减少了访问磁盘的次数.MySQL 的B+树会在磁盘中多次读写不同位置, 而使用 term index , 则只会在匹配到 term 时进行一次磁盘访问.&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;lian-he-cha-xun\&quot;&gt;联合查询&lt;&#x2F;h2&gt;\n&lt;p&gt;如何进行索引的联合查询, 当程序获得多个Posting list 那么程序需要从list 中进行多次交集并集操作.如何减少这些操作呢?&lt;&#x2F;p&gt;\n&lt;p&gt;通常有两个解决方案.&lt;&#x2F;p&gt;\n&lt;ul&gt;\n&lt;li&gt;bitset&lt;&#x2F;li&gt;\n&lt;li&gt;跳表&lt;&#x2F;li&gt;\n&lt;&#x2F;ul&gt;\n&lt;p&gt;可以自己去看一下相关的工作原理。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;end\&quot;&gt;END&lt;&#x2F;h2&gt;\n&lt;p&gt;想必看完之后，你也对倒排索引工作原理有一定的了解了吧。感谢阅读！&lt;&#x2F;p&gt;\n&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;inverted-index&#x2F;&quot;,&quot;slug&quot;:&quot;inverted-index&quot;,&quot;ancestors&quot;:[&quot;_index.cn.md&quot;,&quot;posts&#x2F;_index.cn.md&quot;],&quot;title&quot;:&quot;倒排索引&quot;,&quot;description&quot;:null,&quot;updated&quot;:null,&quot;date&quot;:&quot;2019-08-27T12:31:56+08:00&quot;,&quot;year&quot;:2019,&quot;month&quot;:8,&quot;day&quot;:27,&quot;taxonomies&quot;:{&quot;series&quot;:[&quot;algorithm&quot;],&quot;tags&quot;:[&quot;Index&quot;,&quot;Search Engine&quot;]},&quot;extra&quot;:{},&quot;path&quot;:&quot;&#x2F;cn&#x2F;posts&#x2F;inverted-index&#x2F;&quot;,&quot;components&quot;:[&quot;cn&quot;,&quot;posts&quot;,&quot;inverted-index&quot;],&quot;summary&quot;:&quot;&lt;p&gt;世界上最伟大的互联网产品,说是搜索引擎,绝对没有别的产品可以替代,尤其是伟大的先在市场占用率最高的搜索引擎,Google Search.&lt;&#x2F;p&gt;\n&lt;p&gt;还有很多差一大截的,比如 Bing, Yahoo 和 YANDEX.&lt;&#x2F;p&gt;\n&quot;,&quot;toc&quot;:[{&quot;level&quot;:2,&quot;id&quot;:&quot;shi-yao-shi-sou-suo-yin-qing&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;inverted-index&#x2F;#shi-yao-shi-sou-suo-yin-qing&quot;,&quot;title&quot;:&quot;什么是搜索引擎&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;sou-suo-yin-qing-gan-liao-xie-shi-yao&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;inverted-index&#x2F;#sou-suo-yin-qing-gan-liao-xie-shi-yao&quot;,&quot;title&quot;:&quot;搜索引擎干了些什么&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;zheng-pai-suo-yin&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;inverted-index&#x2F;#zheng-pai-suo-yin&quot;,&quot;title&quot;:&quot;正排索引&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;dao-pai-suo-yin&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;inverted-index&#x2F;#dao-pai-suo-yin&quot;,&quot;title&quot;:&quot;倒排索引&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;term-index&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;inverted-index&#x2F;#term-index&quot;,&quot;title&quot;:&quot;Term index&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;lian-he-cha-xun&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;inverted-index&#x2F;#lian-he-cha-xun&quot;,&quot;title&quot;:&quot;联合查询&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;end&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;inverted-index&#x2F;#end&quot;,&quot;title&quot;:&quot;END&quot;,&quot;children&quot;:[]}],&quot;word_count&quot;:914,&quot;reading_time&quot;:5,&quot;assets&quot;:[],&quot;draft&quot;:false,&quot;lang&quot;:&quot;cn&quot;,&quot;lower&quot;:null,&quot;higher&quot;:null,&quot;translations&quot;:[{&quot;lang&quot;:&quot;cn&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;inverted-index&#x2F;&quot;,&quot;title&quot;:&quot;倒排索引&quot;,&quot;path&quot;:&quot;&#x2F;home&#x2F;runner&#x2F;work&#x2F;blog&#x2F;blog&#x2F;content&#x2F;posts&#x2F;inverted-index.cn.md&quot;}],&quot;backlinks&quot;:[]},&quot;higher&quot;:{&quot;relative_path&quot;:&quot;posts&#x2F;pipenv-autoenv.cn.md&quot;,&quot;content&quot;:&quot;&lt;p&gt;Python 包管理一直都是一个问题，如今 3.6 推荐采用 Pipenv 出自 Requests 的大牛做所。配合上他写的 Autoenv 切换环境再也不是问题。&lt;&#x2F;p&gt;\n&lt;span id=\&quot;continue-reading\&quot;&gt;&lt;&#x2F;span&gt;&lt;h2 id=\&quot;an-zhuang\&quot;&gt;安装&lt;&#x2F;h2&gt;\n&lt;h3 id=\&quot;macos\&quot;&gt;MacOS&lt;&#x2F;h3&gt;\n&lt;pre data-lang=\&quot;bash\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-bash \&quot;&gt;&lt;code class=\&quot;language-bash\&quot; data-lang=\&quot;bash\&quot;&gt;&lt;span&gt;brew install pipenv\n&lt;&#x2F;span&gt;&lt;span&gt;brew install autoenv\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;p&gt;其他平台自行 Google。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;pipenv\&quot;&gt;Pipenv&lt;&#x2F;h2&gt;\n&lt;p&gt;pipenv 在安装之后会在当前目录上生成一个 Pipfile ，这个文件不在是像 requestments.txt 那样的纯粹的文本结构，加入了一些配置内容。&lt;&#x2F;p&gt;\n&lt;p&gt;比如说可以配置使用的 pipy 源，Python 版本号，以及包管理。\nPipenv 的包管理比其他的有点在于可以直接在配置文件中指定 正式运行 packages 和 开发环境中的 packages，管理一个文件比管理多个版本文件的好处不言而喻。&lt;&#x2F;p&gt;\n&lt;p&gt;同时 pip 加入了 pip install -p Pipfile 来支持 Pipenv，官方都支持了，我们还等什么，用用用。&lt;&#x2F;p&gt;\n&lt;p&gt;具体内容详见官方 &lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;github.com&#x2F;pypa&#x2F;pipenv\&quot;&gt;Github&lt;&#x2F;a&gt;。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;autoenv\&quot;&gt;Autoenv&lt;&#x2F;h2&gt;\n&lt;p&gt;既然 Pipenv 都这么强大了，自然会导致虚拟环境满天飞，不方便进入虚拟环境的时候怎么办。\n这个时候就需要 Autoenv 登场了。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;pei-zhi-macos\&quot;&gt;配置(MacOS)&lt;&#x2F;h3&gt;\n&lt;pre data-lang=\&quot;bash\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-bash \&quot;&gt;&lt;code class=\&quot;language-bash\&quot; data-lang=\&quot;bash\&quot;&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;echo &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;source $(brew&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt; --prefix&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt; autoenv)&#x2F;activate.sh&amp;quot; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span&gt;~&#x2F;.bash_profile\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;p&gt;他能在进入一个文件目录的时候自动进入虚拟环境，当然前提是你需要将虚拟环境路径加入&lt;code&gt;.env&lt;&#x2F;code&gt;文件，并将这个文件放在项目根目录下，这样在进入目录时会自动切入到环境中。&lt;&#x2F;p&gt;\n&lt;p&gt;节约时间与生命，Python 大法好！&lt;&#x2F;p&gt;\n&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;pipenv-autoenv&#x2F;&quot;,&quot;slug&quot;:&quot;pipenv-autoenv&quot;,&quot;ancestors&quot;:[&quot;_index.cn.md&quot;,&quot;posts&#x2F;_index.cn.md&quot;],&quot;title&quot;:&quot;Pipenv + Autoenv 更友善的工作环境&quot;,&quot;description&quot;:null,&quot;updated&quot;:null,&quot;date&quot;:&quot;2018-09-05T14:22:34+08:00&quot;,&quot;year&quot;:2018,&quot;month&quot;:9,&quot;day&quot;:5,&quot;taxonomies&quot;:{&quot;tags&quot;:[&quot;Python&quot;,&quot;Environment&quot;,&quot;Pipenv&quot;,&quot;Autoenv&quot;]},&quot;extra&quot;:{},&quot;path&quot;:&quot;&#x2F;cn&#x2F;posts&#x2F;pipenv-autoenv&#x2F;&quot;,&quot;components&quot;:[&quot;cn&quot;,&quot;posts&quot;,&quot;pipenv-autoenv&quot;],&quot;summary&quot;:&quot;&lt;p&gt;Python 包管理一直都是一个问题，如今 3.6 推荐采用 Pipenv 出自 Requests 的大牛做所。配合上他写的 Autoenv 切换环境再也不是问题。&lt;&#x2F;p&gt;\n&quot;,&quot;toc&quot;:[{&quot;level&quot;:2,&quot;id&quot;:&quot;an-zhuang&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;pipenv-autoenv&#x2F;#an-zhuang&quot;,&quot;title&quot;:&quot;安装&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;macos&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;pipenv-autoenv&#x2F;#macos&quot;,&quot;title&quot;:&quot;MacOS&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;pipenv&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;pipenv-autoenv&#x2F;#pipenv&quot;,&quot;title&quot;:&quot;Pipenv&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;autoenv&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;pipenv-autoenv&#x2F;#autoenv&quot;,&quot;title&quot;:&quot;Autoenv&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;pei-zhi-macos&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;pipenv-autoenv&#x2F;#pei-zhi-macos&quot;,&quot;title&quot;:&quot;配置(MacOS)&quot;,&quot;children&quot;:[]}]}],&quot;word_count&quot;:376,&quot;reading_time&quot;:2,&quot;assets&quot;:[],&quot;draft&quot;:false,&quot;lang&quot;:&quot;cn&quot;,&quot;lower&quot;:null,&quot;higher&quot;:null,&quot;translations&quot;:[{&quot;lang&quot;:&quot;cn&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;pipenv-autoenv&#x2F;&quot;,&quot;title&quot;:&quot;Pipenv + Autoenv 更友善的工作环境&quot;,&quot;path&quot;:&quot;&#x2F;home&#x2F;runner&#x2F;work&#x2F;blog&#x2F;blog&#x2F;content&#x2F;posts&#x2F;pipenv-autoenv.cn.md&quot;}],&quot;backlinks&quot;:[]},&quot;translations&quot;:[{&quot;lang&quot;:&quot;cn&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tornado-auto-etag&#x2F;&quot;,&quot;title&quot;:&quot;Tornado Auto Etag 机制&quot;,&quot;path&quot;:&quot;&#x2F;home&#x2F;runner&#x2F;work&#x2F;blog&#x2F;blog&#x2F;content&#x2F;posts&#x2F;tornado-auto-etag.cn.md&quot;}],&quot;backlinks&quot;:[]},{&quot;relative_path&quot;:&quot;posts&#x2F;pipenv-autoenv.cn.md&quot;,&quot;content&quot;:&quot;&lt;p&gt;Python 包管理一直都是一个问题，如今 3.6 推荐采用 Pipenv 出自 Requests 的大牛做所。配合上他写的 Autoenv 切换环境再也不是问题。&lt;&#x2F;p&gt;\n&lt;span id=\&quot;continue-reading\&quot;&gt;&lt;&#x2F;span&gt;&lt;h2 id=\&quot;an-zhuang\&quot;&gt;安装&lt;&#x2F;h2&gt;\n&lt;h3 id=\&quot;macos\&quot;&gt;MacOS&lt;&#x2F;h3&gt;\n&lt;pre data-lang=\&quot;bash\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-bash \&quot;&gt;&lt;code class=\&quot;language-bash\&quot; data-lang=\&quot;bash\&quot;&gt;&lt;span&gt;brew install pipenv\n&lt;&#x2F;span&gt;&lt;span&gt;brew install autoenv\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;p&gt;其他平台自行 Google。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;pipenv\&quot;&gt;Pipenv&lt;&#x2F;h2&gt;\n&lt;p&gt;pipenv 在安装之后会在当前目录上生成一个 Pipfile ，这个文件不在是像 requestments.txt 那样的纯粹的文本结构，加入了一些配置内容。&lt;&#x2F;p&gt;\n&lt;p&gt;比如说可以配置使用的 pipy 源，Python 版本号，以及包管理。\nPipenv 的包管理比其他的有点在于可以直接在配置文件中指定 正式运行 packages 和 开发环境中的 packages，管理一个文件比管理多个版本文件的好处不言而喻。&lt;&#x2F;p&gt;\n&lt;p&gt;同时 pip 加入了 pip install -p Pipfile 来支持 Pipenv，官方都支持了，我们还等什么，用用用。&lt;&#x2F;p&gt;\n&lt;p&gt;具体内容详见官方 &lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;github.com&#x2F;pypa&#x2F;pipenv\&quot;&gt;Github&lt;&#x2F;a&gt;。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;autoenv\&quot;&gt;Autoenv&lt;&#x2F;h2&gt;\n&lt;p&gt;既然 Pipenv 都这么强大了，自然会导致虚拟环境满天飞，不方便进入虚拟环境的时候怎么办。\n这个时候就需要 Autoenv 登场了。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;pei-zhi-macos\&quot;&gt;配置(MacOS)&lt;&#x2F;h3&gt;\n&lt;pre data-lang=\&quot;bash\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-bash \&quot;&gt;&lt;code class=\&quot;language-bash\&quot; data-lang=\&quot;bash\&quot;&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;echo &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;source $(brew&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt; --prefix&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt; autoenv)&#x2F;activate.sh&amp;quot; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span&gt;~&#x2F;.bash_profile\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;p&gt;他能在进入一个文件目录的时候自动进入虚拟环境，当然前提是你需要将虚拟环境路径加入&lt;code&gt;.env&lt;&#x2F;code&gt;文件，并将这个文件放在项目根目录下，这样在进入目录时会自动切入到环境中。&lt;&#x2F;p&gt;\n&lt;p&gt;节约时间与生命，Python 大法好！&lt;&#x2F;p&gt;\n&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;pipenv-autoenv&#x2F;&quot;,&quot;slug&quot;:&quot;pipenv-autoenv&quot;,&quot;ancestors&quot;:[&quot;_index.cn.md&quot;,&quot;posts&#x2F;_index.cn.md&quot;],&quot;title&quot;:&quot;Pipenv + Autoenv 更友善的工作环境&quot;,&quot;description&quot;:null,&quot;updated&quot;:null,&quot;date&quot;:&quot;2018-09-05T14:22:34+08:00&quot;,&quot;year&quot;:2018,&quot;month&quot;:9,&quot;day&quot;:5,&quot;taxonomies&quot;:{&quot;tags&quot;:[&quot;Python&quot;,&quot;Environment&quot;,&quot;Pipenv&quot;,&quot;Autoenv&quot;]},&quot;extra&quot;:{},&quot;path&quot;:&quot;&#x2F;cn&#x2F;posts&#x2F;pipenv-autoenv&#x2F;&quot;,&quot;components&quot;:[&quot;cn&quot;,&quot;posts&quot;,&quot;pipenv-autoenv&quot;],&quot;summary&quot;:&quot;&lt;p&gt;Python 包管理一直都是一个问题，如今 3.6 推荐采用 Pipenv 出自 Requests 的大牛做所。配合上他写的 Autoenv 切换环境再也不是问题。&lt;&#x2F;p&gt;\n&quot;,&quot;toc&quot;:[{&quot;level&quot;:2,&quot;id&quot;:&quot;an-zhuang&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;pipenv-autoenv&#x2F;#an-zhuang&quot;,&quot;title&quot;:&quot;安装&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;macos&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;pipenv-autoenv&#x2F;#macos&quot;,&quot;title&quot;:&quot;MacOS&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;pipenv&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;pipenv-autoenv&#x2F;#pipenv&quot;,&quot;title&quot;:&quot;Pipenv&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;autoenv&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;pipenv-autoenv&#x2F;#autoenv&quot;,&quot;title&quot;:&quot;Autoenv&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;pei-zhi-macos&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;pipenv-autoenv&#x2F;#pei-zhi-macos&quot;,&quot;title&quot;:&quot;配置(MacOS)&quot;,&quot;children&quot;:[]}]}],&quot;word_count&quot;:376,&quot;reading_time&quot;:2,&quot;assets&quot;:[],&quot;draft&quot;:false,&quot;lang&quot;:&quot;cn&quot;,&quot;lower&quot;:{&quot;relative_path&quot;:&quot;posts&#x2F;tornado-auto-etag.cn.md&quot;,&quot;content&quot;:&quot;&lt;p&gt;为了研究缓存看了 tornado &lt;code&gt;web.py&lt;&#x2F;code&gt; 里的 &lt;code&gt;finish&lt;&#x2F;code&gt; 函数&lt;&#x2F;p&gt;\n&lt;span id=\&quot;continue-reading\&quot;&gt;&lt;&#x2F;span&gt;\n&lt;p&gt;代码如下&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;finish&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;chunk&lt;&#x2F;span&gt;&lt;span&gt;: Union[&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;str&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;bytes&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;dict&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None&lt;&#x2F;span&gt;&lt;span&gt;) -&amp;gt; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;Future[None]&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;&amp;quot;&amp;quot;&amp;quot;Finishes this response, ending the HTTP request.\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        Passing a ``chunk`` to ``finish()`` is equivalent to passing that\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        chunk to ``write()`` and then calling ``finish()`` with no arguments.\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        Returns a `.Future` which may optionally be awaited to track the sending\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        of the response to the client. This `.Future` resolves when all the response\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        data has been sent, and raises an error if the connection is closed before all\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        data can be sent.\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        .. versionchanged:: 5.1\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;           Now returns a `.Future` instead of ``None``.\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        &amp;quot;&amp;quot;&amp;quot;\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;self._finished:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;raise &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;RuntimeError&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;finish() called twice&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;chunk &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;is not &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            self.write(chunk)\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# Automatically support ETags and add the Content-Length header if\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# we have not flushed any content yet.\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if not &lt;&#x2F;span&gt;&lt;span&gt;self._headers_written:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;(\n&lt;&#x2F;span&gt;&lt;span&gt;                self._status_code &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;== &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;200\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;and &lt;&#x2F;span&gt;&lt;span&gt;self.request.method &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;GET&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;HEAD&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;and &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;Etag&amp;quot; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;not in &lt;&#x2F;span&gt;&lt;span&gt;self._headers\n&lt;&#x2F;span&gt;&lt;span&gt;            ):\n&lt;&#x2F;span&gt;&lt;span&gt;                self.set_etag_header()\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;self.check_etag_header():\n&lt;&#x2F;span&gt;&lt;span&gt;                    self._write_buffer &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[]\n&lt;&#x2F;span&gt;&lt;span&gt;                    self.set_status(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;304&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;self._status_code &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;204&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;304&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;or &lt;&#x2F;span&gt;&lt;span&gt;(\n&lt;&#x2F;span&gt;&lt;span&gt;                self._status_code &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;100 &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;and &lt;&#x2F;span&gt;&lt;span&gt;self._status_code &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;lt; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;200\n&lt;&#x2F;span&gt;&lt;span&gt;            ):\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;assert not &lt;&#x2F;span&gt;&lt;span&gt;self._write_buffer, (\n&lt;&#x2F;span&gt;&lt;span&gt;                    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;Cannot send body with &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;%s&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;% &lt;&#x2F;span&gt;&lt;span&gt;self._status_code\n&lt;&#x2F;span&gt;&lt;span&gt;                )\n&lt;&#x2F;span&gt;&lt;span&gt;                self._clear_headers_for_304()\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;elif &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;Content-Length&amp;quot; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;not in &lt;&#x2F;span&gt;&lt;span&gt;self._headers:\n&lt;&#x2F;span&gt;&lt;span&gt;                content_length &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;sum&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(part) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;part &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;self._write_buffer)\n&lt;&#x2F;span&gt;&lt;span&gt;                self.set_header(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;Content-Length&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;, content_length)\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;assert &lt;&#x2F;span&gt;&lt;span&gt;self.request.connection &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;is not &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# Now that the request is finished, clear the callback we\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# set on the HTTPConnection (which would otherwise prevent the\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# garbage collection of the RequestHandler when there\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# are keepalive connections)\n&lt;&#x2F;span&gt;&lt;span&gt;        self.request.connection.set_close_callback(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None&lt;&#x2F;span&gt;&lt;span&gt;)  &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# type: ignore\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        future &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;self.flush(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;include_footers&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;True&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;        self.request.connection.finish()\n&lt;&#x2F;span&gt;&lt;span&gt;        self._log()\n&lt;&#x2F;span&gt;&lt;span&gt;        self._finished &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;True\n&lt;&#x2F;span&gt;&lt;span&gt;        self.on_finish()\n&lt;&#x2F;span&gt;&lt;span&gt;        self._break_cycles()\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;future\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;p&gt;从代码中可以看出, 满足下面条件的请求:&lt;&#x2F;p&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;code&gt;self._headers_written&lt;&#x2F;code&gt; 为不为&lt;code&gt;True&lt;&#x2F;code&gt; &lt;&#x2F;li&gt;\n&lt;li&gt;http status 为 &lt;code&gt;200&lt;&#x2F;code&gt; 的 &lt;code&gt;GET&lt;&#x2F;code&gt;、 &lt;code&gt;HEAD&lt;&#x2F;code&gt; 请求&lt;&#x2F;li&gt;\n&lt;li&gt;同时没有 &lt;code&gt;Etag&lt;&#x2F;code&gt; 在 &lt;code&gt;response header&lt;&#x2F;code&gt; 的情况下&lt;&#x2F;li&gt;\n&lt;&#x2F;ul&gt;\n&lt;p&gt;tornado 会自动计算返回结果的 sha1, 并设置 Etag 若客户端支持 Etag 机制, 正确返回 &lt;code&gt;If-None-Match&lt;&#x2F;code&gt;, 就能节约一波流量, 美滋滋.&lt;&#x2F;p&gt;\n&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tornado-auto-etag&#x2F;&quot;,&quot;slug&quot;:&quot;tornado-auto-etag&quot;,&quot;ancestors&quot;:[&quot;_index.cn.md&quot;,&quot;posts&#x2F;_index.cn.md&quot;],&quot;title&quot;:&quot;Tornado Auto Etag 机制&quot;,&quot;description&quot;:null,&quot;updated&quot;:null,&quot;date&quot;:&quot;2019-04-24T14:20:03+08:00&quot;,&quot;year&quot;:2019,&quot;month&quot;:4,&quot;day&quot;:24,&quot;taxonomies&quot;:{&quot;tags&quot;:[&quot;Python&quot;,&quot;Cache&quot;,&quot;ETag&quot;]},&quot;extra&quot;:{},&quot;path&quot;:&quot;&#x2F;cn&#x2F;posts&#x2F;tornado-auto-etag&#x2F;&quot;,&quot;components&quot;:[&quot;cn&quot;,&quot;posts&quot;,&quot;tornado-auto-etag&quot;],&quot;summary&quot;:&quot;&lt;p&gt;为了研究缓存看了 tornado &lt;code&gt;web.py&lt;&#x2F;code&gt; 里的 &lt;code&gt;finish&lt;&#x2F;code&gt; 函数&lt;&#x2F;p&gt;\n&quot;,&quot;toc&quot;:[],&quot;word_count&quot;:357,&quot;reading_time&quot;:2,&quot;assets&quot;:[],&quot;draft&quot;:false,&quot;lang&quot;:&quot;cn&quot;,&quot;lower&quot;:null,&quot;higher&quot;:null,&quot;translations&quot;:[{&quot;lang&quot;:&quot;cn&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tornado-auto-etag&#x2F;&quot;,&quot;title&quot;:&quot;Tornado Auto Etag 机制&quot;,&quot;path&quot;:&quot;&#x2F;home&#x2F;runner&#x2F;work&#x2F;blog&#x2F;blog&#x2F;content&#x2F;posts&#x2F;tornado-auto-etag.cn.md&quot;}],&quot;backlinks&quot;:[]},&quot;higher&quot;:{&quot;relative_path&quot;:&quot;posts&#x2F;kmp.cn.md&quot;,&quot;content&quot;:&quot;&lt;blockquote&gt;\n&lt;p&gt;在计算机科学中，Knuth-Morris-Pratt字符串查找算法（简称为KMP算法）可在一个主文本字符串S内查找一个词W的出现位置。此算法通过运用对这个词在不匹配时本身就包含足够的信息来确定下一个匹配将在哪里开始的发现，从而避免重新检查先前匹配的字符。&lt;&#x2F;p&gt;\n&lt;&#x2F;blockquote&gt;\n&lt;span id=\&quot;continue-reading\&quot;&gt;&lt;&#x2F;span&gt;\n&lt;blockquote&gt;\n&lt;p&gt;这个算法是由高德纳（Donald Ervin Knuth）和沃恩·普拉特在1974年构思，同年詹姆斯·H·莫里斯也独立地设计出该算法，最终由三人于1977年联合发表。&lt;&#x2F;p&gt;\n&lt;&#x2F;blockquote&gt;\n&lt;h2 id=\&quot;yuan-li\&quot;&gt;原理&lt;&#x2F;h2&gt;\n&lt;p&gt;将待匹配字符串命名为 m 源字符串命名为 S 。\n本算法对待匹配字符串做处理之后，找到他的真前缀和真后缀。并通过真前缀与后缀重合的数量的值，这个值是在匹配状态中发生矢配时，位于原始字符串上 S 的指针移动的方向与距离。&lt;&#x2F;p&gt;\n&lt;p&gt;简单的说就是匹配失败时。通过之前的真前缀和后缀表，直接移动在匹配字符串上的指针，达到减少无用匹配的效果。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;you-dian\&quot;&gt;优点&lt;&#x2F;h2&gt;\n&lt;p&gt;节约时间，相比于朴素的匹配方式，新的匹配算法只需要 O(m + n)的时间复杂度 和 额外 O(m)的空间，这个空间是用来保存真前缀和真后缀的结果的。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;shi-xian\&quot;&gt;实现&lt;&#x2F;h2&gt;\n&lt;p&gt;KMP 匹配的关键在于初始化匹配字符串。&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;partial_table&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;pattern&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;str&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;&amp;quot;&amp;quot;&amp;quot;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;    当字符串长度为1的时候，不需要进行查表，直接循环匹配时间复杂度就是 O(n)\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;    &amp;quot;&amp;quot;&amp;quot;\n&lt;&#x2F;span&gt;&lt;span&gt;    front &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[pattern[:x&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;x &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(pattern))]\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;cal_table_val&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;sub_pattern&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;max&lt;&#x2F;span&gt;&lt;span&gt;([&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;]&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(front[:i]) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(sub_pattern)) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;sub_pattern[&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;-&lt;&#x2F;span&gt;&lt;span&gt;i:] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;front[:i]])\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;[cal_table_val(pattern[:i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;]) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(pattern))]\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;kmp&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;pattern&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;string&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;first&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;True&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if not &lt;&#x2F;span&gt;&lt;span&gt;pattern &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;or not &lt;&#x2F;span&gt;&lt;span&gt;string:\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return -&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1\n&lt;&#x2F;span&gt;&lt;span&gt;    \n&lt;&#x2F;span&gt;&lt;span&gt;    res &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[]\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 匹配字符串长度为1 不需要建表\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(pattern) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;== &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i, k &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;enumerate&lt;&#x2F;span&gt;&lt;span&gt;(string):\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;k &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;== &lt;&#x2F;span&gt;&lt;span&gt;pattern:\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;first:\n&lt;&#x2F;span&gt;&lt;span&gt;                    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;i\n&lt;&#x2F;span&gt;&lt;span&gt;                res.append(i)\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;res\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;    pt &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;partial_table(pattern)\n&lt;&#x2F;span&gt;&lt;span&gt;    i, j &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0\n&lt;&#x2F;span&gt;&lt;span&gt;    lp, ls &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(pattern), &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(string)\n&lt;&#x2F;span&gt;&lt;span&gt;    compile_flag &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;False\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;while &lt;&#x2F;span&gt;&lt;span&gt;j &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;lt; &lt;&#x2F;span&gt;&lt;span&gt;ls &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;lp:\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;string[j] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;== &lt;&#x2F;span&gt;&lt;span&gt;pattern[i]:\n&lt;&#x2F;span&gt;&lt;span&gt;            i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1\n&lt;&#x2F;span&gt;&lt;span&gt;            j &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1          \n&lt;&#x2F;span&gt;&lt;span&gt;            compile_flag &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;True\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;== &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(pattern):\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;first:\n&lt;&#x2F;span&gt;&lt;span&gt;                    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;j &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;i\n&lt;&#x2F;span&gt;&lt;span&gt;                res.append(j &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;i)\n&lt;&#x2F;span&gt;&lt;span&gt;                i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;elif &lt;&#x2F;span&gt;&lt;span&gt;string[j] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;!= &lt;&#x2F;span&gt;&lt;span&gt;pattern[i] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;and &lt;&#x2F;span&gt;&lt;span&gt;compile_flag:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 之前为匹配状态 需要移动匹配数组指针\n&lt;&#x2F;span&gt;&lt;span&gt;            compile_flag &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;False\n&lt;&#x2F;span&gt;&lt;span&gt;            i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;-= &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;pt[i&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;]\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;elif &lt;&#x2F;span&gt;&lt;span&gt;string[j] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;!= &lt;&#x2F;span&gt;&lt;span&gt;pattern[i] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;and not &lt;&#x2F;span&gt;&lt;span&gt;compile_flag:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 之前为不匹配状态 匹配指针归 0 \n&lt;&#x2F;span&gt;&lt;span&gt;            i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0\n&lt;&#x2F;span&gt;&lt;span&gt;            j &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;res\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;partial_table(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;ABCDABD&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# [0, 0, 0, 0, 1, 2, 0]\n&lt;&#x2F;span&gt;&lt;span&gt;kmp(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;ABCDABD&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;BBC ABCDAB ABCDABCDABDE&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 15\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;kmp&#x2F;&quot;,&quot;slug&quot;:&quot;kmp&quot;,&quot;ancestors&quot;:[&quot;_index.cn.md&quot;,&quot;posts&#x2F;_index.cn.md&quot;],&quot;title&quot;:&quot;KMP 算法&quot;,&quot;description&quot;:null,&quot;updated&quot;:null,&quot;date&quot;:&quot;2018-05-11T14:32:26+08:00&quot;,&quot;year&quot;:2018,&quot;month&quot;:5,&quot;day&quot;:11,&quot;taxonomies&quot;:{&quot;tags&quot;:[&quot;KMP&quot;,&quot;Python&quot;],&quot;series&quot;:[&quot;algorithm&quot;]},&quot;extra&quot;:{},&quot;path&quot;:&quot;&#x2F;cn&#x2F;posts&#x2F;kmp&#x2F;&quot;,&quot;components&quot;:[&quot;cn&quot;,&quot;posts&quot;,&quot;kmp&quot;],&quot;summary&quot;:&quot;&lt;blockquote&gt;\n&lt;p&gt;在计算机科学中，Knuth-Morris-Pratt字符串查找算法（简称为KMP算法）可在一个主文本字符串S内查找一个词W的出现位置。此算法通过运用对这个词在不匹配时本身就包含足够的信息来确定下一个匹配将在哪里开始的发现，从而避免重新检查先前匹配的字符。&lt;&#x2F;p&gt;\n&lt;&#x2F;blockquote&gt;\n&quot;,&quot;toc&quot;:[{&quot;level&quot;:2,&quot;id&quot;:&quot;yuan-li&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;kmp&#x2F;#yuan-li&quot;,&quot;title&quot;:&quot;原理&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;you-dian&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;kmp&#x2F;#you-dian&quot;,&quot;title&quot;:&quot;优点&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;shi-xian&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;kmp&#x2F;#shi-xian&quot;,&quot;title&quot;:&quot;实现&quot;,&quot;children&quot;:[]}],&quot;word_count&quot;:633,&quot;reading_time&quot;:4,&quot;assets&quot;:[],&quot;draft&quot;:false,&quot;lang&quot;:&quot;cn&quot;,&quot;lower&quot;:null,&quot;higher&quot;:null,&quot;translations&quot;:[{&quot;lang&quot;:&quot;cn&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;kmp&#x2F;&quot;,&quot;title&quot;:&quot;KMP 算法&quot;,&quot;path&quot;:&quot;&#x2F;home&#x2F;runner&#x2F;work&#x2F;blog&#x2F;blog&#x2F;content&#x2F;posts&#x2F;kmp.cn.md&quot;}],&quot;backlinks&quot;:[]},&quot;translations&quot;:[{&quot;lang&quot;:&quot;cn&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;pipenv-autoenv&#x2F;&quot;,&quot;title&quot;:&quot;Pipenv + Autoenv 更友善的工作环境&quot;,&quot;path&quot;:&quot;&#x2F;home&#x2F;runner&#x2F;work&#x2F;blog&#x2F;blog&#x2F;content&#x2F;posts&#x2F;pipenv-autoenv.cn.md&quot;}],&quot;backlinks&quot;:[]},{&quot;relative_path&quot;:&quot;posts&#x2F;kmp.cn.md&quot;,&quot;content&quot;:&quot;&lt;blockquote&gt;\n&lt;p&gt;在计算机科学中，Knuth-Morris-Pratt字符串查找算法（简称为KMP算法）可在一个主文本字符串S内查找一个词W的出现位置。此算法通过运用对这个词在不匹配时本身就包含足够的信息来确定下一个匹配将在哪里开始的发现，从而避免重新检查先前匹配的字符。&lt;&#x2F;p&gt;\n&lt;&#x2F;blockquote&gt;\n&lt;span id=\&quot;continue-reading\&quot;&gt;&lt;&#x2F;span&gt;\n&lt;blockquote&gt;\n&lt;p&gt;这个算法是由高德纳（Donald Ervin Knuth）和沃恩·普拉特在1974年构思，同年詹姆斯·H·莫里斯也独立地设计出该算法，最终由三人于1977年联合发表。&lt;&#x2F;p&gt;\n&lt;&#x2F;blockquote&gt;\n&lt;h2 id=\&quot;yuan-li\&quot;&gt;原理&lt;&#x2F;h2&gt;\n&lt;p&gt;将待匹配字符串命名为 m 源字符串命名为 S 。\n本算法对待匹配字符串做处理之后，找到他的真前缀和真后缀。并通过真前缀与后缀重合的数量的值，这个值是在匹配状态中发生矢配时，位于原始字符串上 S 的指针移动的方向与距离。&lt;&#x2F;p&gt;\n&lt;p&gt;简单的说就是匹配失败时。通过之前的真前缀和后缀表，直接移动在匹配字符串上的指针，达到减少无用匹配的效果。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;you-dian\&quot;&gt;优点&lt;&#x2F;h2&gt;\n&lt;p&gt;节约时间，相比于朴素的匹配方式，新的匹配算法只需要 O(m + n)的时间复杂度 和 额外 O(m)的空间，这个空间是用来保存真前缀和真后缀的结果的。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;shi-xian\&quot;&gt;实现&lt;&#x2F;h2&gt;\n&lt;p&gt;KMP 匹配的关键在于初始化匹配字符串。&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;partial_table&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;pattern&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;str&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;&amp;quot;&amp;quot;&amp;quot;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;    当字符串长度为1的时候，不需要进行查表，直接循环匹配时间复杂度就是 O(n)\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;    &amp;quot;&amp;quot;&amp;quot;\n&lt;&#x2F;span&gt;&lt;span&gt;    front &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[pattern[:x&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;x &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(pattern))]\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;cal_table_val&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;sub_pattern&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;max&lt;&#x2F;span&gt;&lt;span&gt;([&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;]&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(front[:i]) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(sub_pattern)) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;sub_pattern[&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;-&lt;&#x2F;span&gt;&lt;span&gt;i:] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;front[:i]])\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;[cal_table_val(pattern[:i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;]) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(pattern))]\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;kmp&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;pattern&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;string&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;first&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;True&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if not &lt;&#x2F;span&gt;&lt;span&gt;pattern &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;or not &lt;&#x2F;span&gt;&lt;span&gt;string:\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return -&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1\n&lt;&#x2F;span&gt;&lt;span&gt;    \n&lt;&#x2F;span&gt;&lt;span&gt;    res &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[]\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 匹配字符串长度为1 不需要建表\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(pattern) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;== &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i, k &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;enumerate&lt;&#x2F;span&gt;&lt;span&gt;(string):\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;k &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;== &lt;&#x2F;span&gt;&lt;span&gt;pattern:\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;first:\n&lt;&#x2F;span&gt;&lt;span&gt;                    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;i\n&lt;&#x2F;span&gt;&lt;span&gt;                res.append(i)\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;res\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;    pt &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;partial_table(pattern)\n&lt;&#x2F;span&gt;&lt;span&gt;    i, j &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0\n&lt;&#x2F;span&gt;&lt;span&gt;    lp, ls &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(pattern), &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(string)\n&lt;&#x2F;span&gt;&lt;span&gt;    compile_flag &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;False\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;while &lt;&#x2F;span&gt;&lt;span&gt;j &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;lt; &lt;&#x2F;span&gt;&lt;span&gt;ls &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;lp:\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;string[j] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;== &lt;&#x2F;span&gt;&lt;span&gt;pattern[i]:\n&lt;&#x2F;span&gt;&lt;span&gt;            i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1\n&lt;&#x2F;span&gt;&lt;span&gt;            j &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1          \n&lt;&#x2F;span&gt;&lt;span&gt;            compile_flag &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;True\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;== &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(pattern):\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;first:\n&lt;&#x2F;span&gt;&lt;span&gt;                    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;j &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;i\n&lt;&#x2F;span&gt;&lt;span&gt;                res.append(j &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;i)\n&lt;&#x2F;span&gt;&lt;span&gt;                i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;elif &lt;&#x2F;span&gt;&lt;span&gt;string[j] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;!= &lt;&#x2F;span&gt;&lt;span&gt;pattern[i] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;and &lt;&#x2F;span&gt;&lt;span&gt;compile_flag:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 之前为匹配状态 需要移动匹配数组指针\n&lt;&#x2F;span&gt;&lt;span&gt;            compile_flag &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;False\n&lt;&#x2F;span&gt;&lt;span&gt;            i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;-= &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;pt[i&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;]\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;elif &lt;&#x2F;span&gt;&lt;span&gt;string[j] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;!= &lt;&#x2F;span&gt;&lt;span&gt;pattern[i] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;and not &lt;&#x2F;span&gt;&lt;span&gt;compile_flag:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 之前为不匹配状态 匹配指针归 0 \n&lt;&#x2F;span&gt;&lt;span&gt;            i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0\n&lt;&#x2F;span&gt;&lt;span&gt;            j &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;res\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;partial_table(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;ABCDABD&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# [0, 0, 0, 0, 1, 2, 0]\n&lt;&#x2F;span&gt;&lt;span&gt;kmp(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;ABCDABD&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;BBC ABCDAB ABCDABCDABDE&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 15\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;kmp&#x2F;&quot;,&quot;slug&quot;:&quot;kmp&quot;,&quot;ancestors&quot;:[&quot;_index.cn.md&quot;,&quot;posts&#x2F;_index.cn.md&quot;],&quot;title&quot;:&quot;KMP 算法&quot;,&quot;description&quot;:null,&quot;updated&quot;:null,&quot;date&quot;:&quot;2018-05-11T14:32:26+08:00&quot;,&quot;year&quot;:2018,&quot;month&quot;:5,&quot;day&quot;:11,&quot;taxonomies&quot;:{&quot;tags&quot;:[&quot;KMP&quot;,&quot;Python&quot;],&quot;series&quot;:[&quot;algorithm&quot;]},&quot;extra&quot;:{},&quot;path&quot;:&quot;&#x2F;cn&#x2F;posts&#x2F;kmp&#x2F;&quot;,&quot;components&quot;:[&quot;cn&quot;,&quot;posts&quot;,&quot;kmp&quot;],&quot;summary&quot;:&quot;&lt;blockquote&gt;\n&lt;p&gt;在计算机科学中，Knuth-Morris-Pratt字符串查找算法（简称为KMP算法）可在一个主文本字符串S内查找一个词W的出现位置。此算法通过运用对这个词在不匹配时本身就包含足够的信息来确定下一个匹配将在哪里开始的发现，从而避免重新检查先前匹配的字符。&lt;&#x2F;p&gt;\n&lt;&#x2F;blockquote&gt;\n&quot;,&quot;toc&quot;:[{&quot;level&quot;:2,&quot;id&quot;:&quot;yuan-li&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;kmp&#x2F;#yuan-li&quot;,&quot;title&quot;:&quot;原理&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;you-dian&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;kmp&#x2F;#you-dian&quot;,&quot;title&quot;:&quot;优点&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;shi-xian&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;kmp&#x2F;#shi-xian&quot;,&quot;title&quot;:&quot;实现&quot;,&quot;children&quot;:[]}],&quot;word_count&quot;:633,&quot;reading_time&quot;:4,&quot;assets&quot;:[],&quot;draft&quot;:false,&quot;lang&quot;:&quot;cn&quot;,&quot;lower&quot;:{&quot;relative_path&quot;:&quot;posts&#x2F;pipenv-autoenv.cn.md&quot;,&quot;content&quot;:&quot;&lt;p&gt;Python 包管理一直都是一个问题，如今 3.6 推荐采用 Pipenv 出自 Requests 的大牛做所。配合上他写的 Autoenv 切换环境再也不是问题。&lt;&#x2F;p&gt;\n&lt;span id=\&quot;continue-reading\&quot;&gt;&lt;&#x2F;span&gt;&lt;h2 id=\&quot;an-zhuang\&quot;&gt;安装&lt;&#x2F;h2&gt;\n&lt;h3 id=\&quot;macos\&quot;&gt;MacOS&lt;&#x2F;h3&gt;\n&lt;pre data-lang=\&quot;bash\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-bash \&quot;&gt;&lt;code class=\&quot;language-bash\&quot; data-lang=\&quot;bash\&quot;&gt;&lt;span&gt;brew install pipenv\n&lt;&#x2F;span&gt;&lt;span&gt;brew install autoenv\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;p&gt;其他平台自行 Google。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;pipenv\&quot;&gt;Pipenv&lt;&#x2F;h2&gt;\n&lt;p&gt;pipenv 在安装之后会在当前目录上生成一个 Pipfile ，这个文件不在是像 requestments.txt 那样的纯粹的文本结构，加入了一些配置内容。&lt;&#x2F;p&gt;\n&lt;p&gt;比如说可以配置使用的 pipy 源，Python 版本号，以及包管理。\nPipenv 的包管理比其他的有点在于可以直接在配置文件中指定 正式运行 packages 和 开发环境中的 packages，管理一个文件比管理多个版本文件的好处不言而喻。&lt;&#x2F;p&gt;\n&lt;p&gt;同时 pip 加入了 pip install -p Pipfile 来支持 Pipenv，官方都支持了，我们还等什么，用用用。&lt;&#x2F;p&gt;\n&lt;p&gt;具体内容详见官方 &lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;github.com&#x2F;pypa&#x2F;pipenv\&quot;&gt;Github&lt;&#x2F;a&gt;。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;autoenv\&quot;&gt;Autoenv&lt;&#x2F;h2&gt;\n&lt;p&gt;既然 Pipenv 都这么强大了，自然会导致虚拟环境满天飞，不方便进入虚拟环境的时候怎么办。\n这个时候就需要 Autoenv 登场了。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;pei-zhi-macos\&quot;&gt;配置(MacOS)&lt;&#x2F;h3&gt;\n&lt;pre data-lang=\&quot;bash\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-bash \&quot;&gt;&lt;code class=\&quot;language-bash\&quot; data-lang=\&quot;bash\&quot;&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;echo &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;quot;source $(brew&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt; --prefix&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt; autoenv)&#x2F;activate.sh&amp;quot; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span&gt;~&#x2F;.bash_profile\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;p&gt;他能在进入一个文件目录的时候自动进入虚拟环境，当然前提是你需要将虚拟环境路径加入&lt;code&gt;.env&lt;&#x2F;code&gt;文件，并将这个文件放在项目根目录下，这样在进入目录时会自动切入到环境中。&lt;&#x2F;p&gt;\n&lt;p&gt;节约时间与生命，Python 大法好！&lt;&#x2F;p&gt;\n&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;pipenv-autoenv&#x2F;&quot;,&quot;slug&quot;:&quot;pipenv-autoenv&quot;,&quot;ancestors&quot;:[&quot;_index.cn.md&quot;,&quot;posts&#x2F;_index.cn.md&quot;],&quot;title&quot;:&quot;Pipenv + Autoenv 更友善的工作环境&quot;,&quot;description&quot;:null,&quot;updated&quot;:null,&quot;date&quot;:&quot;2018-09-05T14:22:34+08:00&quot;,&quot;year&quot;:2018,&quot;month&quot;:9,&quot;day&quot;:5,&quot;taxonomies&quot;:{&quot;tags&quot;:[&quot;Python&quot;,&quot;Environment&quot;,&quot;Pipenv&quot;,&quot;Autoenv&quot;]},&quot;extra&quot;:{},&quot;path&quot;:&quot;&#x2F;cn&#x2F;posts&#x2F;pipenv-autoenv&#x2F;&quot;,&quot;components&quot;:[&quot;cn&quot;,&quot;posts&quot;,&quot;pipenv-autoenv&quot;],&quot;summary&quot;:&quot;&lt;p&gt;Python 包管理一直都是一个问题，如今 3.6 推荐采用 Pipenv 出自 Requests 的大牛做所。配合上他写的 Autoenv 切换环境再也不是问题。&lt;&#x2F;p&gt;\n&quot;,&quot;toc&quot;:[{&quot;level&quot;:2,&quot;id&quot;:&quot;an-zhuang&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;pipenv-autoenv&#x2F;#an-zhuang&quot;,&quot;title&quot;:&quot;安装&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;macos&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;pipenv-autoenv&#x2F;#macos&quot;,&quot;title&quot;:&quot;MacOS&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;pipenv&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;pipenv-autoenv&#x2F;#pipenv&quot;,&quot;title&quot;:&quot;Pipenv&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;autoenv&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;pipenv-autoenv&#x2F;#autoenv&quot;,&quot;title&quot;:&quot;Autoenv&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;pei-zhi-macos&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;pipenv-autoenv&#x2F;#pei-zhi-macos&quot;,&quot;title&quot;:&quot;配置(MacOS)&quot;,&quot;children&quot;:[]}]}],&quot;word_count&quot;:376,&quot;reading_time&quot;:2,&quot;assets&quot;:[],&quot;draft&quot;:false,&quot;lang&quot;:&quot;cn&quot;,&quot;lower&quot;:null,&quot;higher&quot;:null,&quot;translations&quot;:[{&quot;lang&quot;:&quot;cn&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;pipenv-autoenv&#x2F;&quot;,&quot;title&quot;:&quot;Pipenv + Autoenv 更友善的工作环境&quot;,&quot;path&quot;:&quot;&#x2F;home&#x2F;runner&#x2F;work&#x2F;blog&#x2F;blog&#x2F;content&#x2F;posts&#x2F;pipenv-autoenv.cn.md&quot;}],&quot;backlinks&quot;:[]},&quot;higher&quot;:{&quot;relative_path&quot;:&quot;posts&#x2F;tree-in-python.cn.md&quot;,&quot;content&quot;:&quot;&lt;p&gt;树是计算机科学中常用的数据结构之一,常见的地方有，Java 的继承树等。\n还有一些基于树的特殊数据结构，比如二叉树，B 树，等等。&lt;&#x2F;p&gt;\n&lt;p&gt;本篇会讲述一些关于简单关于树的操作。&lt;&#x2F;p&gt;\n&lt;span id=\&quot;continue-reading\&quot;&gt;&lt;&#x2F;span&gt;&lt;h2 id=\&quot;shu-de-ding-yi\&quot;&gt;树的定义&lt;&#x2F;h2&gt;\n&lt;blockquote&gt;\n&lt;p&gt;树（英语：tree）是一种抽象数据类型（ADT）或是实作这种抽象数据类型的数据结构，用来模拟具有树状结构性质的数据集合。它是由n（n&amp;gt;0）个有限节点组成一个具有层次关系的集合。把它叫做“树”是因为它看起来像一棵倒挂的树，也就是说它是根朝上，而叶朝下的。它具有以下的特点：&lt;&#x2F;p&gt;\n&lt;&#x2F;blockquote&gt;\n&lt;blockquote&gt;\n&lt;ul&gt;\n&lt;li&gt;每个节点有零个或多个子节点&lt;&#x2F;li&gt;\n&lt;li&gt;没有父节点的节点称为根节点&lt;&#x2F;li&gt;\n&lt;li&gt;每一个非根节点有且只有一个父节点&lt;&#x2F;li&gt;\n&lt;li&gt;除了根节点外，每个子节点可以分为多个不相交的子树&lt;&#x2F;li&gt;\n&lt;&#x2F;ul&gt;\n&lt;&#x2F;blockquote&gt;\n&lt;p&gt;节选自 &lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;zh.wikipedia.org&#x2F;wiki&#x2F;%E6%A0%91_(%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84)\&quot;&gt;树(数据结构)&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;ding-yi-shu-ju-jie-gou\&quot;&gt;定义数据结构&lt;&#x2F;h2&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=\&quot;text-decoration:underline;color:#a6e22e;\&quot;&gt;TreeNode&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;text-decoration:underline;font-style:italic;color:#a6e22e;\&quot;&gt;object&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;&amp;quot;&amp;quot;&amp;quot;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;    一个树节点\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;    &amp;quot;&amp;quot;&amp;quot;\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;__init__&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;value&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;children&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;&amp;quot;&amp;quot;&amp;quot;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        :param value: 节点的值\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        :param children: 节点的子节点，一个 TreeNode 的列表\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        &amp;quot;&amp;quot;&amp;quot;\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        self.value &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;value\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if not &lt;&#x2F;span&gt;&lt;span&gt;children:\n&lt;&#x2F;span&gt;&lt;span&gt;            self.children &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[]\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;elif not &lt;&#x2F;span&gt;&lt;span&gt;self.value:\n&lt;&#x2F;span&gt;&lt;span&gt;            self.children &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[]\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            self.children &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;children\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=\&quot;text-decoration:underline;color:#a6e22e;\&quot;&gt;Tree&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;text-decoration:underline;font-style:italic;color:#a6e22e;\&quot;&gt;object&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;&amp;quot;&amp;quot;&amp;quot;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;    树：基本树的数据结构\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;    &amp;quot;&amp;quot;&amp;quot;\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;__init__&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;root&lt;&#x2F;span&gt;&lt;span&gt;: TreeNode &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;or &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;&amp;quot;&amp;quot;&amp;quot;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        传入根节点\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        :param root: 如果为 TreeNode 为根节点， 如果为 None 为空书\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        &amp;quot;&amp;quot;&amp;quot;\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if not &lt;&#x2F;span&gt;&lt;span&gt;(root &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;is &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;or &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;isinstance&lt;&#x2F;span&gt;&lt;span&gt;(root, TreeNode)):\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;raise &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;AttributeError&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;illegal root&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;        self.root &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;root\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h2 id=\&quot;qian-xu-bian-li\&quot;&gt;前序遍历&lt;&#x2F;h2&gt;\n&lt;p&gt;先遍历根节点。在遍历孩子节点。\n&lt;img src=\&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;media&#x2F;15231560956719&#x2F;%E5%89%8D%E5%BA%8F%E9%81%8D%E5%8E%86.jpg\&quot; alt=\&quot;前序遍历\&quot; &#x2F;&gt;&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;xun-huan-ban\&quot;&gt;循环版&lt;&#x2F;h3&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;preorder_traversal_while&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;&amp;quot;&amp;quot;&amp;quot;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        树的前序遍历\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        :return: list of tree node value\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        &amp;quot;&amp;quot;&amp;quot;\n&lt;&#x2F;span&gt;&lt;span&gt;        res &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[]\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if not &lt;&#x2F;span&gt;&lt;span&gt;self.root:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;res\n&lt;&#x2F;span&gt;&lt;span&gt;        stack &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[self.root]\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;while &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(stack):\n&lt;&#x2F;span&gt;&lt;span&gt;            node &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;stack.pop()\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if not &lt;&#x2F;span&gt;&lt;span&gt;node.value:\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;continue\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;sub_node &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;node.children[::&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;]:\n&lt;&#x2F;span&gt;&lt;span&gt;                stack.append(sub_node)\n&lt;&#x2F;span&gt;&lt;span&gt;            res.append(node.value)\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;res\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h3 id=\&quot;di-gui-ban\&quot;&gt;递归版&lt;&#x2F;h3&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;preorder_traversal_recursion&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;&amp;quot;&amp;quot;&amp;quot;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        树的前序遍历\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        :return: list of tree node value\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        &amp;quot;&amp;quot;&amp;quot;\n&lt;&#x2F;span&gt;&lt;span&gt;        res &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[]\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if not &lt;&#x2F;span&gt;&lt;span&gt;self.root:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;res\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;_inner&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;root&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;            inner_res &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[]\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;root.value:\n&lt;&#x2F;span&gt;&lt;span&gt;                inner_res.append(root.value)\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;sub_node &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;root.children:\n&lt;&#x2F;span&gt;&lt;span&gt;                    inner_res &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+= &lt;&#x2F;span&gt;&lt;span&gt;_inner(sub_node)\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;inner_res\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;_inner(self.root)\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h2 id=\&quot;hou-xu-bian-li\&quot;&gt;后序遍历&lt;&#x2F;h2&gt;\n&lt;p&gt;先遍历孩子节点，最后遍历根节点。&lt;&#x2F;p&gt;\n&lt;p&gt;&lt;img src=\&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;media&#x2F;15231560956719&#x2F;%E5%90%8E%E5%BA%8F%E9%81%8D%E5%8E%86.jpg\&quot; alt=\&quot;后序遍历\&quot; &#x2F;&gt;&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;xun-huan-ban-1\&quot;&gt;循环版&lt;&#x2F;h3&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;postorder_traversal_while&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;&amp;quot;&amp;quot;&amp;quot;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        树的后序遍历\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        :return: list of tree node value\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        &amp;quot;&amp;quot;&amp;quot;\n&lt;&#x2F;span&gt;&lt;span&gt;        res &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[]\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if not &lt;&#x2F;span&gt;&lt;span&gt;self.root:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;res\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        stack &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[self.root]\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;while &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(stack):\n&lt;&#x2F;span&gt;&lt;span&gt;            node &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;stack.pop()\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if not &lt;&#x2F;span&gt;&lt;span&gt;node.value:\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;continue\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;sub_node &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;node.children:\n&lt;&#x2F;span&gt;&lt;span&gt;                stack.append(sub_node)\n&lt;&#x2F;span&gt;&lt;span&gt;            res.append(node.value)\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;res[::&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;]\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h3 id=\&quot;di-gui-ban-1\&quot;&gt;递归版&lt;&#x2F;h3&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span&gt;   &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;postorder_traversal_recursion&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;&amp;quot;&amp;quot;&amp;quot;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        树的后序遍历\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        :return: list of tree node value\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        &amp;quot;&amp;quot;&amp;quot;\n&lt;&#x2F;span&gt;&lt;span&gt;        res &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[]\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if not &lt;&#x2F;span&gt;&lt;span&gt;self.root:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;res\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;_inner&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;root&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;            inner_res &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[]\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;root.value:\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;sub_node &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;root.children:\n&lt;&#x2F;span&gt;&lt;span&gt;                    inner_res &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+= &lt;&#x2F;span&gt;&lt;span&gt;_inner(sub_node)\n&lt;&#x2F;span&gt;&lt;span&gt;                inner_res.append(root.value)\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;inner_res\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;_inner(self.root)\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h2 id=\&quot;ceng-ci-bian-li\&quot;&gt;层次遍历&lt;&#x2F;h2&gt;\n&lt;p&gt;按层遍历节点。\n&lt;img src=\&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;media&#x2F;15231560956719&#x2F;%E5%B1%82%E5%BA%8F%E9%81%8D%E5%8E%86.jpg\&quot; alt=\&quot;层序遍历\&quot; &#x2F;&gt;&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;xun-huan-ban-2\&quot;&gt;循环版&lt;&#x2F;h3&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;layer_while&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;&amp;quot;&amp;quot;&amp;quot;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        树的层序遍历\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        :return: list of tree node value\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        &amp;quot;&amp;quot;&amp;quot;\n&lt;&#x2F;span&gt;&lt;span&gt;        res &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[]\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if not &lt;&#x2F;span&gt;&lt;span&gt;self.root:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;res\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        queue &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;Queue()\n&lt;&#x2F;span&gt;&lt;span&gt;        queue.put(self.root)\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;while &lt;&#x2F;span&gt;&lt;span&gt;queue.qsize():\n&lt;&#x2F;span&gt;&lt;span&gt;            node &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;queue.get()\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if not &lt;&#x2F;span&gt;&lt;span&gt;node.value:\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;continue\n&lt;&#x2F;span&gt;&lt;span&gt;            res.append(node.value)\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;sub_node &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;node.children:\n&lt;&#x2F;span&gt;&lt;span&gt;                queue.put(sub_node)\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;res\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h2 id=\&quot;qiu-shu-de-shen-du\&quot;&gt;求树的深度&lt;&#x2F;h2&gt;\n&lt;p&gt;计算树的最大深度。&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span&gt; &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;depth_recursion&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;_inner&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;root&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;depth&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if not &lt;&#x2F;span&gt;&lt;span&gt;root.children:\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;depth\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;max&lt;&#x2F;span&gt;&lt;span&gt;([_inner(sub_node, depth&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;sub_node &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;root.children])\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;_inner(self.root)\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h2 id=\&quot;qiu-shu-de-jie-dian-shu\&quot;&gt;求树的结点数&lt;&#x2F;h2&gt;\n&lt;p&gt;计算树一共有多少节点。&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span&gt; &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;node_count&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;_inner&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;root&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if not &lt;&#x2F;span&gt;&lt;span&gt;root.children:\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1 &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;sum&lt;&#x2F;span&gt;&lt;span&gt;([_inner(sub_node) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;sub_node &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;root.children])\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;_inner(self.root)\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h2 id=\&quot;qiu-shu-de-xie-zi-shu\&quot;&gt;求树的叶子数&lt;&#x2F;h2&gt;\n&lt;p&gt;计算书中有多少没有孩子的节点。&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;leaf_count&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;_inner&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;root&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if not &lt;&#x2F;span&gt;&lt;span&gt;root.children:\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;sum&lt;&#x2F;span&gt;&lt;span&gt;([_inner(sub_node) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;sub_node &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;root.children])\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;_inner(self.root)\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h2 id=\&quot;qiu-liang-ge-jie-dian-de-zui-di-gong-gong-zu-xian-jie-dian\&quot;&gt;求两个结点的最低公共祖先结点&lt;&#x2F;h2&gt;\n&lt;p&gt;首先需要在树中找到两个结点。\n保存找到两个节点的链表。\n遍历两个链表的最长公共节点，就能找到最低的公共祖先节点。\n&lt;img src=\&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;media&#x2F;15231560956719&#x2F;%E6%9C%80%E4%BD%8E%E5%85%AC%E5%85%B1%E7%A5%96%E5%85%88%E8%8A%82%E7%82%B9.jpg\&quot; alt=\&quot;最低公共祖先节点\&quot; &#x2F;&gt;&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;lowest_ancestor_node&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;node1&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;node2&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;        stack &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[self.root]\n&lt;&#x2F;span&gt;&lt;span&gt;        stack1 &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None\n&lt;&#x2F;span&gt;&lt;span&gt;        stack2 &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;while &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(stack) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;and not &lt;&#x2F;span&gt;&lt;span&gt;(stack1 &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;and &lt;&#x2F;span&gt;&lt;span&gt;stack2):\n&lt;&#x2F;span&gt;&lt;span&gt;            node &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;stack.pop()\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;node &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;is &lt;&#x2F;span&gt;&lt;span&gt;node1:\n&lt;&#x2F;span&gt;&lt;span&gt;                stack1 &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;stack[:]\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;node &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;is &lt;&#x2F;span&gt;&lt;span&gt;node2:\n&lt;&#x2F;span&gt;&lt;span&gt;                stack2 &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;stack[:]\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if not &lt;&#x2F;span&gt;&lt;span&gt;node.value:\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;continue\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;sub_node &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;node.children:\n&lt;&#x2F;span&gt;&lt;span&gt;                stack.append(sub_node)\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        res &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;self.root\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(stack1)):\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;stack1[i] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;== &lt;&#x2F;span&gt;&lt;span&gt;stack2[i]:\n&lt;&#x2F;span&gt;&lt;span&gt;                res &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;stack1[i]\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;res.value\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;res.value\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h2 id=\&quot;qiu-ren-yi-liang-jie-dian-ju-chi\&quot;&gt;求任意两结点距离&lt;&#x2F;h2&gt;\n&lt;p&gt;首先需要在树中找到两个结点。\n保存找到两个节点的链表。\n在判断剩余的长度\n&lt;img src=\&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;media&#x2F;15231560956719&#x2F;%E4%BB%BB%E6%84%8F%E4%B8%A4%E8%8A%82%E7%82%B9%E8%B7%9D%E7%A6%BB.jpg\&quot; alt=\&quot;任意两节点距离\&quot; &#x2F;&gt;&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;two_node_distence&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;node1&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;node2&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;        stack &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[self.root]\n&lt;&#x2F;span&gt;&lt;span&gt;        stack1 &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None\n&lt;&#x2F;span&gt;&lt;span&gt;        stack2 &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;while &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(stack) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;and not &lt;&#x2F;span&gt;&lt;span&gt;(stack1 &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;and &lt;&#x2F;span&gt;&lt;span&gt;stack2):\n&lt;&#x2F;span&gt;&lt;span&gt;            node &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;stack.pop()\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;node &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;is &lt;&#x2F;span&gt;&lt;span&gt;node1:\n&lt;&#x2F;span&gt;&lt;span&gt;                stack1 &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;stack[:]\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;node &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;is &lt;&#x2F;span&gt;&lt;span&gt;node2:\n&lt;&#x2F;span&gt;&lt;span&gt;                stack2 &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;stack[:]\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if not &lt;&#x2F;span&gt;&lt;span&gt;node.value:\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;continue\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;sub_node &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;node.children:\n&lt;&#x2F;span&gt;&lt;span&gt;                stack.append(sub_node)\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        res &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;self.root\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(stack1)):\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;stack1[i] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;== &lt;&#x2F;span&gt;&lt;span&gt;stack2[i]:\n&lt;&#x2F;span&gt;&lt;span&gt;                res &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;stack1[i]\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(stack1) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(stack2) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;2&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;i\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(stack1) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(stack2) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;2&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;i\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h2 id=\&quot;zong-shu\&quot;&gt;综述&lt;&#x2F;h2&gt;\n&lt;p&gt;以上就是和树有关联的简单代码。\n以上代码也在 Github 上发布 &lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;github.com&#x2F;EINDEX&#x2F;Python-algorithm&#x2F;blob&#x2F;master&#x2F;data_structure&#x2F;tree&#x2F;tree.py\&quot;&gt;tree&lt;&#x2F;a&gt;， 如有差错，欢迎提交 Issue 或 PR。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;geng-xin\&quot;&gt;更新&lt;&#x2F;h2&gt;\n&lt;ul&gt;\n&lt;li&gt;修复图片的 Bug&lt;&#x2F;li&gt;\n&lt;&#x2F;ul&gt;\n&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;&quot;,&quot;slug&quot;:&quot;tree-in-python&quot;,&quot;ancestors&quot;:[&quot;_index.cn.md&quot;,&quot;posts&#x2F;_index.cn.md&quot;],&quot;title&quot;:&quot;Tree in Python&quot;,&quot;description&quot;:null,&quot;updated&quot;:null,&quot;date&quot;:&quot;2018-04-08T14:30:44+08:00&quot;,&quot;year&quot;:2018,&quot;month&quot;:4,&quot;day&quot;:8,&quot;taxonomies&quot;:{&quot;tags&quot;:[&quot;Python&quot;],&quot;series&quot;:[&quot;algorithm&quot;]},&quot;extra&quot;:{},&quot;path&quot;:&quot;&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;&quot;,&quot;components&quot;:[&quot;cn&quot;,&quot;posts&quot;,&quot;tree-in-python&quot;],&quot;summary&quot;:&quot;&lt;p&gt;树是计算机科学中常用的数据结构之一,常见的地方有，Java 的继承树等。\n还有一些基于树的特殊数据结构，比如二叉树，B 树，等等。&lt;&#x2F;p&gt;\n&lt;p&gt;本篇会讲述一些关于简单关于树的操作。&lt;&#x2F;p&gt;\n&quot;,&quot;toc&quot;:[{&quot;level&quot;:2,&quot;id&quot;:&quot;shu-de-ding-yi&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;#shu-de-ding-yi&quot;,&quot;title&quot;:&quot;树的定义&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;ding-yi-shu-ju-jie-gou&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;#ding-yi-shu-ju-jie-gou&quot;,&quot;title&quot;:&quot;定义数据结构&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;qian-xu-bian-li&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;#qian-xu-bian-li&quot;,&quot;title&quot;:&quot;前序遍历&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;xun-huan-ban&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;#xun-huan-ban&quot;,&quot;title&quot;:&quot;循环版&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;di-gui-ban&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;#di-gui-ban&quot;,&quot;title&quot;:&quot;递归版&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;hou-xu-bian-li&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;#hou-xu-bian-li&quot;,&quot;title&quot;:&quot;后序遍历&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;xun-huan-ban-1&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;#xun-huan-ban-1&quot;,&quot;title&quot;:&quot;循环版&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;di-gui-ban-1&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;#di-gui-ban-1&quot;,&quot;title&quot;:&quot;递归版&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;ceng-ci-bian-li&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;#ceng-ci-bian-li&quot;,&quot;title&quot;:&quot;层次遍历&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;xun-huan-ban-2&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;#xun-huan-ban-2&quot;,&quot;title&quot;:&quot;循环版&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;qiu-shu-de-shen-du&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;#qiu-shu-de-shen-du&quot;,&quot;title&quot;:&quot;求树的深度&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;qiu-shu-de-jie-dian-shu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;#qiu-shu-de-jie-dian-shu&quot;,&quot;title&quot;:&quot;求树的结点数&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;qiu-shu-de-xie-zi-shu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;#qiu-shu-de-xie-zi-shu&quot;,&quot;title&quot;:&quot;求树的叶子数&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;qiu-liang-ge-jie-dian-de-zui-di-gong-gong-zu-xian-jie-dian&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;#qiu-liang-ge-jie-dian-de-zui-di-gong-gong-zu-xian-jie-dian&quot;,&quot;title&quot;:&quot;求两个结点的最低公共祖先结点&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;qiu-ren-yi-liang-jie-dian-ju-chi&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;#qiu-ren-yi-liang-jie-dian-ju-chi&quot;,&quot;title&quot;:&quot;求任意两结点距离&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;zong-shu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;#zong-shu&quot;,&quot;title&quot;:&quot;综述&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;geng-xin&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;#geng-xin&quot;,&quot;title&quot;:&quot;更新&quot;,&quot;children&quot;:[]}],&quot;word_count&quot;:1210,&quot;reading_time&quot;:7,&quot;assets&quot;:[],&quot;draft&quot;:false,&quot;lang&quot;:&quot;cn&quot;,&quot;lower&quot;:null,&quot;higher&quot;:null,&quot;translations&quot;:[{&quot;lang&quot;:&quot;cn&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;&quot;,&quot;title&quot;:&quot;Tree in Python&quot;,&quot;path&quot;:&quot;&#x2F;home&#x2F;runner&#x2F;work&#x2F;blog&#x2F;blog&#x2F;content&#x2F;posts&#x2F;tree-in-python.cn.md&quot;}],&quot;backlinks&quot;:[]},&quot;translations&quot;:[{&quot;lang&quot;:&quot;cn&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;kmp&#x2F;&quot;,&quot;title&quot;:&quot;KMP 算法&quot;,&quot;path&quot;:&quot;&#x2F;home&#x2F;runner&#x2F;work&#x2F;blog&#x2F;blog&#x2F;content&#x2F;posts&#x2F;kmp.cn.md&quot;}],&quot;backlinks&quot;:[]},{&quot;relative_path&quot;:&quot;posts&#x2F;tree-in-python.cn.md&quot;,&quot;content&quot;:&quot;&lt;p&gt;树是计算机科学中常用的数据结构之一,常见的地方有，Java 的继承树等。\n还有一些基于树的特殊数据结构，比如二叉树，B 树，等等。&lt;&#x2F;p&gt;\n&lt;p&gt;本篇会讲述一些关于简单关于树的操作。&lt;&#x2F;p&gt;\n&lt;span id=\&quot;continue-reading\&quot;&gt;&lt;&#x2F;span&gt;&lt;h2 id=\&quot;shu-de-ding-yi\&quot;&gt;树的定义&lt;&#x2F;h2&gt;\n&lt;blockquote&gt;\n&lt;p&gt;树（英语：tree）是一种抽象数据类型（ADT）或是实作这种抽象数据类型的数据结构，用来模拟具有树状结构性质的数据集合。它是由n（n&amp;gt;0）个有限节点组成一个具有层次关系的集合。把它叫做“树”是因为它看起来像一棵倒挂的树，也就是说它是根朝上，而叶朝下的。它具有以下的特点：&lt;&#x2F;p&gt;\n&lt;&#x2F;blockquote&gt;\n&lt;blockquote&gt;\n&lt;ul&gt;\n&lt;li&gt;每个节点有零个或多个子节点&lt;&#x2F;li&gt;\n&lt;li&gt;没有父节点的节点称为根节点&lt;&#x2F;li&gt;\n&lt;li&gt;每一个非根节点有且只有一个父节点&lt;&#x2F;li&gt;\n&lt;li&gt;除了根节点外，每个子节点可以分为多个不相交的子树&lt;&#x2F;li&gt;\n&lt;&#x2F;ul&gt;\n&lt;&#x2F;blockquote&gt;\n&lt;p&gt;节选自 &lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;zh.wikipedia.org&#x2F;wiki&#x2F;%E6%A0%91_(%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84)\&quot;&gt;树(数据结构)&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;ding-yi-shu-ju-jie-gou\&quot;&gt;定义数据结构&lt;&#x2F;h2&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=\&quot;text-decoration:underline;color:#a6e22e;\&quot;&gt;TreeNode&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;text-decoration:underline;font-style:italic;color:#a6e22e;\&quot;&gt;object&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;&amp;quot;&amp;quot;&amp;quot;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;    一个树节点\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;    &amp;quot;&amp;quot;&amp;quot;\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;__init__&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;value&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;children&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;&amp;quot;&amp;quot;&amp;quot;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        :param value: 节点的值\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        :param children: 节点的子节点，一个 TreeNode 的列表\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        &amp;quot;&amp;quot;&amp;quot;\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        self.value &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;value\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if not &lt;&#x2F;span&gt;&lt;span&gt;children:\n&lt;&#x2F;span&gt;&lt;span&gt;            self.children &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[]\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;elif not &lt;&#x2F;span&gt;&lt;span&gt;self.value:\n&lt;&#x2F;span&gt;&lt;span&gt;            self.children &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[]\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            self.children &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;children\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=\&quot;text-decoration:underline;color:#a6e22e;\&quot;&gt;Tree&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;text-decoration:underline;font-style:italic;color:#a6e22e;\&quot;&gt;object&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;&amp;quot;&amp;quot;&amp;quot;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;    树：基本树的数据结构\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;    &amp;quot;&amp;quot;&amp;quot;\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;__init__&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;root&lt;&#x2F;span&gt;&lt;span&gt;: TreeNode &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;or &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;&amp;quot;&amp;quot;&amp;quot;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        传入根节点\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        :param root: 如果为 TreeNode 为根节点， 如果为 None 为空书\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        &amp;quot;&amp;quot;&amp;quot;\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if not &lt;&#x2F;span&gt;&lt;span&gt;(root &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;is &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;or &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;isinstance&lt;&#x2F;span&gt;&lt;span&gt;(root, TreeNode)):\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;raise &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;AttributeError&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;illegal root&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;        self.root &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;root\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h2 id=\&quot;qian-xu-bian-li\&quot;&gt;前序遍历&lt;&#x2F;h2&gt;\n&lt;p&gt;先遍历根节点。在遍历孩子节点。\n&lt;img src=\&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;media&#x2F;15231560956719&#x2F;%E5%89%8D%E5%BA%8F%E9%81%8D%E5%8E%86.jpg\&quot; alt=\&quot;前序遍历\&quot; &#x2F;&gt;&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;xun-huan-ban\&quot;&gt;循环版&lt;&#x2F;h3&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;preorder_traversal_while&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;&amp;quot;&amp;quot;&amp;quot;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        树的前序遍历\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        :return: list of tree node value\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        &amp;quot;&amp;quot;&amp;quot;\n&lt;&#x2F;span&gt;&lt;span&gt;        res &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[]\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if not &lt;&#x2F;span&gt;&lt;span&gt;self.root:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;res\n&lt;&#x2F;span&gt;&lt;span&gt;        stack &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[self.root]\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;while &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(stack):\n&lt;&#x2F;span&gt;&lt;span&gt;            node &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;stack.pop()\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if not &lt;&#x2F;span&gt;&lt;span&gt;node.value:\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;continue\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;sub_node &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;node.children[::&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;]:\n&lt;&#x2F;span&gt;&lt;span&gt;                stack.append(sub_node)\n&lt;&#x2F;span&gt;&lt;span&gt;            res.append(node.value)\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;res\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h3 id=\&quot;di-gui-ban\&quot;&gt;递归版&lt;&#x2F;h3&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;preorder_traversal_recursion&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;&amp;quot;&amp;quot;&amp;quot;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        树的前序遍历\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        :return: list of tree node value\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        &amp;quot;&amp;quot;&amp;quot;\n&lt;&#x2F;span&gt;&lt;span&gt;        res &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[]\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if not &lt;&#x2F;span&gt;&lt;span&gt;self.root:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;res\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;_inner&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;root&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;            inner_res &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[]\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;root.value:\n&lt;&#x2F;span&gt;&lt;span&gt;                inner_res.append(root.value)\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;sub_node &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;root.children:\n&lt;&#x2F;span&gt;&lt;span&gt;                    inner_res &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+= &lt;&#x2F;span&gt;&lt;span&gt;_inner(sub_node)\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;inner_res\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;_inner(self.root)\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h2 id=\&quot;hou-xu-bian-li\&quot;&gt;后序遍历&lt;&#x2F;h2&gt;\n&lt;p&gt;先遍历孩子节点，最后遍历根节点。&lt;&#x2F;p&gt;\n&lt;p&gt;&lt;img src=\&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;media&#x2F;15231560956719&#x2F;%E5%90%8E%E5%BA%8F%E9%81%8D%E5%8E%86.jpg\&quot; alt=\&quot;后序遍历\&quot; &#x2F;&gt;&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;xun-huan-ban-1\&quot;&gt;循环版&lt;&#x2F;h3&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;postorder_traversal_while&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;&amp;quot;&amp;quot;&amp;quot;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        树的后序遍历\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        :return: list of tree node value\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        &amp;quot;&amp;quot;&amp;quot;\n&lt;&#x2F;span&gt;&lt;span&gt;        res &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[]\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if not &lt;&#x2F;span&gt;&lt;span&gt;self.root:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;res\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        stack &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[self.root]\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;while &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(stack):\n&lt;&#x2F;span&gt;&lt;span&gt;            node &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;stack.pop()\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if not &lt;&#x2F;span&gt;&lt;span&gt;node.value:\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;continue\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;sub_node &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;node.children:\n&lt;&#x2F;span&gt;&lt;span&gt;                stack.append(sub_node)\n&lt;&#x2F;span&gt;&lt;span&gt;            res.append(node.value)\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;res[::&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;]\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h3 id=\&quot;di-gui-ban-1\&quot;&gt;递归版&lt;&#x2F;h3&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span&gt;   &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;postorder_traversal_recursion&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;&amp;quot;&amp;quot;&amp;quot;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        树的后序遍历\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        :return: list of tree node value\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        &amp;quot;&amp;quot;&amp;quot;\n&lt;&#x2F;span&gt;&lt;span&gt;        res &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[]\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if not &lt;&#x2F;span&gt;&lt;span&gt;self.root:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;res\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;_inner&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;root&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;            inner_res &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[]\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;root.value:\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;sub_node &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;root.children:\n&lt;&#x2F;span&gt;&lt;span&gt;                    inner_res &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+= &lt;&#x2F;span&gt;&lt;span&gt;_inner(sub_node)\n&lt;&#x2F;span&gt;&lt;span&gt;                inner_res.append(root.value)\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;inner_res\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;_inner(self.root)\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h2 id=\&quot;ceng-ci-bian-li\&quot;&gt;层次遍历&lt;&#x2F;h2&gt;\n&lt;p&gt;按层遍历节点。\n&lt;img src=\&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;media&#x2F;15231560956719&#x2F;%E5%B1%82%E5%BA%8F%E9%81%8D%E5%8E%86.jpg\&quot; alt=\&quot;层序遍历\&quot; &#x2F;&gt;&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;xun-huan-ban-2\&quot;&gt;循环版&lt;&#x2F;h3&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;layer_while&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;&amp;quot;&amp;quot;&amp;quot;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        树的层序遍历\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        :return: list of tree node value\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        &amp;quot;&amp;quot;&amp;quot;\n&lt;&#x2F;span&gt;&lt;span&gt;        res &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[]\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if not &lt;&#x2F;span&gt;&lt;span&gt;self.root:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;res\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        queue &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;Queue()\n&lt;&#x2F;span&gt;&lt;span&gt;        queue.put(self.root)\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;while &lt;&#x2F;span&gt;&lt;span&gt;queue.qsize():\n&lt;&#x2F;span&gt;&lt;span&gt;            node &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;queue.get()\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if not &lt;&#x2F;span&gt;&lt;span&gt;node.value:\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;continue\n&lt;&#x2F;span&gt;&lt;span&gt;            res.append(node.value)\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;sub_node &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;node.children:\n&lt;&#x2F;span&gt;&lt;span&gt;                queue.put(sub_node)\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;res\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h2 id=\&quot;qiu-shu-de-shen-du\&quot;&gt;求树的深度&lt;&#x2F;h2&gt;\n&lt;p&gt;计算树的最大深度。&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span&gt; &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;depth_recursion&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;_inner&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;root&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;depth&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if not &lt;&#x2F;span&gt;&lt;span&gt;root.children:\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;depth\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;max&lt;&#x2F;span&gt;&lt;span&gt;([_inner(sub_node, depth&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;sub_node &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;root.children])\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;_inner(self.root)\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h2 id=\&quot;qiu-shu-de-jie-dian-shu\&quot;&gt;求树的结点数&lt;&#x2F;h2&gt;\n&lt;p&gt;计算树一共有多少节点。&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span&gt; &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;node_count&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;_inner&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;root&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if not &lt;&#x2F;span&gt;&lt;span&gt;root.children:\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1 &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;sum&lt;&#x2F;span&gt;&lt;span&gt;([_inner(sub_node) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;sub_node &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;root.children])\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;_inner(self.root)\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h2 id=\&quot;qiu-shu-de-xie-zi-shu\&quot;&gt;求树的叶子数&lt;&#x2F;h2&gt;\n&lt;p&gt;计算书中有多少没有孩子的节点。&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;leaf_count&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;_inner&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;root&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if not &lt;&#x2F;span&gt;&lt;span&gt;root.children:\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;sum&lt;&#x2F;span&gt;&lt;span&gt;([_inner(sub_node) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;sub_node &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;root.children])\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;_inner(self.root)\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h2 id=\&quot;qiu-liang-ge-jie-dian-de-zui-di-gong-gong-zu-xian-jie-dian\&quot;&gt;求两个结点的最低公共祖先结点&lt;&#x2F;h2&gt;\n&lt;p&gt;首先需要在树中找到两个结点。\n保存找到两个节点的链表。\n遍历两个链表的最长公共节点，就能找到最低的公共祖先节点。\n&lt;img src=\&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;media&#x2F;15231560956719&#x2F;%E6%9C%80%E4%BD%8E%E5%85%AC%E5%85%B1%E7%A5%96%E5%85%88%E8%8A%82%E7%82%B9.jpg\&quot; alt=\&quot;最低公共祖先节点\&quot; &#x2F;&gt;&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;lowest_ancestor_node&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;node1&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;node2&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;        stack &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[self.root]\n&lt;&#x2F;span&gt;&lt;span&gt;        stack1 &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None\n&lt;&#x2F;span&gt;&lt;span&gt;        stack2 &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;while &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(stack) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;and not &lt;&#x2F;span&gt;&lt;span&gt;(stack1 &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;and &lt;&#x2F;span&gt;&lt;span&gt;stack2):\n&lt;&#x2F;span&gt;&lt;span&gt;            node &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;stack.pop()\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;node &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;is &lt;&#x2F;span&gt;&lt;span&gt;node1:\n&lt;&#x2F;span&gt;&lt;span&gt;                stack1 &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;stack[:]\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;node &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;is &lt;&#x2F;span&gt;&lt;span&gt;node2:\n&lt;&#x2F;span&gt;&lt;span&gt;                stack2 &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;stack[:]\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if not &lt;&#x2F;span&gt;&lt;span&gt;node.value:\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;continue\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;sub_node &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;node.children:\n&lt;&#x2F;span&gt;&lt;span&gt;                stack.append(sub_node)\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        res &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;self.root\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(stack1)):\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;stack1[i] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;== &lt;&#x2F;span&gt;&lt;span&gt;stack2[i]:\n&lt;&#x2F;span&gt;&lt;span&gt;                res &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;stack1[i]\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;res.value\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;res.value\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h2 id=\&quot;qiu-ren-yi-liang-jie-dian-ju-chi\&quot;&gt;求任意两结点距离&lt;&#x2F;h2&gt;\n&lt;p&gt;首先需要在树中找到两个结点。\n保存找到两个节点的链表。\n在判断剩余的长度\n&lt;img src=\&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;media&#x2F;15231560956719&#x2F;%E4%BB%BB%E6%84%8F%E4%B8%A4%E8%8A%82%E7%82%B9%E8%B7%9D%E7%A6%BB.jpg\&quot; alt=\&quot;任意两节点距离\&quot; &#x2F;&gt;&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;two_node_distence&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;node1&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;node2&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;        stack &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[self.root]\n&lt;&#x2F;span&gt;&lt;span&gt;        stack1 &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None\n&lt;&#x2F;span&gt;&lt;span&gt;        stack2 &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;while &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(stack) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;and not &lt;&#x2F;span&gt;&lt;span&gt;(stack1 &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;and &lt;&#x2F;span&gt;&lt;span&gt;stack2):\n&lt;&#x2F;span&gt;&lt;span&gt;            node &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;stack.pop()\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;node &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;is &lt;&#x2F;span&gt;&lt;span&gt;node1:\n&lt;&#x2F;span&gt;&lt;span&gt;                stack1 &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;stack[:]\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;node &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;is &lt;&#x2F;span&gt;&lt;span&gt;node2:\n&lt;&#x2F;span&gt;&lt;span&gt;                stack2 &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;stack[:]\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if not &lt;&#x2F;span&gt;&lt;span&gt;node.value:\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;continue\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;sub_node &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;node.children:\n&lt;&#x2F;span&gt;&lt;span&gt;                stack.append(sub_node)\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        res &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;self.root\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(stack1)):\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;stack1[i] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;== &lt;&#x2F;span&gt;&lt;span&gt;stack2[i]:\n&lt;&#x2F;span&gt;&lt;span&gt;                res &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;stack1[i]\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(stack1) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(stack2) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;2&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;i\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(stack1) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(stack2) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;2&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;i\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h2 id=\&quot;zong-shu\&quot;&gt;综述&lt;&#x2F;h2&gt;\n&lt;p&gt;以上就是和树有关联的简单代码。\n以上代码也在 Github 上发布 &lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;github.com&#x2F;EINDEX&#x2F;Python-algorithm&#x2F;blob&#x2F;master&#x2F;data_structure&#x2F;tree&#x2F;tree.py\&quot;&gt;tree&lt;&#x2F;a&gt;， 如有差错，欢迎提交 Issue 或 PR。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;geng-xin\&quot;&gt;更新&lt;&#x2F;h2&gt;\n&lt;ul&gt;\n&lt;li&gt;修复图片的 Bug&lt;&#x2F;li&gt;\n&lt;&#x2F;ul&gt;\n&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;&quot;,&quot;slug&quot;:&quot;tree-in-python&quot;,&quot;ancestors&quot;:[&quot;_index.cn.md&quot;,&quot;posts&#x2F;_index.cn.md&quot;],&quot;title&quot;:&quot;Tree in Python&quot;,&quot;description&quot;:null,&quot;updated&quot;:null,&quot;date&quot;:&quot;2018-04-08T14:30:44+08:00&quot;,&quot;year&quot;:2018,&quot;month&quot;:4,&quot;day&quot;:8,&quot;taxonomies&quot;:{&quot;tags&quot;:[&quot;Python&quot;],&quot;series&quot;:[&quot;algorithm&quot;]},&quot;extra&quot;:{},&quot;path&quot;:&quot;&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;&quot;,&quot;components&quot;:[&quot;cn&quot;,&quot;posts&quot;,&quot;tree-in-python&quot;],&quot;summary&quot;:&quot;&lt;p&gt;树是计算机科学中常用的数据结构之一,常见的地方有，Java 的继承树等。\n还有一些基于树的特殊数据结构，比如二叉树，B 树，等等。&lt;&#x2F;p&gt;\n&lt;p&gt;本篇会讲述一些关于简单关于树的操作。&lt;&#x2F;p&gt;\n&quot;,&quot;toc&quot;:[{&quot;level&quot;:2,&quot;id&quot;:&quot;shu-de-ding-yi&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;#shu-de-ding-yi&quot;,&quot;title&quot;:&quot;树的定义&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;ding-yi-shu-ju-jie-gou&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;#ding-yi-shu-ju-jie-gou&quot;,&quot;title&quot;:&quot;定义数据结构&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;qian-xu-bian-li&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;#qian-xu-bian-li&quot;,&quot;title&quot;:&quot;前序遍历&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;xun-huan-ban&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;#xun-huan-ban&quot;,&quot;title&quot;:&quot;循环版&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;di-gui-ban&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;#di-gui-ban&quot;,&quot;title&quot;:&quot;递归版&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;hou-xu-bian-li&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;#hou-xu-bian-li&quot;,&quot;title&quot;:&quot;后序遍历&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;xun-huan-ban-1&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;#xun-huan-ban-1&quot;,&quot;title&quot;:&quot;循环版&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;di-gui-ban-1&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;#di-gui-ban-1&quot;,&quot;title&quot;:&quot;递归版&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;ceng-ci-bian-li&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;#ceng-ci-bian-li&quot;,&quot;title&quot;:&quot;层次遍历&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;xun-huan-ban-2&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;#xun-huan-ban-2&quot;,&quot;title&quot;:&quot;循环版&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;qiu-shu-de-shen-du&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;#qiu-shu-de-shen-du&quot;,&quot;title&quot;:&quot;求树的深度&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;qiu-shu-de-jie-dian-shu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;#qiu-shu-de-jie-dian-shu&quot;,&quot;title&quot;:&quot;求树的结点数&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;qiu-shu-de-xie-zi-shu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;#qiu-shu-de-xie-zi-shu&quot;,&quot;title&quot;:&quot;求树的叶子数&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;qiu-liang-ge-jie-dian-de-zui-di-gong-gong-zu-xian-jie-dian&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;#qiu-liang-ge-jie-dian-de-zui-di-gong-gong-zu-xian-jie-dian&quot;,&quot;title&quot;:&quot;求两个结点的最低公共祖先结点&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;qiu-ren-yi-liang-jie-dian-ju-chi&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;#qiu-ren-yi-liang-jie-dian-ju-chi&quot;,&quot;title&quot;:&quot;求任意两结点距离&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;zong-shu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;#zong-shu&quot;,&quot;title&quot;:&quot;综述&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;geng-xin&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;#geng-xin&quot;,&quot;title&quot;:&quot;更新&quot;,&quot;children&quot;:[]}],&quot;word_count&quot;:1210,&quot;reading_time&quot;:7,&quot;assets&quot;:[],&quot;draft&quot;:false,&quot;lang&quot;:&quot;cn&quot;,&quot;lower&quot;:{&quot;relative_path&quot;:&quot;posts&#x2F;kmp.cn.md&quot;,&quot;content&quot;:&quot;&lt;blockquote&gt;\n&lt;p&gt;在计算机科学中，Knuth-Morris-Pratt字符串查找算法（简称为KMP算法）可在一个主文本字符串S内查找一个词W的出现位置。此算法通过运用对这个词在不匹配时本身就包含足够的信息来确定下一个匹配将在哪里开始的发现，从而避免重新检查先前匹配的字符。&lt;&#x2F;p&gt;\n&lt;&#x2F;blockquote&gt;\n&lt;span id=\&quot;continue-reading\&quot;&gt;&lt;&#x2F;span&gt;\n&lt;blockquote&gt;\n&lt;p&gt;这个算法是由高德纳（Donald Ervin Knuth）和沃恩·普拉特在1974年构思，同年詹姆斯·H·莫里斯也独立地设计出该算法，最终由三人于1977年联合发表。&lt;&#x2F;p&gt;\n&lt;&#x2F;blockquote&gt;\n&lt;h2 id=\&quot;yuan-li\&quot;&gt;原理&lt;&#x2F;h2&gt;\n&lt;p&gt;将待匹配字符串命名为 m 源字符串命名为 S 。\n本算法对待匹配字符串做处理之后，找到他的真前缀和真后缀。并通过真前缀与后缀重合的数量的值，这个值是在匹配状态中发生矢配时，位于原始字符串上 S 的指针移动的方向与距离。&lt;&#x2F;p&gt;\n&lt;p&gt;简单的说就是匹配失败时。通过之前的真前缀和后缀表，直接移动在匹配字符串上的指针，达到减少无用匹配的效果。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;you-dian\&quot;&gt;优点&lt;&#x2F;h2&gt;\n&lt;p&gt;节约时间，相比于朴素的匹配方式，新的匹配算法只需要 O(m + n)的时间复杂度 和 额外 O(m)的空间，这个空间是用来保存真前缀和真后缀的结果的。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;shi-xian\&quot;&gt;实现&lt;&#x2F;h2&gt;\n&lt;p&gt;KMP 匹配的关键在于初始化匹配字符串。&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;partial_table&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;pattern&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;str&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;&amp;quot;&amp;quot;&amp;quot;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;    当字符串长度为1的时候，不需要进行查表，直接循环匹配时间复杂度就是 O(n)\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;    &amp;quot;&amp;quot;&amp;quot;\n&lt;&#x2F;span&gt;&lt;span&gt;    front &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[pattern[:x&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;x &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(pattern))]\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;cal_table_val&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;sub_pattern&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;max&lt;&#x2F;span&gt;&lt;span&gt;([&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;]&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(front[:i]) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(sub_pattern)) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;sub_pattern[&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;-&lt;&#x2F;span&gt;&lt;span&gt;i:] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;front[:i]])\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;[cal_table_val(pattern[:i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;]) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(pattern))]\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;kmp&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;pattern&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;string&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;first&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;True&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if not &lt;&#x2F;span&gt;&lt;span&gt;pattern &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;or not &lt;&#x2F;span&gt;&lt;span&gt;string:\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return -&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1\n&lt;&#x2F;span&gt;&lt;span&gt;    \n&lt;&#x2F;span&gt;&lt;span&gt;    res &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[]\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 匹配字符串长度为1 不需要建表\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(pattern) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;== &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i, k &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;enumerate&lt;&#x2F;span&gt;&lt;span&gt;(string):\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;k &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;== &lt;&#x2F;span&gt;&lt;span&gt;pattern:\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;first:\n&lt;&#x2F;span&gt;&lt;span&gt;                    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;i\n&lt;&#x2F;span&gt;&lt;span&gt;                res.append(i)\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;res\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;    pt &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;partial_table(pattern)\n&lt;&#x2F;span&gt;&lt;span&gt;    i, j &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0\n&lt;&#x2F;span&gt;&lt;span&gt;    lp, ls &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(pattern), &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(string)\n&lt;&#x2F;span&gt;&lt;span&gt;    compile_flag &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;False\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;while &lt;&#x2F;span&gt;&lt;span&gt;j &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;lt; &lt;&#x2F;span&gt;&lt;span&gt;ls &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;lp:\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;string[j] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;== &lt;&#x2F;span&gt;&lt;span&gt;pattern[i]:\n&lt;&#x2F;span&gt;&lt;span&gt;            i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1\n&lt;&#x2F;span&gt;&lt;span&gt;            j &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1          \n&lt;&#x2F;span&gt;&lt;span&gt;            compile_flag &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;True\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;== &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(pattern):\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;first:\n&lt;&#x2F;span&gt;&lt;span&gt;                    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;j &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;i\n&lt;&#x2F;span&gt;&lt;span&gt;                res.append(j &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;i)\n&lt;&#x2F;span&gt;&lt;span&gt;                i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;elif &lt;&#x2F;span&gt;&lt;span&gt;string[j] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;!= &lt;&#x2F;span&gt;&lt;span&gt;pattern[i] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;and &lt;&#x2F;span&gt;&lt;span&gt;compile_flag:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 之前为匹配状态 需要移动匹配数组指针\n&lt;&#x2F;span&gt;&lt;span&gt;            compile_flag &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;False\n&lt;&#x2F;span&gt;&lt;span&gt;            i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;-= &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;pt[i&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;]\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;elif &lt;&#x2F;span&gt;&lt;span&gt;string[j] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;!= &lt;&#x2F;span&gt;&lt;span&gt;pattern[i] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;and not &lt;&#x2F;span&gt;&lt;span&gt;compile_flag:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 之前为不匹配状态 匹配指针归 0 \n&lt;&#x2F;span&gt;&lt;span&gt;            i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0\n&lt;&#x2F;span&gt;&lt;span&gt;            j &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;res\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;partial_table(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;ABCDABD&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# [0, 0, 0, 0, 1, 2, 0]\n&lt;&#x2F;span&gt;&lt;span&gt;kmp(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;ABCDABD&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;BBC ABCDAB ABCDABCDABDE&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 15\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;kmp&#x2F;&quot;,&quot;slug&quot;:&quot;kmp&quot;,&quot;ancestors&quot;:[&quot;_index.cn.md&quot;,&quot;posts&#x2F;_index.cn.md&quot;],&quot;title&quot;:&quot;KMP 算法&quot;,&quot;description&quot;:null,&quot;updated&quot;:null,&quot;date&quot;:&quot;2018-05-11T14:32:26+08:00&quot;,&quot;year&quot;:2018,&quot;month&quot;:5,&quot;day&quot;:11,&quot;taxonomies&quot;:{&quot;tags&quot;:[&quot;KMP&quot;,&quot;Python&quot;],&quot;series&quot;:[&quot;algorithm&quot;]},&quot;extra&quot;:{},&quot;path&quot;:&quot;&#x2F;cn&#x2F;posts&#x2F;kmp&#x2F;&quot;,&quot;components&quot;:[&quot;cn&quot;,&quot;posts&quot;,&quot;kmp&quot;],&quot;summary&quot;:&quot;&lt;blockquote&gt;\n&lt;p&gt;在计算机科学中，Knuth-Morris-Pratt字符串查找算法（简称为KMP算法）可在一个主文本字符串S内查找一个词W的出现位置。此算法通过运用对这个词在不匹配时本身就包含足够的信息来确定下一个匹配将在哪里开始的发现，从而避免重新检查先前匹配的字符。&lt;&#x2F;p&gt;\n&lt;&#x2F;blockquote&gt;\n&quot;,&quot;toc&quot;:[{&quot;level&quot;:2,&quot;id&quot;:&quot;yuan-li&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;kmp&#x2F;#yuan-li&quot;,&quot;title&quot;:&quot;原理&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;you-dian&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;kmp&#x2F;#you-dian&quot;,&quot;title&quot;:&quot;优点&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;shi-xian&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;kmp&#x2F;#shi-xian&quot;,&quot;title&quot;:&quot;实现&quot;,&quot;children&quot;:[]}],&quot;word_count&quot;:633,&quot;reading_time&quot;:4,&quot;assets&quot;:[],&quot;draft&quot;:false,&quot;lang&quot;:&quot;cn&quot;,&quot;lower&quot;:null,&quot;higher&quot;:null,&quot;translations&quot;:[{&quot;lang&quot;:&quot;cn&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;kmp&#x2F;&quot;,&quot;title&quot;:&quot;KMP 算法&quot;,&quot;path&quot;:&quot;&#x2F;home&#x2F;runner&#x2F;work&#x2F;blog&#x2F;blog&#x2F;content&#x2F;posts&#x2F;kmp.cn.md&quot;}],&quot;backlinks&quot;:[]},&quot;higher&quot;:{&quot;relative_path&quot;:&quot;posts&#x2F;sort-in-python.cn.md&quot;,&quot;content&quot;:&quot;&lt;p&gt;本篇主要实现九(八）大排序算法，分别是冒泡排序，插入排序，选择排序，希尔排序，归并排序，快速排序，堆排序,计数排序。希望大家回顾知识的时候也能从我的这篇文章得到帮助。&lt;&#x2F;p&gt;\n&lt;span id=\&quot;continue-reading\&quot;&gt;&lt;&#x2F;span&gt;\n&lt;p&gt;&lt;strong&gt;为了防止误导读者，本文所有概念性内容均截取自对应Wiki&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;mou-pao-pai-xu\&quot;&gt;冒泡排序&lt;&#x2F;h2&gt;\n&lt;h3 id=\&quot;yuan-li\&quot;&gt;原理&lt;&#x2F;h3&gt;\n&lt;p&gt;冒泡排序(Bubble Sort)是一种简单的排序算法。它重复地走访过要排序的数列，一次比较两个元素，如果他们的顺序错误就把他们交换过来。走访数列的工作是重复地进行直到没有再需要交换，也就是说该数列已经排序完成。这个算法的名字由来是因为越小的元素会经由交换慢慢“浮”到数列的顶端。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;bu-zou\&quot;&gt;步骤&lt;&#x2F;h3&gt;\n&lt;p&gt;冒泡排序算法的运作如下：&lt;&#x2F;p&gt;\n&lt;ol&gt;\n&lt;li&gt;比较相邻的元素。如果第一个比第二个大，就交换他们两个。&lt;&#x2F;li&gt;\n&lt;li&gt;对每一对相邻元素作同样的工作，从开始第一对到结尾的最后一对。这步做完后，最后的元素会是最大的数。&lt;&#x2F;li&gt;\n&lt;li&gt;针对所有的元素重复以上的步骤，除了最后一个。&lt;&#x2F;li&gt;\n&lt;li&gt;持续每次对越来越少的元素重复上面的步骤，直到没有任何一对数字需要比较。&lt;&#x2F;li&gt;\n&lt;&#x2F;ol&gt;\n&lt;h3 id=\&quot;dai-ma\&quot;&gt;代码&lt;&#x2F;h3&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;bubble_sort&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    length &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 第一级遍历\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;index &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(length):\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 第二级遍历\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;j &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;, length &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;index):\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[j &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[j]:\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 交换两者数据，这里没用temp是因为python 特性元组。\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[j &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;], &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[j] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[j], &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[j &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;]\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;p&gt;这种排序其实还可以稍微优化一下，添加一个标记，在排序已完成时，停止排序。&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;bubble_sort_flag&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    length &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;index &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(length):\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 标志位\n&lt;&#x2F;span&gt;&lt;span&gt;        flag &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;True\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;j &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;, length &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;index):\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[j &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[j]:\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[j &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;], &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[j] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[j], &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[j &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;]\n&lt;&#x2F;span&gt;&lt;span&gt;                flag &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;False\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;flag:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 没有发生交换，直接返回list\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h2 id=\&quot;xuan-ze-pai-xu\&quot;&gt;选择排序&lt;&#x2F;h2&gt;\n&lt;h3 id=\&quot;yuan-li-1\&quot;&gt;原理&lt;&#x2F;h3&gt;\n&lt;p&gt;选择排序（Selection sort）是一种简单直观的排序算法。它的工作原理大致是将后面的元素最小元素一个个取出然后按顺序放置。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;bu-zou-1\&quot;&gt;步骤&lt;&#x2F;h3&gt;\n&lt;ol&gt;\n&lt;li&gt;在未排序序列中找到最小（大）元素，存放到排序序列的起始位置，&lt;&#x2F;li&gt;\n&lt;li&gt;再从剩余未排序元素中继续寻找最小（大）元素，然后放到已排序序列的末尾。&lt;&#x2F;li&gt;\n&lt;li&gt;重复第二步，直到所有元素均排序完毕。&lt;&#x2F;li&gt;\n&lt;&#x2F;ol&gt;\n&lt;h3 id=\&quot;dai-ma-1\&quot;&gt;代码&lt;&#x2F;h3&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;selection_sort&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;   &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;range &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;,n):\n&lt;&#x2F;span&gt;&lt;span&gt;       &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;min &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;i\n&lt;&#x2F;span&gt;&lt;span&gt;       &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;j &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(i&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;,n):\n&lt;&#x2F;span&gt;&lt;span&gt;           &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[j]&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;min&lt;&#x2F;span&gt;&lt;span&gt;]:\n&lt;&#x2F;span&gt;&lt;span&gt;               &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;min&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt;j\n&lt;&#x2F;span&gt;&lt;span&gt;               &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;min&lt;&#x2F;span&gt;&lt;span&gt;],&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[i]&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[i],&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;min&lt;&#x2F;span&gt;&lt;span&gt;]\n&lt;&#x2F;span&gt;&lt;span&gt;   &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h2 id=\&quot;cha-ru-pai-xu\&quot;&gt;插入排序&lt;&#x2F;h2&gt;\n&lt;h3 id=\&quot;yuan-li-2\&quot;&gt;原理&lt;&#x2F;h3&gt;\n&lt;p&gt;插入排序（Insertion Sort）是一种简单直观的排序算法。它的工作原理是通过构建有序序列，对于未排序数据，在已排序序列中从后向前扫描，找到相应位置并插入。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;bu-zou-2\&quot;&gt;步骤&lt;&#x2F;h3&gt;\n&lt;ol&gt;\n&lt;li&gt;从第一个元素开始，该元素可以认为已经被排序&lt;&#x2F;li&gt;\n&lt;li&gt;取出下一个元素，在已经排序的元素序列中从后向前扫描&lt;&#x2F;li&gt;\n&lt;li&gt;如果该元素（已排序）大于新元素，将该元素移到下一位置&lt;&#x2F;li&gt;\n&lt;li&gt;重复步骤3，直到找到已排序的元素小于或者等于新元素的位置&lt;&#x2F;li&gt;\n&lt;li&gt;将新元素插入到该位置后&lt;&#x2F;li&gt;\n&lt;li&gt;重复步骤2~5&lt;&#x2F;li&gt;\n&lt;&#x2F;ol&gt;\n&lt;h3 id=\&quot;dai-ma-2\&quot;&gt;代码&lt;&#x2F;h3&gt;\n&lt;pre data-lang=\&quot;Python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-Python \&quot;&gt;&lt;code class=\&quot;language-Python\&quot; data-lang=\&quot;Python\&quot;&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;insert_sort&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    n &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;, n):\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 后一个元素和前一个元素比较\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 如果比前一个小\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[i] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;lt; &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;]:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 将这个数取出\n&lt;&#x2F;span&gt;&lt;span&gt;            temp &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[i]\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 保存下标\n&lt;&#x2F;span&gt;&lt;span&gt;            index &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;i\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 从后往前依次比较每个元素\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;j &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 和比取出元素大的元素交换\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[j] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span&gt;temp:\n&lt;&#x2F;span&gt;&lt;span&gt;                    &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[j &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[j]\n&lt;&#x2F;span&gt;&lt;span&gt;                    index &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;j\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;                    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;break\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 插入元素\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[index] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;temp\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h2 id=\&quot;xi-er-pai-xu\&quot;&gt;希尔排序&lt;&#x2F;h2&gt;\n&lt;h3 id=\&quot;yuan-li-3\&quot;&gt;原理&lt;&#x2F;h3&gt;\n&lt;p&gt;希尔排序，也称递减增量排序算法，是插入排序的一种更高效的改进版本。希尔排序是非稳定排序算法。\n希尔排序是基于插入排序的以下两点性质而提出改进方法的：\n插入排序在对几乎已经排好序的数据操作时，效率高，即可以达到线性排序的效率\n但插入排序一般来说是低效的，因为插入排序每次只能将数据移动一位。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;bu-zou-3\&quot;&gt;步骤&lt;&#x2F;h3&gt;\n&lt;p&gt;每次以一定步长(就是跳过等距的数)进行排序，直至步长为1.&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;dai-ma-3\&quot;&gt;代码&lt;&#x2F;h3&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;shell_sort&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    n &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 初始步长\n&lt;&#x2F;span&gt;&lt;span&gt;    gap &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;round&lt;&#x2F;span&gt;&lt;span&gt;(n &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&#x2F; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;while &lt;&#x2F;span&gt;&lt;span&gt;gap &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(gap, n):\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 每个步长进行插入排序\n&lt;&#x2F;span&gt;&lt;span&gt;            temp &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[i]\n&lt;&#x2F;span&gt;&lt;span&gt;            j &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;i\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 插入排序\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;while &lt;&#x2F;span&gt;&lt;span&gt;j &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;gt;= &lt;&#x2F;span&gt;&lt;span&gt;gap &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;and &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[j &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;gap] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span&gt;temp:\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[j] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[j &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;gap]\n&lt;&#x2F;span&gt;&lt;span&gt;                j &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;-= &lt;&#x2F;span&gt;&lt;span&gt;gap\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[j] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;temp\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 得到新的步长\n&lt;&#x2F;span&gt;&lt;span&gt;        gap &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;round&lt;&#x2F;span&gt;&lt;span&gt;(gap &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&#x2F; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;blockquote&gt;\n&lt;p&gt;步长使用的是Donald Shell的建议，另外步长还可以使用Sedgewick提出的(1, 5, 19, 41, 109,...)，该序列的项来自 {\\displaystyle 9\\times 4^{i}-9\\times 2^{i}+1} 9\\times 4^{i}-9\\times 2^{i}+1和 {\\displaystyle 2^{i+2}\\times (2^{i+2}-3)+1} 2^{{i+2}}\\times (2^{{i+2}}-3)+1这两个算式。\n也可以使用&lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;zh.wikipedia.org&#x2F;wiki&#x2F;%E6%96%90%E6%B3%A2%E9%82%A3%E5%A5%91%E6%95%B0%E5%88%97\&quot;&gt;斐波那契数列&lt;&#x2F;a&gt;除去0和1将剩余的数以黄金分区比的两倍的幂进行运算得到的数列。&lt;&#x2F;p&gt;\n&lt;&#x2F;blockquote&gt;\n&lt;h2 id=\&quot;gui-bing-pai-xu\&quot;&gt;归并排序&lt;&#x2F;h2&gt;\n&lt;h3 id=\&quot;yuan-li-4\&quot;&gt;原理&lt;&#x2F;h3&gt;\n&lt;p&gt;归并操作(归并算法)，指的是将两个已经排序的序列合并成一个序列的操作。归并排序算法依赖归并操作。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;bu-zou-4\&quot;&gt;步骤&lt;&#x2F;h3&gt;\n&lt;h4 id=\&quot;die-dai-fa\&quot;&gt;迭代法&lt;&#x2F;h4&gt;\n&lt;ol&gt;\n&lt;li&gt;申请空间，使其大小为两个已经排序序列之和，该空间用来存放合并后的序列&lt;&#x2F;li&gt;\n&lt;li&gt;设定两个指针，最初位置分别为两个已经排序序列的起始位置&lt;&#x2F;li&gt;\n&lt;li&gt;比较两个指针所指向的元素，选择相对小的元素放入到合并空间，并移动指针到下一位置&lt;&#x2F;li&gt;\n&lt;li&gt;重复步骤3直到某一指针到达序列尾&lt;&#x2F;li&gt;\n&lt;li&gt;将另一序列剩下的所有元素直接复制到合并序列尾&lt;&#x2F;li&gt;\n&lt;&#x2F;ol&gt;\n&lt;h4 id=\&quot;di-gui-fa\&quot;&gt;递归法&lt;&#x2F;h4&gt;\n&lt;p&gt;假设序列共有n个元素：&lt;&#x2F;p&gt;\n&lt;ol&gt;\n&lt;li&gt;将序列每相邻两个数字进行归并操作，形成 {\\displaystyle floor(n&#x2F;2)} floor(n&#x2F;2)个序列，排序后每个序列包含两个元素&lt;&#x2F;li&gt;\n&lt;li&gt;将上述序列再次归并，形成 {\\displaystyle floor(n&#x2F;4)} floor(n&#x2F;4)个序列，每个序列包含四个元素&lt;&#x2F;li&gt;\n&lt;li&gt;重复步骤2，直到所有元素排序完毕&lt;&#x2F;li&gt;\n&lt;&#x2F;ol&gt;\n&lt;h3 id=\&quot;dai-ma-4\&quot;&gt;代码&lt;&#x2F;h3&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 递归法\n&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;merge_sort&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 认为长度不大于1的数列是有序的\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;lt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 二分列表\n&lt;&#x2F;span&gt;&lt;span&gt;    middle &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&#x2F;&#x2F; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;2\n&lt;&#x2F;span&gt;&lt;span&gt;    left &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;merge_sort(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[:middle])\n&lt;&#x2F;span&gt;&lt;span&gt;    right &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;merge_sort(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[middle:])\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 最后一次合并\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;merge(left, right)\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 合并\n&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;merge&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;left&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;right&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    l,r&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0\n&lt;&#x2F;span&gt;&lt;span&gt;    result&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt;[]\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;while &lt;&#x2F;span&gt;&lt;span&gt;l&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(left) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;and &lt;&#x2F;span&gt;&lt;span&gt;r&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(right):\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;left[l] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span&gt;right[r]:\n&lt;&#x2F;span&gt;&lt;span&gt;            result.append(left[l])\n&lt;&#x2F;span&gt;&lt;span&gt;            l&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+=&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            result.append(right[r])\n&lt;&#x2F;span&gt;&lt;span&gt;            r &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+=&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1\n&lt;&#x2F;span&gt;&lt;span&gt;        reslut &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+=&lt;&#x2F;span&gt;&lt;span&gt;left[l:]\n&lt;&#x2F;span&gt;&lt;span&gt;        result&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+=&lt;&#x2F;span&gt;&lt;span&gt;right[r:]                \n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;result\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;p&gt;鄙人不才，不知归并排序的迭代法如何用Python实现，望指教。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;kuai-su-pai-xu\&quot;&gt;快速排序&lt;&#x2F;h2&gt;\n&lt;h3 id=\&quot;yuan-li-5\&quot;&gt;原理&lt;&#x2F;h3&gt;\n&lt;p&gt;快速排序使用分治法（Divide and conquer）策略来把一个序列（list）分为两个子序列（sub-lists）。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;bu-zou-5\&quot;&gt;步骤&lt;&#x2F;h3&gt;\n&lt;ol&gt;\n&lt;li&gt;从数列中挑出一个元素，称为&amp;quot;基准&amp;quot;（pivot），&lt;&#x2F;li&gt;\n&lt;li&gt;重新排序数列，所有元素比基准值小的摆放在基准前面，所有元素比基准值大的摆在基准的后面（相同的数可以到任一边）。在这个分区结束之后，该基准就处于数列的中间位置。这个称为分区（partition）操作。&lt;&#x2F;li&gt;\n&lt;li&gt;递归地（recursive）把小于基准值元素的子数列和大于基准值元素的子数列排序。&lt;&#x2F;li&gt;\n&lt;&#x2F;ol&gt;\n&lt;h3 id=\&quot;dai-ma-5\&quot;&gt;代码&lt;&#x2F;h3&gt;\n&lt;p&gt;普通版&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;quick_sort&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    less &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[]\n&lt;&#x2F;span&gt;&lt;span&gt;    pivotList &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[]\n&lt;&#x2F;span&gt;&lt;span&gt;    more &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[]\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 递归出口\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;lt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 将第一个值做为基准\n&lt;&#x2F;span&gt;&lt;span&gt;        pivot &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;]\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 将比急转小的值放到less数列\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;lt; &lt;&#x2F;span&gt;&lt;span&gt;pivot:\n&lt;&#x2F;span&gt;&lt;span&gt;                less.append(i)\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 将比基准打的值放到more数列\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;elif &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span&gt;pivot:\n&lt;&#x2F;span&gt;&lt;span&gt;                more.append(i)\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 将和基准相同的值保存在基准数列\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;                pivotList.append(i)\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 对less数列和more数列继续进行排序\n&lt;&#x2F;span&gt;&lt;span&gt;        less &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;quick_sort(less)\n&lt;&#x2F;span&gt;&lt;span&gt;        more &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;quick_sort(more)\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;less &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;pivotList &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;more\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;p&gt;咳咳，下面这段代码出自《Python cookbook 第二版》传说中的三行实现python快速排序。&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;qsort&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;arr&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(arr) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;lt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;arr\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;        pivot &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;arr[&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;]\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;qsort([x &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;x &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;arr[&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;:] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;x &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;lt; &lt;&#x2F;span&gt;&lt;span&gt;pivot]) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;\\\n&lt;&#x2F;span&gt;&lt;span&gt;               [pivot] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;\\\n&lt;&#x2F;span&gt;&lt;span&gt;               qsort([x &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;x &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;arr[&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;:] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;x &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;gt;= &lt;&#x2F;span&gt;&lt;span&gt;pivot])\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;p&gt;当然还有一行语法糖版本:&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span&gt;qs &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;lambda &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;xs &lt;&#x2F;span&gt;&lt;span&gt;: ( (&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(xs) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;lt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1 &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;and &lt;&#x2F;span&gt;&lt;span&gt;[xs]) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;or &lt;&#x2F;span&gt;&lt;span&gt;[ qs( [x &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;x &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;xs[&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;:] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;x &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;lt; &lt;&#x2F;span&gt;&lt;span&gt;xs[&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;]] ) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;[xs[&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;]] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;qs( [x &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;x &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;xs[&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;:] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;x &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;gt;= &lt;&#x2F;span&gt;&lt;span&gt;xs[&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;]] ) ] )[&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;]\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;p&gt;是不是感受到了Python的魅力？&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;dui-pai-xu\&quot;&gt;堆排序&lt;&#x2F;h2&gt;\n&lt;h3 id=\&quot;yuan-li-6\&quot;&gt;原理&lt;&#x2F;h3&gt;\n&lt;p&gt;堆排序（Heapsort）是指利用堆这种数据结构所设计的一种排序算法。堆积是一个近似完全二叉树的结构，并同时满足堆积的性质：即子结点的键值或索引总是小于（或者大于）它的父节点。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;bu-zou-6\&quot;&gt;步骤&lt;&#x2F;h3&gt;\n&lt;ol&gt;\n&lt;li&gt;创建最大堆:将堆所有数据重新排序，使其成为最大堆&lt;&#x2F;li&gt;\n&lt;li&gt;最大堆调整:作用是保持最大堆的性质，是创建最大堆的核心子程序&lt;&#x2F;li&gt;\n&lt;li&gt;堆排序:移除位在第一个数据的根节点，并做最大堆调整的递归运算&lt;&#x2F;li&gt;\n&lt;&#x2F;ol&gt;\n&lt;h3 id=\&quot;dai-ma-6\&quot;&gt;代码&lt;&#x2F;h3&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;heap_sort&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 创建最大堆\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;start &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;((&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&#x2F;&#x2F; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;        sift_down(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;, start, &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 堆排序\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;end &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;], &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[end] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[end], &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;]\n&lt;&#x2F;span&gt;&lt;span&gt;        sift_down(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;, end &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 最大堆调整\n&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;sift_down&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;lst&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;start&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;end&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    root &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;start\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;while &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;True&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;        child &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;2 &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;* &lt;&#x2F;span&gt;&lt;span&gt;root &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;child &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span&gt;end:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;break\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;child &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1 &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;lt;= &lt;&#x2F;span&gt;&lt;span&gt;end &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;and &lt;&#x2F;span&gt;&lt;span&gt;lst[child] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;lt; &lt;&#x2F;span&gt;&lt;span&gt;lst[child &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;]:\n&lt;&#x2F;span&gt;&lt;span&gt;            child &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;lst[root] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;lt; &lt;&#x2F;span&gt;&lt;span&gt;lst[child]:\n&lt;&#x2F;span&gt;&lt;span&gt;            lst[root], lst[child] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;lst[child], lst[root]\n&lt;&#x2F;span&gt;&lt;span&gt;            root &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;child\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;break\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h2 id=\&quot;ji-shu-pai-xu\&quot;&gt;计数排序&lt;&#x2F;h2&gt;\n&lt;h3 id=\&quot;yuan-li-7\&quot;&gt;原理&lt;&#x2F;h3&gt;\n&lt;p&gt;当输入的元素是n个0到k之间的整数时，它的运行时间是Θ(n + k)。计数排序不是比较排序，排序的速度快于任何比较排序算法。&lt;&#x2F;p&gt;\n&lt;p&gt;由于用来计数的数组C的长度取决于待排序数组中数据的范围（等于待排序数组的最大值与最小值的差加上1），这使得计数排序对于数据范围很大的数组，需要大量时间和内存。例如：计数排序是用来排序0到100之间的数字的最好的算法，但是它不适合按字母顺序排序人名。但是，计数排序可以用在基数排序算法中，能够更有效的排序数据范围很大的数组。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;bu-zou-7\&quot;&gt;步骤&lt;&#x2F;h3&gt;\n&lt;ol&gt;\n&lt;li&gt;找出待排序的数组中最大和最小的元素&lt;&#x2F;li&gt;\n&lt;li&gt;统计数组中每个值为i的元素出现的次数，存入数组 C 的第 i 项&lt;&#x2F;li&gt;\n&lt;li&gt;对所有的计数累加（从C中的第一个元素开始，每一项和前一项相加）&lt;&#x2F;li&gt;\n&lt;li&gt;反向填充目标数组：将每个元素i放在新数组的第C(i)项，每放一个元素就将C(i)减去1&lt;&#x2F;li&gt;\n&lt;&#x2F;ol&gt;\n&lt;h3 id=\&quot;dai-ma-7\&quot;&gt;代码&lt;&#x2F;h3&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;count_sort&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;min &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;2147483647\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;max &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 取得最大值和最小值\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;x &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;x &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;lt; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;min&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;min &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;x\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;x &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;max&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;max &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;x\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 创建数组C\n&lt;&#x2F;span&gt;&lt;span&gt;    count &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;* &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;max &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;min &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;index &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;        count[index &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;min&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1\n&lt;&#x2F;span&gt;&lt;span&gt;    index &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 填值\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;a &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;max &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;min&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;c &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(count[a]):\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[index] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;a &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;min\n&lt;&#x2F;span&gt;&lt;span&gt;            index &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h2 id=\&quot;di-jiu-chong-pai-xu\&quot;&gt;第九种排序&lt;&#x2F;h2&gt;\n&lt;p&gt;None？\n当然不会\n自然就是系统自带的&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;.sort()\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;p&gt;以上所有源代码均在&lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;github.com&#x2F;EINDEX&#x2F;Python-algorithm\&quot;&gt;Github共享&lt;&#x2F;a&gt;希望与大家共同进步!&lt;&#x2F;p&gt;\n&lt;hr &#x2F;&gt;\n&lt;h2 id=\&quot;can-kao-zi-liao\&quot;&gt;参考资料&lt;&#x2F;h2&gt;\n&lt;ul&gt;\n&lt;li&gt;维基百科: &lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;zh.wikipedia.org&#x2F;wiki&#x2F;%E5%86%92%E6%B3%A1%E6%8E%92%E5%BA%8F\&quot;&gt;冒泡排序&lt;&#x2F;a&gt;、&lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;zh.wikipedia.org&#x2F;wiki&#x2F;%E9%80%89%E6%8B%A9%E6%8E%92%E5%BA%8F\&quot;&gt;选择排序&lt;&#x2F;a&gt;、&lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;zh.wikipedia.org&#x2F;wiki&#x2F;%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F\&quot;&gt;插入排序&lt;&#x2F;a&gt;、&lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;zh.wikipedia.org&#x2F;wiki&#x2F;%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F\&quot;&gt;希尔排序&lt;&#x2F;a&gt;、&lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;zh.wikipedia.org&#x2F;wiki&#x2F;%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F\&quot;&gt;归并排序&lt;&#x2F;a&gt;、&lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;zh.wikipedia.org&#x2F;wiki&#x2F;%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F#.E5.8E.9F.E5.9C.B0.EF.BC.88in-place.EF.BC.89.E5.88.86.E5.89.B2.E7.9A.84.E7.89.88.E6.9C.AC\&quot;&gt;快速排序&lt;&#x2F;a&gt;、&lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;zh.wikipedia.org&#x2F;wiki&#x2F;%E5%A0%86%E6%8E%92%E5%BA%8F\&quot;&gt;堆排序&lt;&#x2F;a&gt;、&lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;zh.wikipedia.org&#x2F;wiki&#x2F;%E8%AE%A1%E6%95%B0%E6%8E%92%E5%BA%8F\&quot;&gt;计数排序&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;\n&lt;li&gt;&lt;a rel=\&quot;nofollow\&quot; href=\&quot;http:&#x2F;&#x2F;python3-cookbook.readthedocs.io&#x2F;zh_CN&#x2F;latest&#x2F;\&quot;&gt;Python Cookbook&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;\n&lt;&#x2F;ul&gt;\n&lt;h2 id=\&quot;gan-xie\&quot;&gt;感谢&lt;&#x2F;h2&gt;\n&lt;p&gt;知乎用户:&lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;ding-yi-xing\&quot;&gt;dhx1793516813&lt;&#x2F;a&gt;、&lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;cai-hao-lun-58\&quot;&gt;左鸢&lt;&#x2F;a&gt;、&lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;ling-jian-94\&quot;&gt;灵剑&lt;&#x2F;a&gt;\n为本文缺漏之处提出建议&lt;&#x2F;p&gt;\n&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;&quot;,&quot;slug&quot;:&quot;sort-in-python&quot;,&quot;ancestors&quot;:[&quot;_index.cn.md&quot;,&quot;posts&#x2F;_index.cn.md&quot;],&quot;title&quot;:&quot;基本排序算法的Python实现&quot;,&quot;description&quot;:null,&quot;updated&quot;:null,&quot;date&quot;:&quot;2017-10-05T14:34:54+08:00&quot;,&quot;year&quot;:2017,&quot;month&quot;:10,&quot;day&quot;:5,&quot;taxonomies&quot;:{&quot;tags&quot;:[&quot;Python&quot;,&quot;Sort&quot;]},&quot;extra&quot;:{},&quot;path&quot;:&quot;&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;&quot;,&quot;components&quot;:[&quot;cn&quot;,&quot;posts&quot;,&quot;sort-in-python&quot;],&quot;summary&quot;:&quot;&lt;p&gt;本篇主要实现九(八）大排序算法，分别是冒泡排序，插入排序，选择排序，希尔排序，归并排序，快速排序，堆排序,计数排序。希望大家回顾知识的时候也能从我的这篇文章得到帮助。&lt;&#x2F;p&gt;\n&quot;,&quot;toc&quot;:[{&quot;level&quot;:2,&quot;id&quot;:&quot;mou-pao-pai-xu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#mou-pao-pai-xu&quot;,&quot;title&quot;:&quot;冒泡排序&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;yuan-li&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#yuan-li&quot;,&quot;title&quot;:&quot;原理&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;bu-zou&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#bu-zou&quot;,&quot;title&quot;:&quot;步骤&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;dai-ma&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#dai-ma&quot;,&quot;title&quot;:&quot;代码&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;xuan-ze-pai-xu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#xuan-ze-pai-xu&quot;,&quot;title&quot;:&quot;选择排序&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;yuan-li-1&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#yuan-li-1&quot;,&quot;title&quot;:&quot;原理&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;bu-zou-1&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#bu-zou-1&quot;,&quot;title&quot;:&quot;步骤&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;dai-ma-1&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#dai-ma-1&quot;,&quot;title&quot;:&quot;代码&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;cha-ru-pai-xu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#cha-ru-pai-xu&quot;,&quot;title&quot;:&quot;插入排序&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;yuan-li-2&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#yuan-li-2&quot;,&quot;title&quot;:&quot;原理&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;bu-zou-2&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#bu-zou-2&quot;,&quot;title&quot;:&quot;步骤&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;dai-ma-2&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#dai-ma-2&quot;,&quot;title&quot;:&quot;代码&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;xi-er-pai-xu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#xi-er-pai-xu&quot;,&quot;title&quot;:&quot;希尔排序&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;yuan-li-3&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#yuan-li-3&quot;,&quot;title&quot;:&quot;原理&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;bu-zou-3&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#bu-zou-3&quot;,&quot;title&quot;:&quot;步骤&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;dai-ma-3&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#dai-ma-3&quot;,&quot;title&quot;:&quot;代码&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;gui-bing-pai-xu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#gui-bing-pai-xu&quot;,&quot;title&quot;:&quot;归并排序&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;yuan-li-4&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#yuan-li-4&quot;,&quot;title&quot;:&quot;原理&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;bu-zou-4&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#bu-zou-4&quot;,&quot;title&quot;:&quot;步骤&quot;,&quot;children&quot;:[{&quot;level&quot;:4,&quot;id&quot;:&quot;die-dai-fa&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#die-dai-fa&quot;,&quot;title&quot;:&quot;迭代法&quot;,&quot;children&quot;:[]},{&quot;level&quot;:4,&quot;id&quot;:&quot;di-gui-fa&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#di-gui-fa&quot;,&quot;title&quot;:&quot;递归法&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:3,&quot;id&quot;:&quot;dai-ma-4&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#dai-ma-4&quot;,&quot;title&quot;:&quot;代码&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;kuai-su-pai-xu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#kuai-su-pai-xu&quot;,&quot;title&quot;:&quot;快速排序&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;yuan-li-5&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#yuan-li-5&quot;,&quot;title&quot;:&quot;原理&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;bu-zou-5&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#bu-zou-5&quot;,&quot;title&quot;:&quot;步骤&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;dai-ma-5&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#dai-ma-5&quot;,&quot;title&quot;:&quot;代码&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;dui-pai-xu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#dui-pai-xu&quot;,&quot;title&quot;:&quot;堆排序&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;yuan-li-6&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#yuan-li-6&quot;,&quot;title&quot;:&quot;原理&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;bu-zou-6&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#bu-zou-6&quot;,&quot;title&quot;:&quot;步骤&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;dai-ma-6&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#dai-ma-6&quot;,&quot;title&quot;:&quot;代码&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;ji-shu-pai-xu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#ji-shu-pai-xu&quot;,&quot;title&quot;:&quot;计数排序&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;yuan-li-7&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#yuan-li-7&quot;,&quot;title&quot;:&quot;原理&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;bu-zou-7&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#bu-zou-7&quot;,&quot;title&quot;:&quot;步骤&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;dai-ma-7&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#dai-ma-7&quot;,&quot;title&quot;:&quot;代码&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;di-jiu-chong-pai-xu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#di-jiu-chong-pai-xu&quot;,&quot;title&quot;:&quot;第九种排序&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;can-kao-zi-liao&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#can-kao-zi-liao&quot;,&quot;title&quot;:&quot;参考资料&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;gan-xie&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#gan-xie&quot;,&quot;title&quot;:&quot;感谢&quot;,&quot;children&quot;:[]}],&quot;word_count&quot;:3119,&quot;reading_time&quot;:16,&quot;assets&quot;:[],&quot;draft&quot;:false,&quot;lang&quot;:&quot;cn&quot;,&quot;lower&quot;:null,&quot;higher&quot;:null,&quot;translations&quot;:[{&quot;lang&quot;:&quot;cn&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;&quot;,&quot;title&quot;:&quot;基本排序算法的Python实现&quot;,&quot;path&quot;:&quot;&#x2F;home&#x2F;runner&#x2F;work&#x2F;blog&#x2F;blog&#x2F;content&#x2F;posts&#x2F;sort-in-python.cn.md&quot;}],&quot;backlinks&quot;:[]},&quot;translations&quot;:[{&quot;lang&quot;:&quot;cn&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;&quot;,&quot;title&quot;:&quot;Tree in Python&quot;,&quot;path&quot;:&quot;&#x2F;home&#x2F;runner&#x2F;work&#x2F;blog&#x2F;blog&#x2F;content&#x2F;posts&#x2F;tree-in-python.cn.md&quot;}],&quot;backlinks&quot;:[]},{&quot;relative_path&quot;:&quot;posts&#x2F;sort-in-python.cn.md&quot;,&quot;content&quot;:&quot;&lt;p&gt;本篇主要实现九(八）大排序算法，分别是冒泡排序，插入排序，选择排序，希尔排序，归并排序，快速排序，堆排序,计数排序。希望大家回顾知识的时候也能从我的这篇文章得到帮助。&lt;&#x2F;p&gt;\n&lt;span id=\&quot;continue-reading\&quot;&gt;&lt;&#x2F;span&gt;\n&lt;p&gt;&lt;strong&gt;为了防止误导读者，本文所有概念性内容均截取自对应Wiki&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;mou-pao-pai-xu\&quot;&gt;冒泡排序&lt;&#x2F;h2&gt;\n&lt;h3 id=\&quot;yuan-li\&quot;&gt;原理&lt;&#x2F;h3&gt;\n&lt;p&gt;冒泡排序(Bubble Sort)是一种简单的排序算法。它重复地走访过要排序的数列，一次比较两个元素，如果他们的顺序错误就把他们交换过来。走访数列的工作是重复地进行直到没有再需要交换，也就是说该数列已经排序完成。这个算法的名字由来是因为越小的元素会经由交换慢慢“浮”到数列的顶端。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;bu-zou\&quot;&gt;步骤&lt;&#x2F;h3&gt;\n&lt;p&gt;冒泡排序算法的运作如下：&lt;&#x2F;p&gt;\n&lt;ol&gt;\n&lt;li&gt;比较相邻的元素。如果第一个比第二个大，就交换他们两个。&lt;&#x2F;li&gt;\n&lt;li&gt;对每一对相邻元素作同样的工作，从开始第一对到结尾的最后一对。这步做完后，最后的元素会是最大的数。&lt;&#x2F;li&gt;\n&lt;li&gt;针对所有的元素重复以上的步骤，除了最后一个。&lt;&#x2F;li&gt;\n&lt;li&gt;持续每次对越来越少的元素重复上面的步骤，直到没有任何一对数字需要比较。&lt;&#x2F;li&gt;\n&lt;&#x2F;ol&gt;\n&lt;h3 id=\&quot;dai-ma\&quot;&gt;代码&lt;&#x2F;h3&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;bubble_sort&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    length &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 第一级遍历\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;index &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(length):\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 第二级遍历\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;j &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;, length &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;index):\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[j &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[j]:\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 交换两者数据，这里没用temp是因为python 特性元组。\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[j &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;], &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[j] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[j], &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[j &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;]\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;p&gt;这种排序其实还可以稍微优化一下，添加一个标记，在排序已完成时，停止排序。&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;bubble_sort_flag&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    length &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;index &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(length):\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 标志位\n&lt;&#x2F;span&gt;&lt;span&gt;        flag &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;True\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;j &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;, length &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;index):\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[j &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[j]:\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[j &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;], &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[j] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[j], &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[j &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;]\n&lt;&#x2F;span&gt;&lt;span&gt;                flag &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;False\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;flag:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 没有发生交换，直接返回list\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h2 id=\&quot;xuan-ze-pai-xu\&quot;&gt;选择排序&lt;&#x2F;h2&gt;\n&lt;h3 id=\&quot;yuan-li-1\&quot;&gt;原理&lt;&#x2F;h3&gt;\n&lt;p&gt;选择排序（Selection sort）是一种简单直观的排序算法。它的工作原理大致是将后面的元素最小元素一个个取出然后按顺序放置。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;bu-zou-1\&quot;&gt;步骤&lt;&#x2F;h3&gt;\n&lt;ol&gt;\n&lt;li&gt;在未排序序列中找到最小（大）元素，存放到排序序列的起始位置，&lt;&#x2F;li&gt;\n&lt;li&gt;再从剩余未排序元素中继续寻找最小（大）元素，然后放到已排序序列的末尾。&lt;&#x2F;li&gt;\n&lt;li&gt;重复第二步，直到所有元素均排序完毕。&lt;&#x2F;li&gt;\n&lt;&#x2F;ol&gt;\n&lt;h3 id=\&quot;dai-ma-1\&quot;&gt;代码&lt;&#x2F;h3&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;selection_sort&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;   &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;range &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;,n):\n&lt;&#x2F;span&gt;&lt;span&gt;       &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;min &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;i\n&lt;&#x2F;span&gt;&lt;span&gt;       &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;j &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(i&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;,n):\n&lt;&#x2F;span&gt;&lt;span&gt;           &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[j]&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;min&lt;&#x2F;span&gt;&lt;span&gt;]:\n&lt;&#x2F;span&gt;&lt;span&gt;               &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;min&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt;j\n&lt;&#x2F;span&gt;&lt;span&gt;               &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;min&lt;&#x2F;span&gt;&lt;span&gt;],&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[i]&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[i],&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;min&lt;&#x2F;span&gt;&lt;span&gt;]\n&lt;&#x2F;span&gt;&lt;span&gt;   &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h2 id=\&quot;cha-ru-pai-xu\&quot;&gt;插入排序&lt;&#x2F;h2&gt;\n&lt;h3 id=\&quot;yuan-li-2\&quot;&gt;原理&lt;&#x2F;h3&gt;\n&lt;p&gt;插入排序（Insertion Sort）是一种简单直观的排序算法。它的工作原理是通过构建有序序列，对于未排序数据，在已排序序列中从后向前扫描，找到相应位置并插入。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;bu-zou-2\&quot;&gt;步骤&lt;&#x2F;h3&gt;\n&lt;ol&gt;\n&lt;li&gt;从第一个元素开始，该元素可以认为已经被排序&lt;&#x2F;li&gt;\n&lt;li&gt;取出下一个元素，在已经排序的元素序列中从后向前扫描&lt;&#x2F;li&gt;\n&lt;li&gt;如果该元素（已排序）大于新元素，将该元素移到下一位置&lt;&#x2F;li&gt;\n&lt;li&gt;重复步骤3，直到找到已排序的元素小于或者等于新元素的位置&lt;&#x2F;li&gt;\n&lt;li&gt;将新元素插入到该位置后&lt;&#x2F;li&gt;\n&lt;li&gt;重复步骤2~5&lt;&#x2F;li&gt;\n&lt;&#x2F;ol&gt;\n&lt;h3 id=\&quot;dai-ma-2\&quot;&gt;代码&lt;&#x2F;h3&gt;\n&lt;pre data-lang=\&quot;Python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-Python \&quot;&gt;&lt;code class=\&quot;language-Python\&quot; data-lang=\&quot;Python\&quot;&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;insert_sort&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    n &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;, n):\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 后一个元素和前一个元素比较\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 如果比前一个小\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[i] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;lt; &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;]:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 将这个数取出\n&lt;&#x2F;span&gt;&lt;span&gt;            temp &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[i]\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 保存下标\n&lt;&#x2F;span&gt;&lt;span&gt;            index &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;i\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 从后往前依次比较每个元素\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;j &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 和比取出元素大的元素交换\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[j] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span&gt;temp:\n&lt;&#x2F;span&gt;&lt;span&gt;                    &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[j &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[j]\n&lt;&#x2F;span&gt;&lt;span&gt;                    index &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;j\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;                    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;break\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 插入元素\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[index] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;temp\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h2 id=\&quot;xi-er-pai-xu\&quot;&gt;希尔排序&lt;&#x2F;h2&gt;\n&lt;h3 id=\&quot;yuan-li-3\&quot;&gt;原理&lt;&#x2F;h3&gt;\n&lt;p&gt;希尔排序，也称递减增量排序算法，是插入排序的一种更高效的改进版本。希尔排序是非稳定排序算法。\n希尔排序是基于插入排序的以下两点性质而提出改进方法的：\n插入排序在对几乎已经排好序的数据操作时，效率高，即可以达到线性排序的效率\n但插入排序一般来说是低效的，因为插入排序每次只能将数据移动一位。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;bu-zou-3\&quot;&gt;步骤&lt;&#x2F;h3&gt;\n&lt;p&gt;每次以一定步长(就是跳过等距的数)进行排序，直至步长为1.&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;dai-ma-3\&quot;&gt;代码&lt;&#x2F;h3&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;shell_sort&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    n &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 初始步长\n&lt;&#x2F;span&gt;&lt;span&gt;    gap &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;round&lt;&#x2F;span&gt;&lt;span&gt;(n &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&#x2F; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;while &lt;&#x2F;span&gt;&lt;span&gt;gap &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(gap, n):\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 每个步长进行插入排序\n&lt;&#x2F;span&gt;&lt;span&gt;            temp &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[i]\n&lt;&#x2F;span&gt;&lt;span&gt;            j &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;i\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 插入排序\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;while &lt;&#x2F;span&gt;&lt;span&gt;j &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;gt;= &lt;&#x2F;span&gt;&lt;span&gt;gap &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;and &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[j &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;gap] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span&gt;temp:\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[j] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[j &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;gap]\n&lt;&#x2F;span&gt;&lt;span&gt;                j &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;-= &lt;&#x2F;span&gt;&lt;span&gt;gap\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[j] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;temp\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 得到新的步长\n&lt;&#x2F;span&gt;&lt;span&gt;        gap &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;round&lt;&#x2F;span&gt;&lt;span&gt;(gap &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&#x2F; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;blockquote&gt;\n&lt;p&gt;步长使用的是Donald Shell的建议，另外步长还可以使用Sedgewick提出的(1, 5, 19, 41, 109,...)，该序列的项来自 {\\displaystyle 9\\times 4^{i}-9\\times 2^{i}+1} 9\\times 4^{i}-9\\times 2^{i}+1和 {\\displaystyle 2^{i+2}\\times (2^{i+2}-3)+1} 2^{{i+2}}\\times (2^{{i+2}}-3)+1这两个算式。\n也可以使用&lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;zh.wikipedia.org&#x2F;wiki&#x2F;%E6%96%90%E6%B3%A2%E9%82%A3%E5%A5%91%E6%95%B0%E5%88%97\&quot;&gt;斐波那契数列&lt;&#x2F;a&gt;除去0和1将剩余的数以黄金分区比的两倍的幂进行运算得到的数列。&lt;&#x2F;p&gt;\n&lt;&#x2F;blockquote&gt;\n&lt;h2 id=\&quot;gui-bing-pai-xu\&quot;&gt;归并排序&lt;&#x2F;h2&gt;\n&lt;h3 id=\&quot;yuan-li-4\&quot;&gt;原理&lt;&#x2F;h3&gt;\n&lt;p&gt;归并操作(归并算法)，指的是将两个已经排序的序列合并成一个序列的操作。归并排序算法依赖归并操作。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;bu-zou-4\&quot;&gt;步骤&lt;&#x2F;h3&gt;\n&lt;h4 id=\&quot;die-dai-fa\&quot;&gt;迭代法&lt;&#x2F;h4&gt;\n&lt;ol&gt;\n&lt;li&gt;申请空间，使其大小为两个已经排序序列之和，该空间用来存放合并后的序列&lt;&#x2F;li&gt;\n&lt;li&gt;设定两个指针，最初位置分别为两个已经排序序列的起始位置&lt;&#x2F;li&gt;\n&lt;li&gt;比较两个指针所指向的元素，选择相对小的元素放入到合并空间，并移动指针到下一位置&lt;&#x2F;li&gt;\n&lt;li&gt;重复步骤3直到某一指针到达序列尾&lt;&#x2F;li&gt;\n&lt;li&gt;将另一序列剩下的所有元素直接复制到合并序列尾&lt;&#x2F;li&gt;\n&lt;&#x2F;ol&gt;\n&lt;h4 id=\&quot;di-gui-fa\&quot;&gt;递归法&lt;&#x2F;h4&gt;\n&lt;p&gt;假设序列共有n个元素：&lt;&#x2F;p&gt;\n&lt;ol&gt;\n&lt;li&gt;将序列每相邻两个数字进行归并操作，形成 {\\displaystyle floor(n&#x2F;2)} floor(n&#x2F;2)个序列，排序后每个序列包含两个元素&lt;&#x2F;li&gt;\n&lt;li&gt;将上述序列再次归并，形成 {\\displaystyle floor(n&#x2F;4)} floor(n&#x2F;4)个序列，每个序列包含四个元素&lt;&#x2F;li&gt;\n&lt;li&gt;重复步骤2，直到所有元素排序完毕&lt;&#x2F;li&gt;\n&lt;&#x2F;ol&gt;\n&lt;h3 id=\&quot;dai-ma-4\&quot;&gt;代码&lt;&#x2F;h3&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 递归法\n&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;merge_sort&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 认为长度不大于1的数列是有序的\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;lt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 二分列表\n&lt;&#x2F;span&gt;&lt;span&gt;    middle &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&#x2F;&#x2F; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;2\n&lt;&#x2F;span&gt;&lt;span&gt;    left &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;merge_sort(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[:middle])\n&lt;&#x2F;span&gt;&lt;span&gt;    right &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;merge_sort(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[middle:])\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 最后一次合并\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;merge(left, right)\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 合并\n&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;merge&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;left&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;right&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    l,r&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0\n&lt;&#x2F;span&gt;&lt;span&gt;    result&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt;[]\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;while &lt;&#x2F;span&gt;&lt;span&gt;l&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(left) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;and &lt;&#x2F;span&gt;&lt;span&gt;r&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(right):\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;left[l] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span&gt;right[r]:\n&lt;&#x2F;span&gt;&lt;span&gt;            result.append(left[l])\n&lt;&#x2F;span&gt;&lt;span&gt;            l&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+=&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            result.append(right[r])\n&lt;&#x2F;span&gt;&lt;span&gt;            r &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+=&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1\n&lt;&#x2F;span&gt;&lt;span&gt;        reslut &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+=&lt;&#x2F;span&gt;&lt;span&gt;left[l:]\n&lt;&#x2F;span&gt;&lt;span&gt;        result&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+=&lt;&#x2F;span&gt;&lt;span&gt;right[r:]                \n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;result\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;p&gt;鄙人不才，不知归并排序的迭代法如何用Python实现，望指教。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;kuai-su-pai-xu\&quot;&gt;快速排序&lt;&#x2F;h2&gt;\n&lt;h3 id=\&quot;yuan-li-5\&quot;&gt;原理&lt;&#x2F;h3&gt;\n&lt;p&gt;快速排序使用分治法（Divide and conquer）策略来把一个序列（list）分为两个子序列（sub-lists）。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;bu-zou-5\&quot;&gt;步骤&lt;&#x2F;h3&gt;\n&lt;ol&gt;\n&lt;li&gt;从数列中挑出一个元素，称为&amp;quot;基准&amp;quot;（pivot），&lt;&#x2F;li&gt;\n&lt;li&gt;重新排序数列，所有元素比基准值小的摆放在基准前面，所有元素比基准值大的摆在基准的后面（相同的数可以到任一边）。在这个分区结束之后，该基准就处于数列的中间位置。这个称为分区（partition）操作。&lt;&#x2F;li&gt;\n&lt;li&gt;递归地（recursive）把小于基准值元素的子数列和大于基准值元素的子数列排序。&lt;&#x2F;li&gt;\n&lt;&#x2F;ol&gt;\n&lt;h3 id=\&quot;dai-ma-5\&quot;&gt;代码&lt;&#x2F;h3&gt;\n&lt;p&gt;普通版&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;quick_sort&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    less &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[]\n&lt;&#x2F;span&gt;&lt;span&gt;    pivotList &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[]\n&lt;&#x2F;span&gt;&lt;span&gt;    more &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[]\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 递归出口\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;lt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 将第一个值做为基准\n&lt;&#x2F;span&gt;&lt;span&gt;        pivot &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;]\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 将比急转小的值放到less数列\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;lt; &lt;&#x2F;span&gt;&lt;span&gt;pivot:\n&lt;&#x2F;span&gt;&lt;span&gt;                less.append(i)\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 将比基准打的值放到more数列\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;elif &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span&gt;pivot:\n&lt;&#x2F;span&gt;&lt;span&gt;                more.append(i)\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 将和基准相同的值保存在基准数列\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;                pivotList.append(i)\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 对less数列和more数列继续进行排序\n&lt;&#x2F;span&gt;&lt;span&gt;        less &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;quick_sort(less)\n&lt;&#x2F;span&gt;&lt;span&gt;        more &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;quick_sort(more)\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;less &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;pivotList &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;more\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;p&gt;咳咳，下面这段代码出自《Python cookbook 第二版》传说中的三行实现python快速排序。&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;qsort&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;arr&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(arr) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;lt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;arr\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;        pivot &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;arr[&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;]\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;qsort([x &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;x &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;arr[&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;:] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;x &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;lt; &lt;&#x2F;span&gt;&lt;span&gt;pivot]) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;\\\n&lt;&#x2F;span&gt;&lt;span&gt;               [pivot] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;\\\n&lt;&#x2F;span&gt;&lt;span&gt;               qsort([x &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;x &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;arr[&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;:] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;x &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;gt;= &lt;&#x2F;span&gt;&lt;span&gt;pivot])\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;p&gt;当然还有一行语法糖版本:&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span&gt;qs &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;lambda &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;xs &lt;&#x2F;span&gt;&lt;span&gt;: ( (&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(xs) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;lt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1 &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;and &lt;&#x2F;span&gt;&lt;span&gt;[xs]) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;or &lt;&#x2F;span&gt;&lt;span&gt;[ qs( [x &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;x &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;xs[&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;:] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;x &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;lt; &lt;&#x2F;span&gt;&lt;span&gt;xs[&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;]] ) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;[xs[&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;]] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;qs( [x &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;x &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;xs[&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;:] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;x &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;gt;= &lt;&#x2F;span&gt;&lt;span&gt;xs[&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;]] ) ] )[&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;]\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;p&gt;是不是感受到了Python的魅力？&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;dui-pai-xu\&quot;&gt;堆排序&lt;&#x2F;h2&gt;\n&lt;h3 id=\&quot;yuan-li-6\&quot;&gt;原理&lt;&#x2F;h3&gt;\n&lt;p&gt;堆排序（Heapsort）是指利用堆这种数据结构所设计的一种排序算法。堆积是一个近似完全二叉树的结构，并同时满足堆积的性质：即子结点的键值或索引总是小于（或者大于）它的父节点。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;bu-zou-6\&quot;&gt;步骤&lt;&#x2F;h3&gt;\n&lt;ol&gt;\n&lt;li&gt;创建最大堆:将堆所有数据重新排序，使其成为最大堆&lt;&#x2F;li&gt;\n&lt;li&gt;最大堆调整:作用是保持最大堆的性质，是创建最大堆的核心子程序&lt;&#x2F;li&gt;\n&lt;li&gt;堆排序:移除位在第一个数据的根节点，并做最大堆调整的递归运算&lt;&#x2F;li&gt;\n&lt;&#x2F;ol&gt;\n&lt;h3 id=\&quot;dai-ma-6\&quot;&gt;代码&lt;&#x2F;h3&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;heap_sort&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 创建最大堆\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;start &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;((&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&#x2F;&#x2F; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;        sift_down(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;, start, &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 堆排序\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;end &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;], &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[end] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[end], &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;]\n&lt;&#x2F;span&gt;&lt;span&gt;        sift_down(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;, end &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 最大堆调整\n&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;sift_down&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;lst&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;start&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;end&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    root &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;start\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;while &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;True&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;        child &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;2 &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;* &lt;&#x2F;span&gt;&lt;span&gt;root &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;child &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span&gt;end:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;break\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;child &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1 &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;lt;= &lt;&#x2F;span&gt;&lt;span&gt;end &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;and &lt;&#x2F;span&gt;&lt;span&gt;lst[child] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;lt; &lt;&#x2F;span&gt;&lt;span&gt;lst[child &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;]:\n&lt;&#x2F;span&gt;&lt;span&gt;            child &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;lst[root] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;lt; &lt;&#x2F;span&gt;&lt;span&gt;lst[child]:\n&lt;&#x2F;span&gt;&lt;span&gt;            lst[root], lst[child] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;lst[child], lst[root]\n&lt;&#x2F;span&gt;&lt;span&gt;            root &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;child\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;break\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h2 id=\&quot;ji-shu-pai-xu\&quot;&gt;计数排序&lt;&#x2F;h2&gt;\n&lt;h3 id=\&quot;yuan-li-7\&quot;&gt;原理&lt;&#x2F;h3&gt;\n&lt;p&gt;当输入的元素是n个0到k之间的整数时，它的运行时间是Θ(n + k)。计数排序不是比较排序，排序的速度快于任何比较排序算法。&lt;&#x2F;p&gt;\n&lt;p&gt;由于用来计数的数组C的长度取决于待排序数组中数据的范围（等于待排序数组的最大值与最小值的差加上1），这使得计数排序对于数据范围很大的数组，需要大量时间和内存。例如：计数排序是用来排序0到100之间的数字的最好的算法，但是它不适合按字母顺序排序人名。但是，计数排序可以用在基数排序算法中，能够更有效的排序数据范围很大的数组。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;bu-zou-7\&quot;&gt;步骤&lt;&#x2F;h3&gt;\n&lt;ol&gt;\n&lt;li&gt;找出待排序的数组中最大和最小的元素&lt;&#x2F;li&gt;\n&lt;li&gt;统计数组中每个值为i的元素出现的次数，存入数组 C 的第 i 项&lt;&#x2F;li&gt;\n&lt;li&gt;对所有的计数累加（从C中的第一个元素开始，每一项和前一项相加）&lt;&#x2F;li&gt;\n&lt;li&gt;反向填充目标数组：将每个元素i放在新数组的第C(i)项，每放一个元素就将C(i)减去1&lt;&#x2F;li&gt;\n&lt;&#x2F;ol&gt;\n&lt;h3 id=\&quot;dai-ma-7\&quot;&gt;代码&lt;&#x2F;h3&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;count_sort&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;min &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;2147483647\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;max &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 取得最大值和最小值\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;x &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;x &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;lt; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;min&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;min &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;x\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;x &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;max&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;max &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;x\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 创建数组C\n&lt;&#x2F;span&gt;&lt;span&gt;    count &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;* &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;max &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;min &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;index &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;        count[index &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;min&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1\n&lt;&#x2F;span&gt;&lt;span&gt;    index &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 填值\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;a &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;max &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;min&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;c &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(count[a]):\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[index] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;a &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;min\n&lt;&#x2F;span&gt;&lt;span&gt;            index &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h2 id=\&quot;di-jiu-chong-pai-xu\&quot;&gt;第九种排序&lt;&#x2F;h2&gt;\n&lt;p&gt;None？\n当然不会\n自然就是系统自带的&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;.sort()\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;p&gt;以上所有源代码均在&lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;github.com&#x2F;EINDEX&#x2F;Python-algorithm\&quot;&gt;Github共享&lt;&#x2F;a&gt;希望与大家共同进步!&lt;&#x2F;p&gt;\n&lt;hr &#x2F;&gt;\n&lt;h2 id=\&quot;can-kao-zi-liao\&quot;&gt;参考资料&lt;&#x2F;h2&gt;\n&lt;ul&gt;\n&lt;li&gt;维基百科: &lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;zh.wikipedia.org&#x2F;wiki&#x2F;%E5%86%92%E6%B3%A1%E6%8E%92%E5%BA%8F\&quot;&gt;冒泡排序&lt;&#x2F;a&gt;、&lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;zh.wikipedia.org&#x2F;wiki&#x2F;%E9%80%89%E6%8B%A9%E6%8E%92%E5%BA%8F\&quot;&gt;选择排序&lt;&#x2F;a&gt;、&lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;zh.wikipedia.org&#x2F;wiki&#x2F;%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F\&quot;&gt;插入排序&lt;&#x2F;a&gt;、&lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;zh.wikipedia.org&#x2F;wiki&#x2F;%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F\&quot;&gt;希尔排序&lt;&#x2F;a&gt;、&lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;zh.wikipedia.org&#x2F;wiki&#x2F;%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F\&quot;&gt;归并排序&lt;&#x2F;a&gt;、&lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;zh.wikipedia.org&#x2F;wiki&#x2F;%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F#.E5.8E.9F.E5.9C.B0.EF.BC.88in-place.EF.BC.89.E5.88.86.E5.89.B2.E7.9A.84.E7.89.88.E6.9C.AC\&quot;&gt;快速排序&lt;&#x2F;a&gt;、&lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;zh.wikipedia.org&#x2F;wiki&#x2F;%E5%A0%86%E6%8E%92%E5%BA%8F\&quot;&gt;堆排序&lt;&#x2F;a&gt;、&lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;zh.wikipedia.org&#x2F;wiki&#x2F;%E8%AE%A1%E6%95%B0%E6%8E%92%E5%BA%8F\&quot;&gt;计数排序&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;\n&lt;li&gt;&lt;a rel=\&quot;nofollow\&quot; href=\&quot;http:&#x2F;&#x2F;python3-cookbook.readthedocs.io&#x2F;zh_CN&#x2F;latest&#x2F;\&quot;&gt;Python Cookbook&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;\n&lt;&#x2F;ul&gt;\n&lt;h2 id=\&quot;gan-xie\&quot;&gt;感谢&lt;&#x2F;h2&gt;\n&lt;p&gt;知乎用户:&lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;ding-yi-xing\&quot;&gt;dhx1793516813&lt;&#x2F;a&gt;、&lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;cai-hao-lun-58\&quot;&gt;左鸢&lt;&#x2F;a&gt;、&lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;ling-jian-94\&quot;&gt;灵剑&lt;&#x2F;a&gt;\n为本文缺漏之处提出建议&lt;&#x2F;p&gt;\n&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;&quot;,&quot;slug&quot;:&quot;sort-in-python&quot;,&quot;ancestors&quot;:[&quot;_index.cn.md&quot;,&quot;posts&#x2F;_index.cn.md&quot;],&quot;title&quot;:&quot;基本排序算法的Python实现&quot;,&quot;description&quot;:null,&quot;updated&quot;:null,&quot;date&quot;:&quot;2017-10-05T14:34:54+08:00&quot;,&quot;year&quot;:2017,&quot;month&quot;:10,&quot;day&quot;:5,&quot;taxonomies&quot;:{&quot;tags&quot;:[&quot;Python&quot;,&quot;Sort&quot;]},&quot;extra&quot;:{},&quot;path&quot;:&quot;&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;&quot;,&quot;components&quot;:[&quot;cn&quot;,&quot;posts&quot;,&quot;sort-in-python&quot;],&quot;summary&quot;:&quot;&lt;p&gt;本篇主要实现九(八）大排序算法，分别是冒泡排序，插入排序，选择排序，希尔排序，归并排序，快速排序，堆排序,计数排序。希望大家回顾知识的时候也能从我的这篇文章得到帮助。&lt;&#x2F;p&gt;\n&quot;,&quot;toc&quot;:[{&quot;level&quot;:2,&quot;id&quot;:&quot;mou-pao-pai-xu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#mou-pao-pai-xu&quot;,&quot;title&quot;:&quot;冒泡排序&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;yuan-li&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#yuan-li&quot;,&quot;title&quot;:&quot;原理&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;bu-zou&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#bu-zou&quot;,&quot;title&quot;:&quot;步骤&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;dai-ma&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#dai-ma&quot;,&quot;title&quot;:&quot;代码&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;xuan-ze-pai-xu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#xuan-ze-pai-xu&quot;,&quot;title&quot;:&quot;选择排序&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;yuan-li-1&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#yuan-li-1&quot;,&quot;title&quot;:&quot;原理&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;bu-zou-1&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#bu-zou-1&quot;,&quot;title&quot;:&quot;步骤&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;dai-ma-1&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#dai-ma-1&quot;,&quot;title&quot;:&quot;代码&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;cha-ru-pai-xu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#cha-ru-pai-xu&quot;,&quot;title&quot;:&quot;插入排序&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;yuan-li-2&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#yuan-li-2&quot;,&quot;title&quot;:&quot;原理&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;bu-zou-2&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#bu-zou-2&quot;,&quot;title&quot;:&quot;步骤&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;dai-ma-2&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#dai-ma-2&quot;,&quot;title&quot;:&quot;代码&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;xi-er-pai-xu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#xi-er-pai-xu&quot;,&quot;title&quot;:&quot;希尔排序&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;yuan-li-3&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#yuan-li-3&quot;,&quot;title&quot;:&quot;原理&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;bu-zou-3&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#bu-zou-3&quot;,&quot;title&quot;:&quot;步骤&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;dai-ma-3&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#dai-ma-3&quot;,&quot;title&quot;:&quot;代码&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;gui-bing-pai-xu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#gui-bing-pai-xu&quot;,&quot;title&quot;:&quot;归并排序&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;yuan-li-4&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#yuan-li-4&quot;,&quot;title&quot;:&quot;原理&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;bu-zou-4&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#bu-zou-4&quot;,&quot;title&quot;:&quot;步骤&quot;,&quot;children&quot;:[{&quot;level&quot;:4,&quot;id&quot;:&quot;die-dai-fa&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#die-dai-fa&quot;,&quot;title&quot;:&quot;迭代法&quot;,&quot;children&quot;:[]},{&quot;level&quot;:4,&quot;id&quot;:&quot;di-gui-fa&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#di-gui-fa&quot;,&quot;title&quot;:&quot;递归法&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:3,&quot;id&quot;:&quot;dai-ma-4&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#dai-ma-4&quot;,&quot;title&quot;:&quot;代码&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;kuai-su-pai-xu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#kuai-su-pai-xu&quot;,&quot;title&quot;:&quot;快速排序&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;yuan-li-5&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#yuan-li-5&quot;,&quot;title&quot;:&quot;原理&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;bu-zou-5&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#bu-zou-5&quot;,&quot;title&quot;:&quot;步骤&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;dai-ma-5&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#dai-ma-5&quot;,&quot;title&quot;:&quot;代码&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;dui-pai-xu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#dui-pai-xu&quot;,&quot;title&quot;:&quot;堆排序&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;yuan-li-6&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#yuan-li-6&quot;,&quot;title&quot;:&quot;原理&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;bu-zou-6&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#bu-zou-6&quot;,&quot;title&quot;:&quot;步骤&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;dai-ma-6&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#dai-ma-6&quot;,&quot;title&quot;:&quot;代码&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;ji-shu-pai-xu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#ji-shu-pai-xu&quot;,&quot;title&quot;:&quot;计数排序&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;yuan-li-7&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#yuan-li-7&quot;,&quot;title&quot;:&quot;原理&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;bu-zou-7&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#bu-zou-7&quot;,&quot;title&quot;:&quot;步骤&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;dai-ma-7&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#dai-ma-7&quot;,&quot;title&quot;:&quot;代码&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;di-jiu-chong-pai-xu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#di-jiu-chong-pai-xu&quot;,&quot;title&quot;:&quot;第九种排序&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;can-kao-zi-liao&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#can-kao-zi-liao&quot;,&quot;title&quot;:&quot;参考资料&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;gan-xie&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#gan-xie&quot;,&quot;title&quot;:&quot;感谢&quot;,&quot;children&quot;:[]}],&quot;word_count&quot;:3119,&quot;reading_time&quot;:16,&quot;assets&quot;:[],&quot;draft&quot;:false,&quot;lang&quot;:&quot;cn&quot;,&quot;lower&quot;:{&quot;relative_path&quot;:&quot;posts&#x2F;tree-in-python.cn.md&quot;,&quot;content&quot;:&quot;&lt;p&gt;树是计算机科学中常用的数据结构之一,常见的地方有，Java 的继承树等。\n还有一些基于树的特殊数据结构，比如二叉树，B 树，等等。&lt;&#x2F;p&gt;\n&lt;p&gt;本篇会讲述一些关于简单关于树的操作。&lt;&#x2F;p&gt;\n&lt;span id=\&quot;continue-reading\&quot;&gt;&lt;&#x2F;span&gt;&lt;h2 id=\&quot;shu-de-ding-yi\&quot;&gt;树的定义&lt;&#x2F;h2&gt;\n&lt;blockquote&gt;\n&lt;p&gt;树（英语：tree）是一种抽象数据类型（ADT）或是实作这种抽象数据类型的数据结构，用来模拟具有树状结构性质的数据集合。它是由n（n&amp;gt;0）个有限节点组成一个具有层次关系的集合。把它叫做“树”是因为它看起来像一棵倒挂的树，也就是说它是根朝上，而叶朝下的。它具有以下的特点：&lt;&#x2F;p&gt;\n&lt;&#x2F;blockquote&gt;\n&lt;blockquote&gt;\n&lt;ul&gt;\n&lt;li&gt;每个节点有零个或多个子节点&lt;&#x2F;li&gt;\n&lt;li&gt;没有父节点的节点称为根节点&lt;&#x2F;li&gt;\n&lt;li&gt;每一个非根节点有且只有一个父节点&lt;&#x2F;li&gt;\n&lt;li&gt;除了根节点外，每个子节点可以分为多个不相交的子树&lt;&#x2F;li&gt;\n&lt;&#x2F;ul&gt;\n&lt;&#x2F;blockquote&gt;\n&lt;p&gt;节选自 &lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;zh.wikipedia.org&#x2F;wiki&#x2F;%E6%A0%91_(%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84)\&quot;&gt;树(数据结构)&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;ding-yi-shu-ju-jie-gou\&quot;&gt;定义数据结构&lt;&#x2F;h2&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=\&quot;text-decoration:underline;color:#a6e22e;\&quot;&gt;TreeNode&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;text-decoration:underline;font-style:italic;color:#a6e22e;\&quot;&gt;object&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;&amp;quot;&amp;quot;&amp;quot;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;    一个树节点\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;    &amp;quot;&amp;quot;&amp;quot;\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;__init__&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;value&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;children&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;&amp;quot;&amp;quot;&amp;quot;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        :param value: 节点的值\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        :param children: 节点的子节点，一个 TreeNode 的列表\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        &amp;quot;&amp;quot;&amp;quot;\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        self.value &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;value\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if not &lt;&#x2F;span&gt;&lt;span&gt;children:\n&lt;&#x2F;span&gt;&lt;span&gt;            self.children &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[]\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;elif not &lt;&#x2F;span&gt;&lt;span&gt;self.value:\n&lt;&#x2F;span&gt;&lt;span&gt;            self.children &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[]\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            self.children &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;children\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=\&quot;text-decoration:underline;color:#a6e22e;\&quot;&gt;Tree&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;text-decoration:underline;font-style:italic;color:#a6e22e;\&quot;&gt;object&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;&amp;quot;&amp;quot;&amp;quot;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;    树：基本树的数据结构\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;    &amp;quot;&amp;quot;&amp;quot;\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;__init__&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;root&lt;&#x2F;span&gt;&lt;span&gt;: TreeNode &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;or &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;&amp;quot;&amp;quot;&amp;quot;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        传入根节点\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        :param root: 如果为 TreeNode 为根节点， 如果为 None 为空书\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        &amp;quot;&amp;quot;&amp;quot;\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if not &lt;&#x2F;span&gt;&lt;span&gt;(root &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;is &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;or &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;isinstance&lt;&#x2F;span&gt;&lt;span&gt;(root, TreeNode)):\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;raise &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;AttributeError&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;illegal root&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;        self.root &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;root\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h2 id=\&quot;qian-xu-bian-li\&quot;&gt;前序遍历&lt;&#x2F;h2&gt;\n&lt;p&gt;先遍历根节点。在遍历孩子节点。\n&lt;img src=\&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;media&#x2F;15231560956719&#x2F;%E5%89%8D%E5%BA%8F%E9%81%8D%E5%8E%86.jpg\&quot; alt=\&quot;前序遍历\&quot; &#x2F;&gt;&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;xun-huan-ban\&quot;&gt;循环版&lt;&#x2F;h3&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;preorder_traversal_while&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;&amp;quot;&amp;quot;&amp;quot;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        树的前序遍历\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        :return: list of tree node value\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        &amp;quot;&amp;quot;&amp;quot;\n&lt;&#x2F;span&gt;&lt;span&gt;        res &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[]\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if not &lt;&#x2F;span&gt;&lt;span&gt;self.root:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;res\n&lt;&#x2F;span&gt;&lt;span&gt;        stack &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[self.root]\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;while &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(stack):\n&lt;&#x2F;span&gt;&lt;span&gt;            node &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;stack.pop()\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if not &lt;&#x2F;span&gt;&lt;span&gt;node.value:\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;continue\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;sub_node &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;node.children[::&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;]:\n&lt;&#x2F;span&gt;&lt;span&gt;                stack.append(sub_node)\n&lt;&#x2F;span&gt;&lt;span&gt;            res.append(node.value)\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;res\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h3 id=\&quot;di-gui-ban\&quot;&gt;递归版&lt;&#x2F;h3&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;preorder_traversal_recursion&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;&amp;quot;&amp;quot;&amp;quot;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        树的前序遍历\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        :return: list of tree node value\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        &amp;quot;&amp;quot;&amp;quot;\n&lt;&#x2F;span&gt;&lt;span&gt;        res &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[]\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if not &lt;&#x2F;span&gt;&lt;span&gt;self.root:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;res\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;_inner&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;root&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;            inner_res &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[]\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;root.value:\n&lt;&#x2F;span&gt;&lt;span&gt;                inner_res.append(root.value)\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;sub_node &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;root.children:\n&lt;&#x2F;span&gt;&lt;span&gt;                    inner_res &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+= &lt;&#x2F;span&gt;&lt;span&gt;_inner(sub_node)\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;inner_res\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;_inner(self.root)\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h2 id=\&quot;hou-xu-bian-li\&quot;&gt;后序遍历&lt;&#x2F;h2&gt;\n&lt;p&gt;先遍历孩子节点，最后遍历根节点。&lt;&#x2F;p&gt;\n&lt;p&gt;&lt;img src=\&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;media&#x2F;15231560956719&#x2F;%E5%90%8E%E5%BA%8F%E9%81%8D%E5%8E%86.jpg\&quot; alt=\&quot;后序遍历\&quot; &#x2F;&gt;&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;xun-huan-ban-1\&quot;&gt;循环版&lt;&#x2F;h3&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;postorder_traversal_while&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;&amp;quot;&amp;quot;&amp;quot;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        树的后序遍历\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        :return: list of tree node value\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        &amp;quot;&amp;quot;&amp;quot;\n&lt;&#x2F;span&gt;&lt;span&gt;        res &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[]\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if not &lt;&#x2F;span&gt;&lt;span&gt;self.root:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;res\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        stack &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[self.root]\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;while &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(stack):\n&lt;&#x2F;span&gt;&lt;span&gt;            node &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;stack.pop()\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if not &lt;&#x2F;span&gt;&lt;span&gt;node.value:\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;continue\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;sub_node &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;node.children:\n&lt;&#x2F;span&gt;&lt;span&gt;                stack.append(sub_node)\n&lt;&#x2F;span&gt;&lt;span&gt;            res.append(node.value)\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;res[::&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;]\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h3 id=\&quot;di-gui-ban-1\&quot;&gt;递归版&lt;&#x2F;h3&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span&gt;   &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;postorder_traversal_recursion&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;&amp;quot;&amp;quot;&amp;quot;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        树的后序遍历\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        :return: list of tree node value\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        &amp;quot;&amp;quot;&amp;quot;\n&lt;&#x2F;span&gt;&lt;span&gt;        res &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[]\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if not &lt;&#x2F;span&gt;&lt;span&gt;self.root:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;res\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;_inner&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;root&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;            inner_res &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[]\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;root.value:\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;sub_node &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;root.children:\n&lt;&#x2F;span&gt;&lt;span&gt;                    inner_res &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+= &lt;&#x2F;span&gt;&lt;span&gt;_inner(sub_node)\n&lt;&#x2F;span&gt;&lt;span&gt;                inner_res.append(root.value)\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;inner_res\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;_inner(self.root)\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h2 id=\&quot;ceng-ci-bian-li\&quot;&gt;层次遍历&lt;&#x2F;h2&gt;\n&lt;p&gt;按层遍历节点。\n&lt;img src=\&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;media&#x2F;15231560956719&#x2F;%E5%B1%82%E5%BA%8F%E9%81%8D%E5%8E%86.jpg\&quot; alt=\&quot;层序遍历\&quot; &#x2F;&gt;&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;xun-huan-ban-2\&quot;&gt;循环版&lt;&#x2F;h3&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;layer_while&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;&amp;quot;&amp;quot;&amp;quot;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        树的层序遍历\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        :return: list of tree node value\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;        &amp;quot;&amp;quot;&amp;quot;\n&lt;&#x2F;span&gt;&lt;span&gt;        res &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[]\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if not &lt;&#x2F;span&gt;&lt;span&gt;self.root:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;res\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        queue &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;Queue()\n&lt;&#x2F;span&gt;&lt;span&gt;        queue.put(self.root)\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;while &lt;&#x2F;span&gt;&lt;span&gt;queue.qsize():\n&lt;&#x2F;span&gt;&lt;span&gt;            node &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;queue.get()\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if not &lt;&#x2F;span&gt;&lt;span&gt;node.value:\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;continue\n&lt;&#x2F;span&gt;&lt;span&gt;            res.append(node.value)\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;sub_node &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;node.children:\n&lt;&#x2F;span&gt;&lt;span&gt;                queue.put(sub_node)\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;res\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h2 id=\&quot;qiu-shu-de-shen-du\&quot;&gt;求树的深度&lt;&#x2F;h2&gt;\n&lt;p&gt;计算树的最大深度。&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span&gt; &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;depth_recursion&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;_inner&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;root&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;depth&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if not &lt;&#x2F;span&gt;&lt;span&gt;root.children:\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;depth\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;max&lt;&#x2F;span&gt;&lt;span&gt;([_inner(sub_node, depth&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;sub_node &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;root.children])\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;_inner(self.root)\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h2 id=\&quot;qiu-shu-de-jie-dian-shu\&quot;&gt;求树的结点数&lt;&#x2F;h2&gt;\n&lt;p&gt;计算树一共有多少节点。&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span&gt; &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;node_count&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;_inner&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;root&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if not &lt;&#x2F;span&gt;&lt;span&gt;root.children:\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1 &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;sum&lt;&#x2F;span&gt;&lt;span&gt;([_inner(sub_node) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;sub_node &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;root.children])\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;_inner(self.root)\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h2 id=\&quot;qiu-shu-de-xie-zi-shu\&quot;&gt;求树的叶子数&lt;&#x2F;h2&gt;\n&lt;p&gt;计算书中有多少没有孩子的节点。&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;leaf_count&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;_inner&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;root&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if not &lt;&#x2F;span&gt;&lt;span&gt;root.children:\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;sum&lt;&#x2F;span&gt;&lt;span&gt;([_inner(sub_node) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;sub_node &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;root.children])\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;_inner(self.root)\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h2 id=\&quot;qiu-liang-ge-jie-dian-de-zui-di-gong-gong-zu-xian-jie-dian\&quot;&gt;求两个结点的最低公共祖先结点&lt;&#x2F;h2&gt;\n&lt;p&gt;首先需要在树中找到两个结点。\n保存找到两个节点的链表。\n遍历两个链表的最长公共节点，就能找到最低的公共祖先节点。\n&lt;img src=\&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;media&#x2F;15231560956719&#x2F;%E6%9C%80%E4%BD%8E%E5%85%AC%E5%85%B1%E7%A5%96%E5%85%88%E8%8A%82%E7%82%B9.jpg\&quot; alt=\&quot;最低公共祖先节点\&quot; &#x2F;&gt;&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;lowest_ancestor_node&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;node1&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;node2&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;        stack &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[self.root]\n&lt;&#x2F;span&gt;&lt;span&gt;        stack1 &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None\n&lt;&#x2F;span&gt;&lt;span&gt;        stack2 &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;while &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(stack) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;and not &lt;&#x2F;span&gt;&lt;span&gt;(stack1 &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;and &lt;&#x2F;span&gt;&lt;span&gt;stack2):\n&lt;&#x2F;span&gt;&lt;span&gt;            node &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;stack.pop()\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;node &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;is &lt;&#x2F;span&gt;&lt;span&gt;node1:\n&lt;&#x2F;span&gt;&lt;span&gt;                stack1 &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;stack[:]\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;node &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;is &lt;&#x2F;span&gt;&lt;span&gt;node2:\n&lt;&#x2F;span&gt;&lt;span&gt;                stack2 &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;stack[:]\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if not &lt;&#x2F;span&gt;&lt;span&gt;node.value:\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;continue\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;sub_node &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;node.children:\n&lt;&#x2F;span&gt;&lt;span&gt;                stack.append(sub_node)\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        res &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;self.root\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(stack1)):\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;stack1[i] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;== &lt;&#x2F;span&gt;&lt;span&gt;stack2[i]:\n&lt;&#x2F;span&gt;&lt;span&gt;                res &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;stack1[i]\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;res.value\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;res.value\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h2 id=\&quot;qiu-ren-yi-liang-jie-dian-ju-chi\&quot;&gt;求任意两结点距离&lt;&#x2F;h2&gt;\n&lt;p&gt;首先需要在树中找到两个结点。\n保存找到两个节点的链表。\n在判断剩余的长度\n&lt;img src=\&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;media&#x2F;15231560956719&#x2F;%E4%BB%BB%E6%84%8F%E4%B8%A4%E8%8A%82%E7%82%B9%E8%B7%9D%E7%A6%BB.jpg\&quot; alt=\&quot;任意两节点距离\&quot; &#x2F;&gt;&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;two_node_distence&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;node1&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;node2&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;        stack &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[self.root]\n&lt;&#x2F;span&gt;&lt;span&gt;        stack1 &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None\n&lt;&#x2F;span&gt;&lt;span&gt;        stack2 &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;while &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(stack) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;and not &lt;&#x2F;span&gt;&lt;span&gt;(stack1 &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;and &lt;&#x2F;span&gt;&lt;span&gt;stack2):\n&lt;&#x2F;span&gt;&lt;span&gt;            node &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;stack.pop()\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;node &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;is &lt;&#x2F;span&gt;&lt;span&gt;node1:\n&lt;&#x2F;span&gt;&lt;span&gt;                stack1 &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;stack[:]\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;node &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;is &lt;&#x2F;span&gt;&lt;span&gt;node2:\n&lt;&#x2F;span&gt;&lt;span&gt;                stack2 &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;stack[:]\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if not &lt;&#x2F;span&gt;&lt;span&gt;node.value:\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;continue\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;sub_node &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;node.children:\n&lt;&#x2F;span&gt;&lt;span&gt;                stack.append(sub_node)\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        res &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;self.root\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(stack1)):\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;stack1[i] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;== &lt;&#x2F;span&gt;&lt;span&gt;stack2[i]:\n&lt;&#x2F;span&gt;&lt;span&gt;                res &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;stack1[i]\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(stack1) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(stack2) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;2&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;i\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(stack1) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(stack2) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;2&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;i\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h2 id=\&quot;zong-shu\&quot;&gt;综述&lt;&#x2F;h2&gt;\n&lt;p&gt;以上就是和树有关联的简单代码。\n以上代码也在 Github 上发布 &lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;github.com&#x2F;EINDEX&#x2F;Python-algorithm&#x2F;blob&#x2F;master&#x2F;data_structure&#x2F;tree&#x2F;tree.py\&quot;&gt;tree&lt;&#x2F;a&gt;， 如有差错，欢迎提交 Issue 或 PR。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;geng-xin\&quot;&gt;更新&lt;&#x2F;h2&gt;\n&lt;ul&gt;\n&lt;li&gt;修复图片的 Bug&lt;&#x2F;li&gt;\n&lt;&#x2F;ul&gt;\n&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;&quot;,&quot;slug&quot;:&quot;tree-in-python&quot;,&quot;ancestors&quot;:[&quot;_index.cn.md&quot;,&quot;posts&#x2F;_index.cn.md&quot;],&quot;title&quot;:&quot;Tree in Python&quot;,&quot;description&quot;:null,&quot;updated&quot;:null,&quot;date&quot;:&quot;2018-04-08T14:30:44+08:00&quot;,&quot;year&quot;:2018,&quot;month&quot;:4,&quot;day&quot;:8,&quot;taxonomies&quot;:{&quot;tags&quot;:[&quot;Python&quot;],&quot;series&quot;:[&quot;algorithm&quot;]},&quot;extra&quot;:{},&quot;path&quot;:&quot;&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;&quot;,&quot;components&quot;:[&quot;cn&quot;,&quot;posts&quot;,&quot;tree-in-python&quot;],&quot;summary&quot;:&quot;&lt;p&gt;树是计算机科学中常用的数据结构之一,常见的地方有，Java 的继承树等。\n还有一些基于树的特殊数据结构，比如二叉树，B 树，等等。&lt;&#x2F;p&gt;\n&lt;p&gt;本篇会讲述一些关于简单关于树的操作。&lt;&#x2F;p&gt;\n&quot;,&quot;toc&quot;:[{&quot;level&quot;:2,&quot;id&quot;:&quot;shu-de-ding-yi&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;#shu-de-ding-yi&quot;,&quot;title&quot;:&quot;树的定义&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;ding-yi-shu-ju-jie-gou&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;#ding-yi-shu-ju-jie-gou&quot;,&quot;title&quot;:&quot;定义数据结构&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;qian-xu-bian-li&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;#qian-xu-bian-li&quot;,&quot;title&quot;:&quot;前序遍历&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;xun-huan-ban&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;#xun-huan-ban&quot;,&quot;title&quot;:&quot;循环版&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;di-gui-ban&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;#di-gui-ban&quot;,&quot;title&quot;:&quot;递归版&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;hou-xu-bian-li&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;#hou-xu-bian-li&quot;,&quot;title&quot;:&quot;后序遍历&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;xun-huan-ban-1&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;#xun-huan-ban-1&quot;,&quot;title&quot;:&quot;循环版&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;di-gui-ban-1&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;#di-gui-ban-1&quot;,&quot;title&quot;:&quot;递归版&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;ceng-ci-bian-li&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;#ceng-ci-bian-li&quot;,&quot;title&quot;:&quot;层次遍历&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;xun-huan-ban-2&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;#xun-huan-ban-2&quot;,&quot;title&quot;:&quot;循环版&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;qiu-shu-de-shen-du&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;#qiu-shu-de-shen-du&quot;,&quot;title&quot;:&quot;求树的深度&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;qiu-shu-de-jie-dian-shu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;#qiu-shu-de-jie-dian-shu&quot;,&quot;title&quot;:&quot;求树的结点数&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;qiu-shu-de-xie-zi-shu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;#qiu-shu-de-xie-zi-shu&quot;,&quot;title&quot;:&quot;求树的叶子数&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;qiu-liang-ge-jie-dian-de-zui-di-gong-gong-zu-xian-jie-dian&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;#qiu-liang-ge-jie-dian-de-zui-di-gong-gong-zu-xian-jie-dian&quot;,&quot;title&quot;:&quot;求两个结点的最低公共祖先结点&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;qiu-ren-yi-liang-jie-dian-ju-chi&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;#qiu-ren-yi-liang-jie-dian-ju-chi&quot;,&quot;title&quot;:&quot;求任意两结点距离&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;zong-shu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;#zong-shu&quot;,&quot;title&quot;:&quot;综述&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;geng-xin&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;#geng-xin&quot;,&quot;title&quot;:&quot;更新&quot;,&quot;children&quot;:[]}],&quot;word_count&quot;:1210,&quot;reading_time&quot;:7,&quot;assets&quot;:[],&quot;draft&quot;:false,&quot;lang&quot;:&quot;cn&quot;,&quot;lower&quot;:null,&quot;higher&quot;:null,&quot;translations&quot;:[{&quot;lang&quot;:&quot;cn&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;&quot;,&quot;title&quot;:&quot;Tree in Python&quot;,&quot;path&quot;:&quot;&#x2F;home&#x2F;runner&#x2F;work&#x2F;blog&#x2F;blog&#x2F;content&#x2F;posts&#x2F;tree-in-python.cn.md&quot;}],&quot;backlinks&quot;:[]},&quot;higher&quot;:{&quot;relative_path&quot;:&quot;posts&#x2F;thoughtworks-one-month.cn.md&quot;,&quot;content&quot;:&quot;&lt;p&gt;距离加入 Thoughtworks 已有一个月。\n这家公司也并非互联网公司，没有高强度的工作节奏，没有996，有一些敏捷信仰。\n对于武汉来说，也算是一个优秀的公司。&lt;&#x2F;p&gt;\n&lt;p&gt;同时正如网上所言：该有的缺点也是有的。好奇的同学可以去看一下我的编程引路人（也是我司黑粉头子）耗子叔（陈皓）的文章。&lt;&#x2F;p&gt;\n&lt;span id=\&quot;continue-reading\&quot;&gt;&lt;&#x2F;span&gt;&lt;h2 id=\&quot;ji-zhu-bian-geng\&quot;&gt;技术变更&lt;&#x2F;h2&gt;\n&lt;p&gt;通过一个月的折磨，本人成为一名勉强能用的 Salesforce 开发者。\n现在的技术栈新增了：&lt;&#x2F;p&gt;\n&lt;ul&gt;\n&lt;li&gt;Apex&lt;&#x2F;li&gt;\n&lt;li&gt;SOQL&lt;&#x2F;li&gt;\n&lt;li&gt;Lighting Web Content&lt;&#x2F;li&gt;\n&lt;&#x2F;ul&gt;\n&lt;p&gt;使用的产品新增了：&lt;&#x2F;p&gt;\n&lt;ul&gt;\n&lt;li&gt;AWS lambda&lt;&#x2F;li&gt;\n&lt;li&gt;Salesforce&lt;&#x2F;li&gt;\n&lt;&#x2F;ul&gt;\n&lt;p&gt;但怎么说呢 Salesforce、Apex、SOQL 对开发者真的是非常不友善基本的功能都不完全。&lt;&#x2F;p&gt;\n&lt;p&gt;先来说说 SOQL：&lt;&#x2F;p&gt;\n&lt;ol&gt;\n&lt;li&gt;不支持 update delete insert&lt;&#x2F;li&gt;\n&lt;li&gt;不支持 join&lt;&#x2F;li&gt;\n&lt;li&gt;子查询只能写一层（本人也不推荐多层）&lt;&#x2F;li&gt;\n&lt;li&gt;select 结果不支持直接计算，需要在 object 上添加 field&lt;&#x2F;li&gt;\n&lt;li&gt;group by 支持不够灵活&lt;&#x2F;li&gt;\n&lt;li&gt;不支持 field = field 的查询方式&lt;&#x2F;li&gt;\n&lt;&#x2F;ol&gt;\n&lt;p&gt;在来吐槽一下 Apex：&lt;&#x2F;p&gt;\n&lt;ol&gt;\n&lt;li&gt;云开发，没有本地开发环境，别想在本地调试，调试需要上传代码，日志难以检索&lt;&#x2F;li&gt;\n&lt;li&gt;资源受限，除了 Batchable 之外每一种都会要较为严苛的资源使用量限制&lt;&#x2F;li&gt;\n&lt;li&gt;语法低级，感觉像是 Java6 时代&lt;&#x2F;li&gt;\n&lt;&#x2F;ol&gt;\n&lt;p&gt;最后吐槽 Salesforce：&lt;&#x2F;p&gt;\n&lt;ol&gt;\n&lt;li&gt;上面两个东西都是 Salesforce 系统自带的。&lt;&#x2F;li&gt;\n&lt;li&gt;网络延时长。&lt;&#x2F;li&gt;\n&lt;li&gt;测试运行效率低。&lt;&#x2F;li&gt;\n&lt;&#x2F;ol&gt;\n&lt;h2 id=\&quot;ye-wu-fa-zhan\&quot;&gt;业务发展&lt;&#x2F;h2&gt;\n&lt;p&gt;这是机密，我作为一头萌新，我只能说业务复杂度极高，技术复杂度倒是相对低很多，这么一比较，其实业务也没有多么复杂。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;dui-wei-lai-de-zhan-wang\&quot;&gt;对未来的展望&lt;&#x2F;h2&gt;\n&lt;p&gt;这 2019 年总是要完成我 2017 年定下的目标了嘛，在 965 的公司都不能完成的话。以后也是没有什么希望了嘛。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;end\&quot;&gt;End&lt;&#x2F;h2&gt;\n&lt;p&gt;Thoughtworks 在武汉还是一个非常值得加入的公司，有想要内推的小伙伴可以联系我。&lt;&#x2F;p&gt;\n&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;thoughtworks-one-month&#x2F;&quot;,&quot;slug&quot;:&quot;thoughtworks-one-month&quot;,&quot;ancestors&quot;:[&quot;_index.cn.md&quot;,&quot;posts&#x2F;_index.cn.md&quot;],&quot;title&quot;:&quot;Thoughtworks 一月&quot;,&quot;description&quot;:null,&quot;updated&quot;:null,&quot;date&quot;:&quot;2017-10-05T14:34:54+08:00&quot;,&quot;year&quot;:2017,&quot;month&quot;:10,&quot;day&quot;:5,&quot;taxonomies&quot;:{&quot;tags&quot;:[&quot;Thoughtworks&quot;]},&quot;extra&quot;:{},&quot;path&quot;:&quot;&#x2F;cn&#x2F;posts&#x2F;thoughtworks-one-month&#x2F;&quot;,&quot;components&quot;:[&quot;cn&quot;,&quot;posts&quot;,&quot;thoughtworks-one-month&quot;],&quot;summary&quot;:&quot;&lt;p&gt;距离加入 Thoughtworks 已有一个月。\n这家公司也并非互联网公司，没有高强度的工作节奏，没有996，有一些敏捷信仰。\n对于武汉来说，也算是一个优秀的公司。&lt;&#x2F;p&gt;\n&lt;p&gt;同时正如网上所言：该有的缺点也是有的。好奇的同学可以去看一下我的编程引路人（也是我司黑粉头子）耗子叔（陈皓）的文章。&lt;&#x2F;p&gt;\n&quot;,&quot;toc&quot;:[{&quot;level&quot;:2,&quot;id&quot;:&quot;ji-zhu-bian-geng&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;thoughtworks-one-month&#x2F;#ji-zhu-bian-geng&quot;,&quot;title&quot;:&quot;技术变更&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;ye-wu-fa-zhan&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;thoughtworks-one-month&#x2F;#ye-wu-fa-zhan&quot;,&quot;title&quot;:&quot;业务发展&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;dui-wei-lai-de-zhan-wang&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;thoughtworks-one-month&#x2F;#dui-wei-lai-de-zhan-wang&quot;,&quot;title&quot;:&quot;对未来的展望&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;end&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;thoughtworks-one-month&#x2F;#end&quot;,&quot;title&quot;:&quot;End&quot;,&quot;children&quot;:[]}],&quot;word_count&quot;:512,&quot;reading_time&quot;:3,&quot;assets&quot;:[],&quot;draft&quot;:false,&quot;lang&quot;:&quot;cn&quot;,&quot;lower&quot;:null,&quot;higher&quot;:null,&quot;translations&quot;:[{&quot;lang&quot;:&quot;cn&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;thoughtworks-one-month&#x2F;&quot;,&quot;title&quot;:&quot;Thoughtworks 一月&quot;,&quot;path&quot;:&quot;&#x2F;home&#x2F;runner&#x2F;work&#x2F;blog&#x2F;blog&#x2F;content&#x2F;posts&#x2F;thoughtworks-one-month.cn.md&quot;}],&quot;backlinks&quot;:[]},&quot;translations&quot;:[{&quot;lang&quot;:&quot;cn&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;&quot;,&quot;title&quot;:&quot;基本排序算法的Python实现&quot;,&quot;path&quot;:&quot;&#x2F;home&#x2F;runner&#x2F;work&#x2F;blog&#x2F;blog&#x2F;content&#x2F;posts&#x2F;sort-in-python.cn.md&quot;}],&quot;backlinks&quot;:[]},{&quot;relative_path&quot;:&quot;posts&#x2F;thoughtworks-one-month.cn.md&quot;,&quot;content&quot;:&quot;&lt;p&gt;距离加入 Thoughtworks 已有一个月。\n这家公司也并非互联网公司，没有高强度的工作节奏，没有996，有一些敏捷信仰。\n对于武汉来说，也算是一个优秀的公司。&lt;&#x2F;p&gt;\n&lt;p&gt;同时正如网上所言：该有的缺点也是有的。好奇的同学可以去看一下我的编程引路人（也是我司黑粉头子）耗子叔（陈皓）的文章。&lt;&#x2F;p&gt;\n&lt;span id=\&quot;continue-reading\&quot;&gt;&lt;&#x2F;span&gt;&lt;h2 id=\&quot;ji-zhu-bian-geng\&quot;&gt;技术变更&lt;&#x2F;h2&gt;\n&lt;p&gt;通过一个月的折磨，本人成为一名勉强能用的 Salesforce 开发者。\n现在的技术栈新增了：&lt;&#x2F;p&gt;\n&lt;ul&gt;\n&lt;li&gt;Apex&lt;&#x2F;li&gt;\n&lt;li&gt;SOQL&lt;&#x2F;li&gt;\n&lt;li&gt;Lighting Web Content&lt;&#x2F;li&gt;\n&lt;&#x2F;ul&gt;\n&lt;p&gt;使用的产品新增了：&lt;&#x2F;p&gt;\n&lt;ul&gt;\n&lt;li&gt;AWS lambda&lt;&#x2F;li&gt;\n&lt;li&gt;Salesforce&lt;&#x2F;li&gt;\n&lt;&#x2F;ul&gt;\n&lt;p&gt;但怎么说呢 Salesforce、Apex、SOQL 对开发者真的是非常不友善基本的功能都不完全。&lt;&#x2F;p&gt;\n&lt;p&gt;先来说说 SOQL：&lt;&#x2F;p&gt;\n&lt;ol&gt;\n&lt;li&gt;不支持 update delete insert&lt;&#x2F;li&gt;\n&lt;li&gt;不支持 join&lt;&#x2F;li&gt;\n&lt;li&gt;子查询只能写一层（本人也不推荐多层）&lt;&#x2F;li&gt;\n&lt;li&gt;select 结果不支持直接计算，需要在 object 上添加 field&lt;&#x2F;li&gt;\n&lt;li&gt;group by 支持不够灵活&lt;&#x2F;li&gt;\n&lt;li&gt;不支持 field = field 的查询方式&lt;&#x2F;li&gt;\n&lt;&#x2F;ol&gt;\n&lt;p&gt;在来吐槽一下 Apex：&lt;&#x2F;p&gt;\n&lt;ol&gt;\n&lt;li&gt;云开发，没有本地开发环境，别想在本地调试，调试需要上传代码，日志难以检索&lt;&#x2F;li&gt;\n&lt;li&gt;资源受限，除了 Batchable 之外每一种都会要较为严苛的资源使用量限制&lt;&#x2F;li&gt;\n&lt;li&gt;语法低级，感觉像是 Java6 时代&lt;&#x2F;li&gt;\n&lt;&#x2F;ol&gt;\n&lt;p&gt;最后吐槽 Salesforce：&lt;&#x2F;p&gt;\n&lt;ol&gt;\n&lt;li&gt;上面两个东西都是 Salesforce 系统自带的。&lt;&#x2F;li&gt;\n&lt;li&gt;网络延时长。&lt;&#x2F;li&gt;\n&lt;li&gt;测试运行效率低。&lt;&#x2F;li&gt;\n&lt;&#x2F;ol&gt;\n&lt;h2 id=\&quot;ye-wu-fa-zhan\&quot;&gt;业务发展&lt;&#x2F;h2&gt;\n&lt;p&gt;这是机密，我作为一头萌新，我只能说业务复杂度极高，技术复杂度倒是相对低很多，这么一比较，其实业务也没有多么复杂。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;dui-wei-lai-de-zhan-wang\&quot;&gt;对未来的展望&lt;&#x2F;h2&gt;\n&lt;p&gt;这 2019 年总是要完成我 2017 年定下的目标了嘛，在 965 的公司都不能完成的话。以后也是没有什么希望了嘛。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;end\&quot;&gt;End&lt;&#x2F;h2&gt;\n&lt;p&gt;Thoughtworks 在武汉还是一个非常值得加入的公司，有想要内推的小伙伴可以联系我。&lt;&#x2F;p&gt;\n&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;thoughtworks-one-month&#x2F;&quot;,&quot;slug&quot;:&quot;thoughtworks-one-month&quot;,&quot;ancestors&quot;:[&quot;_index.cn.md&quot;,&quot;posts&#x2F;_index.cn.md&quot;],&quot;title&quot;:&quot;Thoughtworks 一月&quot;,&quot;description&quot;:null,&quot;updated&quot;:null,&quot;date&quot;:&quot;2017-10-05T14:34:54+08:00&quot;,&quot;year&quot;:2017,&quot;month&quot;:10,&quot;day&quot;:5,&quot;taxonomies&quot;:{&quot;tags&quot;:[&quot;Thoughtworks&quot;]},&quot;extra&quot;:{},&quot;path&quot;:&quot;&#x2F;cn&#x2F;posts&#x2F;thoughtworks-one-month&#x2F;&quot;,&quot;components&quot;:[&quot;cn&quot;,&quot;posts&quot;,&quot;thoughtworks-one-month&quot;],&quot;summary&quot;:&quot;&lt;p&gt;距离加入 Thoughtworks 已有一个月。\n这家公司也并非互联网公司，没有高强度的工作节奏，没有996，有一些敏捷信仰。\n对于武汉来说，也算是一个优秀的公司。&lt;&#x2F;p&gt;\n&lt;p&gt;同时正如网上所言：该有的缺点也是有的。好奇的同学可以去看一下我的编程引路人（也是我司黑粉头子）耗子叔（陈皓）的文章。&lt;&#x2F;p&gt;\n&quot;,&quot;toc&quot;:[{&quot;level&quot;:2,&quot;id&quot;:&quot;ji-zhu-bian-geng&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;thoughtworks-one-month&#x2F;#ji-zhu-bian-geng&quot;,&quot;title&quot;:&quot;技术变更&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;ye-wu-fa-zhan&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;thoughtworks-one-month&#x2F;#ye-wu-fa-zhan&quot;,&quot;title&quot;:&quot;业务发展&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;dui-wei-lai-de-zhan-wang&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;thoughtworks-one-month&#x2F;#dui-wei-lai-de-zhan-wang&quot;,&quot;title&quot;:&quot;对未来的展望&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;end&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;thoughtworks-one-month&#x2F;#end&quot;,&quot;title&quot;:&quot;End&quot;,&quot;children&quot;:[]}],&quot;word_count&quot;:512,&quot;reading_time&quot;:3,&quot;assets&quot;:[],&quot;draft&quot;:false,&quot;lang&quot;:&quot;cn&quot;,&quot;lower&quot;:{&quot;relative_path&quot;:&quot;posts&#x2F;sort-in-python.cn.md&quot;,&quot;content&quot;:&quot;&lt;p&gt;本篇主要实现九(八）大排序算法，分别是冒泡排序，插入排序，选择排序，希尔排序，归并排序，快速排序，堆排序,计数排序。希望大家回顾知识的时候也能从我的这篇文章得到帮助。&lt;&#x2F;p&gt;\n&lt;span id=\&quot;continue-reading\&quot;&gt;&lt;&#x2F;span&gt;\n&lt;p&gt;&lt;strong&gt;为了防止误导读者，本文所有概念性内容均截取自对应Wiki&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;mou-pao-pai-xu\&quot;&gt;冒泡排序&lt;&#x2F;h2&gt;\n&lt;h3 id=\&quot;yuan-li\&quot;&gt;原理&lt;&#x2F;h3&gt;\n&lt;p&gt;冒泡排序(Bubble Sort)是一种简单的排序算法。它重复地走访过要排序的数列，一次比较两个元素，如果他们的顺序错误就把他们交换过来。走访数列的工作是重复地进行直到没有再需要交换，也就是说该数列已经排序完成。这个算法的名字由来是因为越小的元素会经由交换慢慢“浮”到数列的顶端。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;bu-zou\&quot;&gt;步骤&lt;&#x2F;h3&gt;\n&lt;p&gt;冒泡排序算法的运作如下：&lt;&#x2F;p&gt;\n&lt;ol&gt;\n&lt;li&gt;比较相邻的元素。如果第一个比第二个大，就交换他们两个。&lt;&#x2F;li&gt;\n&lt;li&gt;对每一对相邻元素作同样的工作，从开始第一对到结尾的最后一对。这步做完后，最后的元素会是最大的数。&lt;&#x2F;li&gt;\n&lt;li&gt;针对所有的元素重复以上的步骤，除了最后一个。&lt;&#x2F;li&gt;\n&lt;li&gt;持续每次对越来越少的元素重复上面的步骤，直到没有任何一对数字需要比较。&lt;&#x2F;li&gt;\n&lt;&#x2F;ol&gt;\n&lt;h3 id=\&quot;dai-ma\&quot;&gt;代码&lt;&#x2F;h3&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;bubble_sort&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    length &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 第一级遍历\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;index &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(length):\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 第二级遍历\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;j &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;, length &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;index):\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[j &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[j]:\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 交换两者数据，这里没用temp是因为python 特性元组。\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[j &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;], &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[j] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[j], &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[j &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;]\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;p&gt;这种排序其实还可以稍微优化一下，添加一个标记，在排序已完成时，停止排序。&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;bubble_sort_flag&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    length &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;index &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(length):\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 标志位\n&lt;&#x2F;span&gt;&lt;span&gt;        flag &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;True\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;j &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;, length &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;index):\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[j &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[j]:\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[j &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;], &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[j] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[j], &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[j &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;]\n&lt;&#x2F;span&gt;&lt;span&gt;                flag &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;False\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;flag:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 没有发生交换，直接返回list\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h2 id=\&quot;xuan-ze-pai-xu\&quot;&gt;选择排序&lt;&#x2F;h2&gt;\n&lt;h3 id=\&quot;yuan-li-1\&quot;&gt;原理&lt;&#x2F;h3&gt;\n&lt;p&gt;选择排序（Selection sort）是一种简单直观的排序算法。它的工作原理大致是将后面的元素最小元素一个个取出然后按顺序放置。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;bu-zou-1\&quot;&gt;步骤&lt;&#x2F;h3&gt;\n&lt;ol&gt;\n&lt;li&gt;在未排序序列中找到最小（大）元素，存放到排序序列的起始位置，&lt;&#x2F;li&gt;\n&lt;li&gt;再从剩余未排序元素中继续寻找最小（大）元素，然后放到已排序序列的末尾。&lt;&#x2F;li&gt;\n&lt;li&gt;重复第二步，直到所有元素均排序完毕。&lt;&#x2F;li&gt;\n&lt;&#x2F;ol&gt;\n&lt;h3 id=\&quot;dai-ma-1\&quot;&gt;代码&lt;&#x2F;h3&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;selection_sort&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;   &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;range &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;,n):\n&lt;&#x2F;span&gt;&lt;span&gt;       &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;min &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;i\n&lt;&#x2F;span&gt;&lt;span&gt;       &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;j &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(i&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;,n):\n&lt;&#x2F;span&gt;&lt;span&gt;           &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[j]&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;min&lt;&#x2F;span&gt;&lt;span&gt;]:\n&lt;&#x2F;span&gt;&lt;span&gt;               &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;min&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt;j\n&lt;&#x2F;span&gt;&lt;span&gt;               &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;min&lt;&#x2F;span&gt;&lt;span&gt;],&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[i]&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[i],&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;min&lt;&#x2F;span&gt;&lt;span&gt;]\n&lt;&#x2F;span&gt;&lt;span&gt;   &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h2 id=\&quot;cha-ru-pai-xu\&quot;&gt;插入排序&lt;&#x2F;h2&gt;\n&lt;h3 id=\&quot;yuan-li-2\&quot;&gt;原理&lt;&#x2F;h3&gt;\n&lt;p&gt;插入排序（Insertion Sort）是一种简单直观的排序算法。它的工作原理是通过构建有序序列，对于未排序数据，在已排序序列中从后向前扫描，找到相应位置并插入。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;bu-zou-2\&quot;&gt;步骤&lt;&#x2F;h3&gt;\n&lt;ol&gt;\n&lt;li&gt;从第一个元素开始，该元素可以认为已经被排序&lt;&#x2F;li&gt;\n&lt;li&gt;取出下一个元素，在已经排序的元素序列中从后向前扫描&lt;&#x2F;li&gt;\n&lt;li&gt;如果该元素（已排序）大于新元素，将该元素移到下一位置&lt;&#x2F;li&gt;\n&lt;li&gt;重复步骤3，直到找到已排序的元素小于或者等于新元素的位置&lt;&#x2F;li&gt;\n&lt;li&gt;将新元素插入到该位置后&lt;&#x2F;li&gt;\n&lt;li&gt;重复步骤2~5&lt;&#x2F;li&gt;\n&lt;&#x2F;ol&gt;\n&lt;h3 id=\&quot;dai-ma-2\&quot;&gt;代码&lt;&#x2F;h3&gt;\n&lt;pre data-lang=\&quot;Python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-Python \&quot;&gt;&lt;code class=\&quot;language-Python\&quot; data-lang=\&quot;Python\&quot;&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;insert_sort&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    n &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;, n):\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 后一个元素和前一个元素比较\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 如果比前一个小\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[i] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;lt; &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;]:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 将这个数取出\n&lt;&#x2F;span&gt;&lt;span&gt;            temp &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[i]\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 保存下标\n&lt;&#x2F;span&gt;&lt;span&gt;            index &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;i\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 从后往前依次比较每个元素\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;j &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 和比取出元素大的元素交换\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[j] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span&gt;temp:\n&lt;&#x2F;span&gt;&lt;span&gt;                    &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[j &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[j]\n&lt;&#x2F;span&gt;&lt;span&gt;                    index &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;j\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;                    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;break\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 插入元素\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[index] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;temp\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h2 id=\&quot;xi-er-pai-xu\&quot;&gt;希尔排序&lt;&#x2F;h2&gt;\n&lt;h3 id=\&quot;yuan-li-3\&quot;&gt;原理&lt;&#x2F;h3&gt;\n&lt;p&gt;希尔排序，也称递减增量排序算法，是插入排序的一种更高效的改进版本。希尔排序是非稳定排序算法。\n希尔排序是基于插入排序的以下两点性质而提出改进方法的：\n插入排序在对几乎已经排好序的数据操作时，效率高，即可以达到线性排序的效率\n但插入排序一般来说是低效的，因为插入排序每次只能将数据移动一位。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;bu-zou-3\&quot;&gt;步骤&lt;&#x2F;h3&gt;\n&lt;p&gt;每次以一定步长(就是跳过等距的数)进行排序，直至步长为1.&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;dai-ma-3\&quot;&gt;代码&lt;&#x2F;h3&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;shell_sort&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    n &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 初始步长\n&lt;&#x2F;span&gt;&lt;span&gt;    gap &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;round&lt;&#x2F;span&gt;&lt;span&gt;(n &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&#x2F; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;while &lt;&#x2F;span&gt;&lt;span&gt;gap &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(gap, n):\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 每个步长进行插入排序\n&lt;&#x2F;span&gt;&lt;span&gt;            temp &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[i]\n&lt;&#x2F;span&gt;&lt;span&gt;            j &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;i\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 插入排序\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;while &lt;&#x2F;span&gt;&lt;span&gt;j &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;gt;= &lt;&#x2F;span&gt;&lt;span&gt;gap &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;and &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[j &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;gap] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span&gt;temp:\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[j] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[j &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;gap]\n&lt;&#x2F;span&gt;&lt;span&gt;                j &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;-= &lt;&#x2F;span&gt;&lt;span&gt;gap\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[j] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;temp\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 得到新的步长\n&lt;&#x2F;span&gt;&lt;span&gt;        gap &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;round&lt;&#x2F;span&gt;&lt;span&gt;(gap &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&#x2F; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;blockquote&gt;\n&lt;p&gt;步长使用的是Donald Shell的建议，另外步长还可以使用Sedgewick提出的(1, 5, 19, 41, 109,...)，该序列的项来自 {\\displaystyle 9\\times 4^{i}-9\\times 2^{i}+1} 9\\times 4^{i}-9\\times 2^{i}+1和 {\\displaystyle 2^{i+2}\\times (2^{i+2}-3)+1} 2^{{i+2}}\\times (2^{{i+2}}-3)+1这两个算式。\n也可以使用&lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;zh.wikipedia.org&#x2F;wiki&#x2F;%E6%96%90%E6%B3%A2%E9%82%A3%E5%A5%91%E6%95%B0%E5%88%97\&quot;&gt;斐波那契数列&lt;&#x2F;a&gt;除去0和1将剩余的数以黄金分区比的两倍的幂进行运算得到的数列。&lt;&#x2F;p&gt;\n&lt;&#x2F;blockquote&gt;\n&lt;h2 id=\&quot;gui-bing-pai-xu\&quot;&gt;归并排序&lt;&#x2F;h2&gt;\n&lt;h3 id=\&quot;yuan-li-4\&quot;&gt;原理&lt;&#x2F;h3&gt;\n&lt;p&gt;归并操作(归并算法)，指的是将两个已经排序的序列合并成一个序列的操作。归并排序算法依赖归并操作。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;bu-zou-4\&quot;&gt;步骤&lt;&#x2F;h3&gt;\n&lt;h4 id=\&quot;die-dai-fa\&quot;&gt;迭代法&lt;&#x2F;h4&gt;\n&lt;ol&gt;\n&lt;li&gt;申请空间，使其大小为两个已经排序序列之和，该空间用来存放合并后的序列&lt;&#x2F;li&gt;\n&lt;li&gt;设定两个指针，最初位置分别为两个已经排序序列的起始位置&lt;&#x2F;li&gt;\n&lt;li&gt;比较两个指针所指向的元素，选择相对小的元素放入到合并空间，并移动指针到下一位置&lt;&#x2F;li&gt;\n&lt;li&gt;重复步骤3直到某一指针到达序列尾&lt;&#x2F;li&gt;\n&lt;li&gt;将另一序列剩下的所有元素直接复制到合并序列尾&lt;&#x2F;li&gt;\n&lt;&#x2F;ol&gt;\n&lt;h4 id=\&quot;di-gui-fa\&quot;&gt;递归法&lt;&#x2F;h4&gt;\n&lt;p&gt;假设序列共有n个元素：&lt;&#x2F;p&gt;\n&lt;ol&gt;\n&lt;li&gt;将序列每相邻两个数字进行归并操作，形成 {\\displaystyle floor(n&#x2F;2)} floor(n&#x2F;2)个序列，排序后每个序列包含两个元素&lt;&#x2F;li&gt;\n&lt;li&gt;将上述序列再次归并，形成 {\\displaystyle floor(n&#x2F;4)} floor(n&#x2F;4)个序列，每个序列包含四个元素&lt;&#x2F;li&gt;\n&lt;li&gt;重复步骤2，直到所有元素排序完毕&lt;&#x2F;li&gt;\n&lt;&#x2F;ol&gt;\n&lt;h3 id=\&quot;dai-ma-4\&quot;&gt;代码&lt;&#x2F;h3&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 递归法\n&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;merge_sort&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 认为长度不大于1的数列是有序的\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;lt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 二分列表\n&lt;&#x2F;span&gt;&lt;span&gt;    middle &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&#x2F;&#x2F; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;2\n&lt;&#x2F;span&gt;&lt;span&gt;    left &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;merge_sort(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[:middle])\n&lt;&#x2F;span&gt;&lt;span&gt;    right &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;merge_sort(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[middle:])\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 最后一次合并\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;merge(left, right)\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 合并\n&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;merge&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;left&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;right&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    l,r&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0\n&lt;&#x2F;span&gt;&lt;span&gt;    result&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt;[]\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;while &lt;&#x2F;span&gt;&lt;span&gt;l&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(left) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;and &lt;&#x2F;span&gt;&lt;span&gt;r&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(right):\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;left[l] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span&gt;right[r]:\n&lt;&#x2F;span&gt;&lt;span&gt;            result.append(left[l])\n&lt;&#x2F;span&gt;&lt;span&gt;            l&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+=&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            result.append(right[r])\n&lt;&#x2F;span&gt;&lt;span&gt;            r &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+=&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1\n&lt;&#x2F;span&gt;&lt;span&gt;        reslut &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+=&lt;&#x2F;span&gt;&lt;span&gt;left[l:]\n&lt;&#x2F;span&gt;&lt;span&gt;        result&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+=&lt;&#x2F;span&gt;&lt;span&gt;right[r:]                \n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;result\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;p&gt;鄙人不才，不知归并排序的迭代法如何用Python实现，望指教。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;kuai-su-pai-xu\&quot;&gt;快速排序&lt;&#x2F;h2&gt;\n&lt;h3 id=\&quot;yuan-li-5\&quot;&gt;原理&lt;&#x2F;h3&gt;\n&lt;p&gt;快速排序使用分治法（Divide and conquer）策略来把一个序列（list）分为两个子序列（sub-lists）。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;bu-zou-5\&quot;&gt;步骤&lt;&#x2F;h3&gt;\n&lt;ol&gt;\n&lt;li&gt;从数列中挑出一个元素，称为&amp;quot;基准&amp;quot;（pivot），&lt;&#x2F;li&gt;\n&lt;li&gt;重新排序数列，所有元素比基准值小的摆放在基准前面，所有元素比基准值大的摆在基准的后面（相同的数可以到任一边）。在这个分区结束之后，该基准就处于数列的中间位置。这个称为分区（partition）操作。&lt;&#x2F;li&gt;\n&lt;li&gt;递归地（recursive）把小于基准值元素的子数列和大于基准值元素的子数列排序。&lt;&#x2F;li&gt;\n&lt;&#x2F;ol&gt;\n&lt;h3 id=\&quot;dai-ma-5\&quot;&gt;代码&lt;&#x2F;h3&gt;\n&lt;p&gt;普通版&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;quick_sort&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    less &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[]\n&lt;&#x2F;span&gt;&lt;span&gt;    pivotList &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[]\n&lt;&#x2F;span&gt;&lt;span&gt;    more &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[]\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 递归出口\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;lt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 将第一个值做为基准\n&lt;&#x2F;span&gt;&lt;span&gt;        pivot &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;]\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 将比急转小的值放到less数列\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;lt; &lt;&#x2F;span&gt;&lt;span&gt;pivot:\n&lt;&#x2F;span&gt;&lt;span&gt;                less.append(i)\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 将比基准打的值放到more数列\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;elif &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span&gt;pivot:\n&lt;&#x2F;span&gt;&lt;span&gt;                more.append(i)\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 将和基准相同的值保存在基准数列\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;                pivotList.append(i)\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 对less数列和more数列继续进行排序\n&lt;&#x2F;span&gt;&lt;span&gt;        less &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;quick_sort(less)\n&lt;&#x2F;span&gt;&lt;span&gt;        more &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;quick_sort(more)\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;less &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;pivotList &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;more\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;p&gt;咳咳，下面这段代码出自《Python cookbook 第二版》传说中的三行实现python快速排序。&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;qsort&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;arr&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(arr) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;lt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;arr\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;        pivot &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;arr[&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;]\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;qsort([x &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;x &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;arr[&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;:] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;x &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;lt; &lt;&#x2F;span&gt;&lt;span&gt;pivot]) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;\\\n&lt;&#x2F;span&gt;&lt;span&gt;               [pivot] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;\\\n&lt;&#x2F;span&gt;&lt;span&gt;               qsort([x &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;x &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;arr[&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;:] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;x &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;gt;= &lt;&#x2F;span&gt;&lt;span&gt;pivot])\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;p&gt;当然还有一行语法糖版本:&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span&gt;qs &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;lambda &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;xs &lt;&#x2F;span&gt;&lt;span&gt;: ( (&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(xs) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;lt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1 &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;and &lt;&#x2F;span&gt;&lt;span&gt;[xs]) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;or &lt;&#x2F;span&gt;&lt;span&gt;[ qs( [x &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;x &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;xs[&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;:] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;x &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;lt; &lt;&#x2F;span&gt;&lt;span&gt;xs[&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;]] ) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;[xs[&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;]] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;qs( [x &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;x &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;xs[&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;:] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;x &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;gt;= &lt;&#x2F;span&gt;&lt;span&gt;xs[&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;]] ) ] )[&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;]\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;p&gt;是不是感受到了Python的魅力？&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;dui-pai-xu\&quot;&gt;堆排序&lt;&#x2F;h2&gt;\n&lt;h3 id=\&quot;yuan-li-6\&quot;&gt;原理&lt;&#x2F;h3&gt;\n&lt;p&gt;堆排序（Heapsort）是指利用堆这种数据结构所设计的一种排序算法。堆积是一个近似完全二叉树的结构，并同时满足堆积的性质：即子结点的键值或索引总是小于（或者大于）它的父节点。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;bu-zou-6\&quot;&gt;步骤&lt;&#x2F;h3&gt;\n&lt;ol&gt;\n&lt;li&gt;创建最大堆:将堆所有数据重新排序，使其成为最大堆&lt;&#x2F;li&gt;\n&lt;li&gt;最大堆调整:作用是保持最大堆的性质，是创建最大堆的核心子程序&lt;&#x2F;li&gt;\n&lt;li&gt;堆排序:移除位在第一个数据的根节点，并做最大堆调整的递归运算&lt;&#x2F;li&gt;\n&lt;&#x2F;ol&gt;\n&lt;h3 id=\&quot;dai-ma-6\&quot;&gt;代码&lt;&#x2F;h3&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;heap_sort&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 创建最大堆\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;start &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;((&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&#x2F;&#x2F; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;        sift_down(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;, start, &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 堆排序\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;end &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;], &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[end] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[end], &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;]\n&lt;&#x2F;span&gt;&lt;span&gt;        sift_down(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;, end &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 最大堆调整\n&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;sift_down&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;lst&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;start&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;end&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    root &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;start\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;while &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;True&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;        child &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;2 &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;* &lt;&#x2F;span&gt;&lt;span&gt;root &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;child &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span&gt;end:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;break\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;child &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1 &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;lt;= &lt;&#x2F;span&gt;&lt;span&gt;end &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;and &lt;&#x2F;span&gt;&lt;span&gt;lst[child] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;lt; &lt;&#x2F;span&gt;&lt;span&gt;lst[child &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;]:\n&lt;&#x2F;span&gt;&lt;span&gt;            child &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;lst[root] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;lt; &lt;&#x2F;span&gt;&lt;span&gt;lst[child]:\n&lt;&#x2F;span&gt;&lt;span&gt;            lst[root], lst[child] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;lst[child], lst[root]\n&lt;&#x2F;span&gt;&lt;span&gt;            root &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;child\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;break\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h2 id=\&quot;ji-shu-pai-xu\&quot;&gt;计数排序&lt;&#x2F;h2&gt;\n&lt;h3 id=\&quot;yuan-li-7\&quot;&gt;原理&lt;&#x2F;h3&gt;\n&lt;p&gt;当输入的元素是n个0到k之间的整数时，它的运行时间是Θ(n + k)。计数排序不是比较排序，排序的速度快于任何比较排序算法。&lt;&#x2F;p&gt;\n&lt;p&gt;由于用来计数的数组C的长度取决于待排序数组中数据的范围（等于待排序数组的最大值与最小值的差加上1），这使得计数排序对于数据范围很大的数组，需要大量时间和内存。例如：计数排序是用来排序0到100之间的数字的最好的算法，但是它不适合按字母顺序排序人名。但是，计数排序可以用在基数排序算法中，能够更有效的排序数据范围很大的数组。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;bu-zou-7\&quot;&gt;步骤&lt;&#x2F;h3&gt;\n&lt;ol&gt;\n&lt;li&gt;找出待排序的数组中最大和最小的元素&lt;&#x2F;li&gt;\n&lt;li&gt;统计数组中每个值为i的元素出现的次数，存入数组 C 的第 i 项&lt;&#x2F;li&gt;\n&lt;li&gt;对所有的计数累加（从C中的第一个元素开始，每一项和前一项相加）&lt;&#x2F;li&gt;\n&lt;li&gt;反向填充目标数组：将每个元素i放在新数组的第C(i)项，每放一个元素就将C(i)减去1&lt;&#x2F;li&gt;\n&lt;&#x2F;ol&gt;\n&lt;h3 id=\&quot;dai-ma-7\&quot;&gt;代码&lt;&#x2F;h3&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;count_sort&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;min &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;2147483647\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;max &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 取得最大值和最小值\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;x &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;x &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;lt; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;min&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;min &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;x\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;x &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;max&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;max &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;x\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 创建数组C\n&lt;&#x2F;span&gt;&lt;span&gt;    count &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;* &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;max &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;min &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;index &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;        count[index &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;min&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1\n&lt;&#x2F;span&gt;&lt;span&gt;    index &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 填值\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;a &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;max &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;- &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;min&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;c &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(count[a]):\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[index] &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;a &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;min\n&lt;&#x2F;span&gt;&lt;span&gt;            index &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h2 id=\&quot;di-jiu-chong-pai-xu\&quot;&gt;第九种排序&lt;&#x2F;h2&gt;\n&lt;p&gt;None？\n当然不会\n自然就是系统自带的&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;.sort()\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;p&gt;以上所有源代码均在&lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;github.com&#x2F;EINDEX&#x2F;Python-algorithm\&quot;&gt;Github共享&lt;&#x2F;a&gt;希望与大家共同进步!&lt;&#x2F;p&gt;\n&lt;hr &#x2F;&gt;\n&lt;h2 id=\&quot;can-kao-zi-liao\&quot;&gt;参考资料&lt;&#x2F;h2&gt;\n&lt;ul&gt;\n&lt;li&gt;维基百科: &lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;zh.wikipedia.org&#x2F;wiki&#x2F;%E5%86%92%E6%B3%A1%E6%8E%92%E5%BA%8F\&quot;&gt;冒泡排序&lt;&#x2F;a&gt;、&lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;zh.wikipedia.org&#x2F;wiki&#x2F;%E9%80%89%E6%8B%A9%E6%8E%92%E5%BA%8F\&quot;&gt;选择排序&lt;&#x2F;a&gt;、&lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;zh.wikipedia.org&#x2F;wiki&#x2F;%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F\&quot;&gt;插入排序&lt;&#x2F;a&gt;、&lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;zh.wikipedia.org&#x2F;wiki&#x2F;%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F\&quot;&gt;希尔排序&lt;&#x2F;a&gt;、&lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;zh.wikipedia.org&#x2F;wiki&#x2F;%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F\&quot;&gt;归并排序&lt;&#x2F;a&gt;、&lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;zh.wikipedia.org&#x2F;wiki&#x2F;%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F#.E5.8E.9F.E5.9C.B0.EF.BC.88in-place.EF.BC.89.E5.88.86.E5.89.B2.E7.9A.84.E7.89.88.E6.9C.AC\&quot;&gt;快速排序&lt;&#x2F;a&gt;、&lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;zh.wikipedia.org&#x2F;wiki&#x2F;%E5%A0%86%E6%8E%92%E5%BA%8F\&quot;&gt;堆排序&lt;&#x2F;a&gt;、&lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;zh.wikipedia.org&#x2F;wiki&#x2F;%E8%AE%A1%E6%95%B0%E6%8E%92%E5%BA%8F\&quot;&gt;计数排序&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;\n&lt;li&gt;&lt;a rel=\&quot;nofollow\&quot; href=\&quot;http:&#x2F;&#x2F;python3-cookbook.readthedocs.io&#x2F;zh_CN&#x2F;latest&#x2F;\&quot;&gt;Python Cookbook&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;\n&lt;&#x2F;ul&gt;\n&lt;h2 id=\&quot;gan-xie\&quot;&gt;感谢&lt;&#x2F;h2&gt;\n&lt;p&gt;知乎用户:&lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;ding-yi-xing\&quot;&gt;dhx1793516813&lt;&#x2F;a&gt;、&lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;cai-hao-lun-58\&quot;&gt;左鸢&lt;&#x2F;a&gt;、&lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;ling-jian-94\&quot;&gt;灵剑&lt;&#x2F;a&gt;\n为本文缺漏之处提出建议&lt;&#x2F;p&gt;\n&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;&quot;,&quot;slug&quot;:&quot;sort-in-python&quot;,&quot;ancestors&quot;:[&quot;_index.cn.md&quot;,&quot;posts&#x2F;_index.cn.md&quot;],&quot;title&quot;:&quot;基本排序算法的Python实现&quot;,&quot;description&quot;:null,&quot;updated&quot;:null,&quot;date&quot;:&quot;2017-10-05T14:34:54+08:00&quot;,&quot;year&quot;:2017,&quot;month&quot;:10,&quot;day&quot;:5,&quot;taxonomies&quot;:{&quot;tags&quot;:[&quot;Python&quot;,&quot;Sort&quot;]},&quot;extra&quot;:{},&quot;path&quot;:&quot;&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;&quot;,&quot;components&quot;:[&quot;cn&quot;,&quot;posts&quot;,&quot;sort-in-python&quot;],&quot;summary&quot;:&quot;&lt;p&gt;本篇主要实现九(八）大排序算法，分别是冒泡排序，插入排序，选择排序，希尔排序，归并排序，快速排序，堆排序,计数排序。希望大家回顾知识的时候也能从我的这篇文章得到帮助。&lt;&#x2F;p&gt;\n&quot;,&quot;toc&quot;:[{&quot;level&quot;:2,&quot;id&quot;:&quot;mou-pao-pai-xu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#mou-pao-pai-xu&quot;,&quot;title&quot;:&quot;冒泡排序&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;yuan-li&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#yuan-li&quot;,&quot;title&quot;:&quot;原理&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;bu-zou&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#bu-zou&quot;,&quot;title&quot;:&quot;步骤&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;dai-ma&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#dai-ma&quot;,&quot;title&quot;:&quot;代码&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;xuan-ze-pai-xu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#xuan-ze-pai-xu&quot;,&quot;title&quot;:&quot;选择排序&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;yuan-li-1&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#yuan-li-1&quot;,&quot;title&quot;:&quot;原理&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;bu-zou-1&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#bu-zou-1&quot;,&quot;title&quot;:&quot;步骤&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;dai-ma-1&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#dai-ma-1&quot;,&quot;title&quot;:&quot;代码&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;cha-ru-pai-xu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#cha-ru-pai-xu&quot;,&quot;title&quot;:&quot;插入排序&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;yuan-li-2&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#yuan-li-2&quot;,&quot;title&quot;:&quot;原理&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;bu-zou-2&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#bu-zou-2&quot;,&quot;title&quot;:&quot;步骤&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;dai-ma-2&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#dai-ma-2&quot;,&quot;title&quot;:&quot;代码&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;xi-er-pai-xu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#xi-er-pai-xu&quot;,&quot;title&quot;:&quot;希尔排序&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;yuan-li-3&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#yuan-li-3&quot;,&quot;title&quot;:&quot;原理&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;bu-zou-3&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#bu-zou-3&quot;,&quot;title&quot;:&quot;步骤&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;dai-ma-3&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#dai-ma-3&quot;,&quot;title&quot;:&quot;代码&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;gui-bing-pai-xu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#gui-bing-pai-xu&quot;,&quot;title&quot;:&quot;归并排序&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;yuan-li-4&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#yuan-li-4&quot;,&quot;title&quot;:&quot;原理&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;bu-zou-4&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#bu-zou-4&quot;,&quot;title&quot;:&quot;步骤&quot;,&quot;children&quot;:[{&quot;level&quot;:4,&quot;id&quot;:&quot;die-dai-fa&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#die-dai-fa&quot;,&quot;title&quot;:&quot;迭代法&quot;,&quot;children&quot;:[]},{&quot;level&quot;:4,&quot;id&quot;:&quot;di-gui-fa&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#di-gui-fa&quot;,&quot;title&quot;:&quot;递归法&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:3,&quot;id&quot;:&quot;dai-ma-4&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#dai-ma-4&quot;,&quot;title&quot;:&quot;代码&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;kuai-su-pai-xu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#kuai-su-pai-xu&quot;,&quot;title&quot;:&quot;快速排序&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;yuan-li-5&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#yuan-li-5&quot;,&quot;title&quot;:&quot;原理&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;bu-zou-5&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#bu-zou-5&quot;,&quot;title&quot;:&quot;步骤&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;dai-ma-5&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#dai-ma-5&quot;,&quot;title&quot;:&quot;代码&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;dui-pai-xu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#dui-pai-xu&quot;,&quot;title&quot;:&quot;堆排序&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;yuan-li-6&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#yuan-li-6&quot;,&quot;title&quot;:&quot;原理&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;bu-zou-6&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#bu-zou-6&quot;,&quot;title&quot;:&quot;步骤&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;dai-ma-6&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#dai-ma-6&quot;,&quot;title&quot;:&quot;代码&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;ji-shu-pai-xu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#ji-shu-pai-xu&quot;,&quot;title&quot;:&quot;计数排序&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;yuan-li-7&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#yuan-li-7&quot;,&quot;title&quot;:&quot;原理&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;bu-zou-7&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#bu-zou-7&quot;,&quot;title&quot;:&quot;步骤&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;dai-ma-7&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#dai-ma-7&quot;,&quot;title&quot;:&quot;代码&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;di-jiu-chong-pai-xu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#di-jiu-chong-pai-xu&quot;,&quot;title&quot;:&quot;第九种排序&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;can-kao-zi-liao&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#can-kao-zi-liao&quot;,&quot;title&quot;:&quot;参考资料&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;gan-xie&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#gan-xie&quot;,&quot;title&quot;:&quot;感谢&quot;,&quot;children&quot;:[]}],&quot;word_count&quot;:3119,&quot;reading_time&quot;:16,&quot;assets&quot;:[],&quot;draft&quot;:false,&quot;lang&quot;:&quot;cn&quot;,&quot;lower&quot;:null,&quot;higher&quot;:null,&quot;translations&quot;:[{&quot;lang&quot;:&quot;cn&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;&quot;,&quot;title&quot;:&quot;基本排序算法的Python实现&quot;,&quot;path&quot;:&quot;&#x2F;home&#x2F;runner&#x2F;work&#x2F;blog&#x2F;blog&#x2F;content&#x2F;posts&#x2F;sort-in-python.cn.md&quot;}],&quot;backlinks&quot;:[]},&quot;higher&quot;:{&quot;relative_path&quot;:&quot;posts&#x2F;liner-in-python.cn.md&quot;,&quot;content&quot;:&quot;&lt;p&gt;本篇主要实现四种数据结构，分别是数组、堆栈、队列、链表。我不知道我为什么要用Python来干C干的事情，总之Python就是可以干。&lt;&#x2F;p&gt;\n&lt;span id=\&quot;continue-reading\&quot;&gt;&lt;&#x2F;span&gt;\n&lt;p&gt;&lt;strong&gt;所有概念性内容可以在参考资料中找到出处&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;shu-zu\&quot;&gt;数组&lt;&#x2F;h2&gt;\n&lt;h3 id=\&quot;shu-zu-de-she-ji\&quot;&gt;数组的设计&lt;&#x2F;h3&gt;\n&lt;p&gt;数组设计之初是在形式上依赖内存分配而成的，所以必须在使用前预先请求空间。这使得数组有以下特性：&lt;&#x2F;p&gt;\n&lt;ol&gt;\n&lt;li&gt;请求空间以后大小固定，不能再改变（数据溢出问题）；&lt;&#x2F;li&gt;\n&lt;li&gt;在内存中有空间连续性的表现，中间不会存在其他程序需要调用的数据，为此数组的专用内存空间；&lt;&#x2F;li&gt;\n&lt;li&gt;在旧式编程语言中（如有中阶语言之称的C），程序不会对数组的操作做下界判断，也就有潜在的越界操作的风险（比如会把数据写在运行中程序需要调用的核心部分的内存上）。&lt;&#x2F;li&gt;\n&lt;&#x2F;ol&gt;\n&lt;p&gt;因为简单数组强烈倚赖电脑硬件之内存，所以不适用于现代的程序设计。欲使用可变大小、硬件无关性的数据类型，Java等程序设计语言均提供了更高级的数据结构：ArrayList、Vector等动态数组。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;pythonde-shu-zu\&quot;&gt;Python的数组&lt;&#x2F;h3&gt;\n&lt;p&gt;从严格意义上来说:Python里没有严格意义上的数组。\n&lt;code&gt;List&lt;&#x2F;code&gt;可以说是Python里的数组，下面这段代码是CPython的实现&lt;code&gt;List&lt;&#x2F;code&gt;的结构体:&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;c\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-c \&quot;&gt;&lt;code class=\&quot;language-c\&quot; data-lang=\&quot;c\&quot;&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;typedef struct &lt;&#x2F;span&gt;&lt;span&gt;{\n&lt;&#x2F;span&gt;&lt;span&gt;    PyObject_VAR_HEAD\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;&#x2F;* Vector of pointers to list elements.  list[0] is ob_item[0], etc. *&#x2F;\n&lt;&#x2F;span&gt;&lt;span&gt;    PyObject &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;**&lt;&#x2F;span&gt;&lt;span&gt;ob_item;\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;&#x2F;* ob_item contains space for &amp;#39;allocated&amp;#39; elements.  The number\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;     * currently in use is ob_size.\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;     * Invariants:\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;     *     0 &amp;lt;= ob_size &amp;lt;= allocated\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;     *     len(list) == ob_size\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;     *     ob_item == NULL implies ob_size == allocated == 0\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;     * list.sort() temporarily sets allocated to -1 to detect mutations.\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;     *\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;     * Items must normally not be NULL, except during construction when\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;     * the list is not yet visible outside the function that builds it.\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;     *&#x2F;\n&lt;&#x2F;span&gt;&lt;span&gt;    Py_ssize_t allocated;\n&lt;&#x2F;span&gt;&lt;span&gt;} PyListObject;\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;p&gt;取自&lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;github.com&#x2F;python&#x2F;cpython&#x2F;blob&#x2F;f24143b25e4f83368ff6182bebe14f885073015c&#x2F;Include&#x2F;listobject.h\&quot;&gt;CPython-Github&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;\n&lt;p&gt;还有一篇文章讲&lt;a rel=\&quot;nofollow\&quot; href=\&quot;http:&#x2F;&#x2F;www.laurentluce.com&#x2F;posts&#x2F;python-list-implementation&#x2F;\&quot;&gt;&lt;code&gt;List&lt;&#x2F;code&gt;实现&lt;&#x2F;a&gt;,感兴趣的朋友可以去看看。&lt;a rel=\&quot;nofollow\&quot; href=\&quot;http:&#x2F;&#x2F;python.jobbole.com&#x2F;82549&#x2F;\&quot;&gt;中文版&lt;&#x2F;a&gt;。&lt;&#x2F;p&gt;\n&lt;p&gt;当然，在Python里它就是数组。\n后面的一些结构也将用&lt;code&gt;List&lt;&#x2F;code&gt;来实现。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;dui-zhan\&quot;&gt;堆栈&lt;&#x2F;h2&gt;\n&lt;h3 id=\&quot;shi-yao-shi-dui-zhan\&quot;&gt;什么是堆栈&lt;&#x2F;h3&gt;\n&lt;p&gt;堆栈（英语：stack），也可直接称栈，在计算机科学中，是一种特殊的串列形式的数据结构，它的特殊之处在于只能允许在链接串列或阵列的一端（称为堆叠顶端指标，英语：top）进行加入资料（英语：push）和输出资料（英语：pop）的运算。另外堆叠也可以用一维阵列或连结串列的形式来完成。堆叠的另外一个相对的操作方式称为伫列。&lt;&#x2F;p&gt;\n&lt;p&gt;由于堆叠数据结构只允许在一端进行操作，因而按照后进先出（LIFO, Last In First Out）的原理运作。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;te-dian\&quot;&gt;特点&lt;&#x2F;h3&gt;\n&lt;ul&gt;\n&lt;li&gt;先入后出，后入先出。&lt;&#x2F;li&gt;\n&lt;li&gt;除头尾节点之外，每个元素有一个前驱，一个后继。&lt;&#x2F;li&gt;\n&lt;&#x2F;ul&gt;\n&lt;h3 id=\&quot;cao-zuo\&quot;&gt;操作&lt;&#x2F;h3&gt;\n&lt;p&gt;从原理可知，对堆栈(栈)可以进行的操作有:&lt;&#x2F;p&gt;\n&lt;ul&gt;\n&lt;li&gt;top():获取堆栈顶端对象&lt;&#x2F;li&gt;\n&lt;li&gt;push():向栈里添加一个对象&lt;&#x2F;li&gt;\n&lt;li&gt;pop():从栈里推出一个对象&lt;&#x2F;li&gt;\n&lt;&#x2F;ul&gt;\n&lt;h3 id=\&quot;shi-xian\&quot;&gt;实现&lt;&#x2F;h3&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=\&quot;text-decoration:underline;color:#a6e22e;\&quot;&gt;my_stack&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;text-decoration:underline;font-style:italic;color:#a6e22e;\&quot;&gt;object&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;__init__&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;value&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;        self.value &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;value\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 前驱\n&lt;&#x2F;span&gt;&lt;span&gt;        self.before &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 后继\n&lt;&#x2F;span&gt;&lt;span&gt;        self.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;__str__&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;str&lt;&#x2F;span&gt;&lt;span&gt;(self.value)\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;top&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;stack&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;isinstance&lt;&#x2F;span&gt;&lt;span&gt;(stack, my_stack):\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;stack.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;is not &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;top(stack.behind)\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;stack\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;push&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;stack&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;ele&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    push_ele &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;my_stack(ele)\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;isinstance&lt;&#x2F;span&gt;&lt;span&gt;(stack, my_stack):\n&lt;&#x2F;span&gt;&lt;span&gt;      stack_top &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;top(stack)\n&lt;&#x2F;span&gt;&lt;span&gt;      push_ele.before &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;stack_top\n&lt;&#x2F;span&gt;&lt;span&gt;      push_ele.before.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;push_ele\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;      &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;raise &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;Exception&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;不要乱扔东西进来好么&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;pop&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;stack&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;isinstance&lt;&#x2F;span&gt;&lt;span&gt;(stack, my_stack):\n&lt;&#x2F;span&gt;&lt;span&gt;        stack_top &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;top(stack)\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;stack_top.before &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;is not &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            stack_top.before.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None\n&lt;&#x2F;span&gt;&lt;span&gt;            stack_top.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;stack_top\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;已经是栈顶了&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h2 id=\&quot;dui-lie\&quot;&gt;队列&lt;&#x2F;h2&gt;\n&lt;h3 id=\&quot;shi-yao-shi-dui-lie\&quot;&gt;什么是队列&lt;&#x2F;h3&gt;\n&lt;p&gt;和堆栈类似，唯一的区别是队列只能在队头进行出队操作，所以队列是是先进先出（FIFO, First-In-First-Out）的线性表&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;te-dian-1\&quot;&gt;特点&lt;&#x2F;h3&gt;\n&lt;ul&gt;\n&lt;li&gt;先入先出,后入后出&lt;&#x2F;li&gt;\n&lt;li&gt;除尾节点外,每个节点有一个后继&lt;&#x2F;li&gt;\n&lt;li&gt;（可选）除头节点外,每个节点有一个前驱&lt;&#x2F;li&gt;\n&lt;&#x2F;ul&gt;\n&lt;h3 id=\&quot;cao-zuo-1\&quot;&gt;操作&lt;&#x2F;h3&gt;\n&lt;ul&gt;\n&lt;li&gt;push（）:入队&lt;&#x2F;li&gt;\n&lt;li&gt;pop（）：出队&lt;&#x2F;li&gt;\n&lt;&#x2F;ul&gt;\n&lt;h3 id=\&quot;shi-xian-1\&quot;&gt;实现&lt;&#x2F;h3&gt;\n&lt;h4 id=\&quot;pu-tong-dui-lie\&quot;&gt;普通队列&lt;&#x2F;h4&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=\&quot;text-decoration:underline;color:#a6e22e;\&quot;&gt;MyQueue&lt;&#x2F;span&gt;&lt;span&gt;():\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;__init__&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;value&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;        self.value &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;value\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 前驱\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# self.before = None\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 后继\n&lt;&#x2F;span&gt;&lt;span&gt;        self.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;__str__&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;self.value &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;is not &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;str&lt;&#x2F;span&gt;&lt;span&gt;(self.value)\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;None&amp;#39;\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;create_queue&lt;&#x2F;span&gt;&lt;span&gt;():\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;&amp;quot;&amp;quot;&amp;quot;仅有队头&amp;quot;&amp;quot;&amp;quot;\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;MyQueue()\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;last&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;queue&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;isinstance&lt;&#x2F;span&gt;&lt;span&gt;(queue, MyQueue):\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;queue.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;is not &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;last(queue.behind)\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;queue\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;push&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;queue&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;ele&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;isinstance&lt;&#x2F;span&gt;&lt;span&gt;(queue, MyQueue):\n&lt;&#x2F;span&gt;&lt;span&gt;        last_queue &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;last(queue)\n&lt;&#x2F;span&gt;&lt;span&gt;        new_queue &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;MyQueue(ele)\n&lt;&#x2F;span&gt;&lt;span&gt;        last_queue.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;new_queue\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;pop&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;queue&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;queue.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;is not &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;        get_queue &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;queue.behind\n&lt;&#x2F;span&gt;&lt;span&gt;        queue.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;queue.behind.behind\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;get_queue\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;队列里已经没有元素了&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;print_queue&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;queue&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(queue)\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;queue.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;is not &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;        print_queue(queue.behind)\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h2 id=\&quot;lian-biao\&quot;&gt;链表&lt;&#x2F;h2&gt;\n&lt;h3 id=\&quot;shi-yao-shi-lian-biao\&quot;&gt;什么是链表&lt;&#x2F;h3&gt;\n&lt;p&gt;链表（Linked list）是一种常见的基础数据结构，是一种线性表，但是并不会按线性的顺序存储数据，而是在每一个节点里存到下一个节点的指针(Pointer)。由于不必须按顺序存储，链表在插入的时候可以达到O(1)的复杂度，比另一种线性表顺序表快得多，但是查找一个节点或者访问特定编号的节点则需要O(n)的时间，而顺序表相应的时间复杂度分别是O(logn)和O(1)。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;te-dian-2\&quot;&gt;特点&lt;&#x2F;h3&gt;\n&lt;p&gt;使用链表结构可以克服数组链表需要预先知道数据大小的缺点，链表结构可以充分利用计算机内存空间，实现灵活的内存动态管理。但是链表失去了数组随机读取的优点，同时链表由于增加了结点的指针域，空间开销比较大。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;cao-zuo-2\&quot;&gt;操作&lt;&#x2F;h3&gt;\n&lt;ul&gt;\n&lt;li&gt;init():初始化&lt;&#x2F;li&gt;\n&lt;li&gt;insert(): 插入&lt;&#x2F;li&gt;\n&lt;li&gt;trave(): 遍历&lt;&#x2F;li&gt;\n&lt;li&gt;delete(): 删除&lt;&#x2F;li&gt;\n&lt;li&gt;find(): 查找&lt;&#x2F;li&gt;\n&lt;&#x2F;ul&gt;\n&lt;h3 id=\&quot;shi-xian-2\&quot;&gt;实现&lt;&#x2F;h3&gt;\n&lt;p&gt;此处仅实现双向列表&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=\&quot;text-decoration:underline;color:#a6e22e;\&quot;&gt;LinkedList&lt;&#x2F;span&gt;&lt;span&gt;():\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;__init__&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;value&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;        self.value &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;value\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 前驱\n&lt;&#x2F;span&gt;&lt;span&gt;        self.before &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 后继\n&lt;&#x2F;span&gt;&lt;span&gt;        self.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;__str__&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;self.value &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;is not &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;str&lt;&#x2F;span&gt;&lt;span&gt;(self.value)\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;None&amp;#39;\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;init&lt;&#x2F;span&gt;&lt;span&gt;():\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;LinkedList(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;HEAD&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;delete&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;linked_list&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;isinstance&lt;&#x2F;span&gt;&lt;span&gt;(linked_list, LinkedList):\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;linked_list.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;is not &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            delete(linked_list.behind)\n&lt;&#x2F;span&gt;&lt;span&gt;            linked_list.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None\n&lt;&#x2F;span&gt;&lt;span&gt;            linked_list.before &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None\n&lt;&#x2F;span&gt;&lt;span&gt;        linked_list.value &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;insert&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;linked_list&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;index&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;node&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    node &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;LinkedList(node)\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;isinstance&lt;&#x2F;span&gt;&lt;span&gt;(linked_list, LinkedList):\n&lt;&#x2F;span&gt;&lt;span&gt;        i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;while &lt;&#x2F;span&gt;&lt;span&gt;linked_list.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;is not &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;== &lt;&#x2F;span&gt;&lt;span&gt;index:\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;break\n&lt;&#x2F;span&gt;&lt;span&gt;            i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1\n&lt;&#x2F;span&gt;&lt;span&gt;            linked_list &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;linked_list.behind\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;linked_list.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;is not &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            node.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;linked_list.behind\n&lt;&#x2F;span&gt;&lt;span&gt;            linked_list.behind.before &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;node\n&lt;&#x2F;span&gt;&lt;span&gt;        node.before, linked_list.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;linked_list, node\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;remove&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;linked_list&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;index&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;isinstance&lt;&#x2F;span&gt;&lt;span&gt;(linked_list, LinkedList):\n&lt;&#x2F;span&gt;&lt;span&gt;        i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;while &lt;&#x2F;span&gt;&lt;span&gt;linked_list.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;is not &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;== &lt;&#x2F;span&gt;&lt;span&gt;index:\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;break\n&lt;&#x2F;span&gt;&lt;span&gt;            i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1\n&lt;&#x2F;span&gt;&lt;span&gt;            linked_list &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;linked_list.behind\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;linked_list.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;is not &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            linked_list.behind.before &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;linked_list.before\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;linked_list.before &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;is not &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            linked_list.before.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;linked_list.behind\n&lt;&#x2F;span&gt;&lt;span&gt;        linked_list.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None\n&lt;&#x2F;span&gt;&lt;span&gt;        linked_list.before &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None\n&lt;&#x2F;span&gt;&lt;span&gt;        linked_list.value &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;trave&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;linked_list&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;isinstance&lt;&#x2F;span&gt;&lt;span&gt;(linked_list, LinkedList):\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(linked_list)\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;linked_list.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;is not &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            trave(linked_list.behind)\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;find&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;linked_list&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;index&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;isinstance&lt;&#x2F;span&gt;&lt;span&gt;(linked_list, LinkedList):\n&lt;&#x2F;span&gt;&lt;span&gt;        i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;while &lt;&#x2F;span&gt;&lt;span&gt;linked_list.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;is not &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;== &lt;&#x2F;span&gt;&lt;span&gt;index:\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;linked_list\n&lt;&#x2F;span&gt;&lt;span&gt;            i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1\n&lt;&#x2F;span&gt;&lt;span&gt;            linked_list &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;linked_list.behind\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;lt; &lt;&#x2F;span&gt;&lt;span&gt;index:\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;raise &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;Exception&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;404&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;linked_list\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;p&gt;以上所有源代码均在&lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;github.com&#x2F;EINDEX&#x2F;Python-algorithm\&quot;&gt;Github&lt;&#x2F;a&gt;共享，欢迎提出issue或PR，希望与大家共同进步!&lt;&#x2F;p&gt;\n&lt;hr &#x2F;&gt;\n&lt;h2 id=\&quot;can-kao-zi-liao\&quot;&gt;参考资料&lt;&#x2F;h2&gt;\n&lt;p&gt;Wiki百科: &lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;zh.wikipedia.org&#x2F;wiki&#x2F;%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84\&quot;&gt;数据结构&lt;&#x2F;a&gt;、&lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;zh.wikipedia.org&#x2F;wiki&#x2F;%E6%95%B0%E7%BB%84\&quot;&gt;数组&lt;&#x2F;a&gt;、&lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;zh.wikipedia.org&#x2F;wiki&#x2F;%E9%98%9F%E5%88%97\&quot;&gt;队列&lt;&#x2F;a&gt;、&lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;zh.wikipedia.org&#x2F;wiki&#x2F;%E9%93%BE%E8%A1%A8#.E5.88.9D.E5.A7.8B.E5.8C.96.E5.92.8C.E9.94.80.E6.AF.81\&quot;&gt;链表&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;\n&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;&quot;,&quot;slug&quot;:&quot;liner-in-python&quot;,&quot;ancestors&quot;:[&quot;_index.cn.md&quot;,&quot;posts&#x2F;_index.cn.md&quot;],&quot;title&quot;:&quot;基本线性数据结构的Python实现&quot;,&quot;description&quot;:null,&quot;updated&quot;:null,&quot;date&quot;:&quot;2017-10-05T14:33:39+08:00&quot;,&quot;year&quot;:2017,&quot;month&quot;:10,&quot;day&quot;:5,&quot;taxonomies&quot;:{&quot;tags&quot;:[&quot;Python&quot;,&quot;Data structure&quot;,&quot;Linear&quot;],&quot;series&quot;:[&quot;algorithm&quot;]},&quot;extra&quot;:{},&quot;path&quot;:&quot;&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;&quot;,&quot;components&quot;:[&quot;cn&quot;,&quot;posts&quot;,&quot;liner-in-python&quot;],&quot;summary&quot;:&quot;&lt;p&gt;本篇主要实现四种数据结构，分别是数组、堆栈、队列、链表。我不知道我为什么要用Python来干C干的事情，总之Python就是可以干。&lt;&#x2F;p&gt;\n&quot;,&quot;toc&quot;:[{&quot;level&quot;:2,&quot;id&quot;:&quot;shu-zu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;#shu-zu&quot;,&quot;title&quot;:&quot;数组&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;shu-zu-de-she-ji&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;#shu-zu-de-she-ji&quot;,&quot;title&quot;:&quot;数组的设计&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;pythonde-shu-zu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;#pythonde-shu-zu&quot;,&quot;title&quot;:&quot;Python的数组&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;dui-zhan&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;#dui-zhan&quot;,&quot;title&quot;:&quot;堆栈&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;shi-yao-shi-dui-zhan&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;#shi-yao-shi-dui-zhan&quot;,&quot;title&quot;:&quot;什么是堆栈&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;te-dian&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;#te-dian&quot;,&quot;title&quot;:&quot;特点&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;cao-zuo&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;#cao-zuo&quot;,&quot;title&quot;:&quot;操作&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;shi-xian&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;#shi-xian&quot;,&quot;title&quot;:&quot;实现&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;dui-lie&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;#dui-lie&quot;,&quot;title&quot;:&quot;队列&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;shi-yao-shi-dui-lie&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;#shi-yao-shi-dui-lie&quot;,&quot;title&quot;:&quot;什么是队列&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;te-dian-1&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;#te-dian-1&quot;,&quot;title&quot;:&quot;特点&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;cao-zuo-1&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;#cao-zuo-1&quot;,&quot;title&quot;:&quot;操作&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;shi-xian-1&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;#shi-xian-1&quot;,&quot;title&quot;:&quot;实现&quot;,&quot;children&quot;:[{&quot;level&quot;:4,&quot;id&quot;:&quot;pu-tong-dui-lie&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;#pu-tong-dui-lie&quot;,&quot;title&quot;:&quot;普通队列&quot;,&quot;children&quot;:[]}]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;lian-biao&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;#lian-biao&quot;,&quot;title&quot;:&quot;链表&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;shi-yao-shi-lian-biao&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;#shi-yao-shi-lian-biao&quot;,&quot;title&quot;:&quot;什么是链表&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;te-dian-2&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;#te-dian-2&quot;,&quot;title&quot;:&quot;特点&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;cao-zuo-2&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;#cao-zuo-2&quot;,&quot;title&quot;:&quot;操作&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;shi-xian-2&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;#shi-xian-2&quot;,&quot;title&quot;:&quot;实现&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;can-kao-zi-liao&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;#can-kao-zi-liao&quot;,&quot;title&quot;:&quot;参考资料&quot;,&quot;children&quot;:[]}],&quot;word_count&quot;:1661,&quot;reading_time&quot;:9,&quot;assets&quot;:[],&quot;draft&quot;:false,&quot;lang&quot;:&quot;cn&quot;,&quot;lower&quot;:null,&quot;higher&quot;:null,&quot;translations&quot;:[{&quot;lang&quot;:&quot;cn&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;&quot;,&quot;title&quot;:&quot;基本线性数据结构的Python实现&quot;,&quot;path&quot;:&quot;&#x2F;home&#x2F;runner&#x2F;work&#x2F;blog&#x2F;blog&#x2F;content&#x2F;posts&#x2F;liner-in-python.cn.md&quot;}],&quot;backlinks&quot;:[]},&quot;translations&quot;:[{&quot;lang&quot;:&quot;cn&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;thoughtworks-one-month&#x2F;&quot;,&quot;title&quot;:&quot;Thoughtworks 一月&quot;,&quot;path&quot;:&quot;&#x2F;home&#x2F;runner&#x2F;work&#x2F;blog&#x2F;blog&#x2F;content&#x2F;posts&#x2F;thoughtworks-one-month.cn.md&quot;}],&quot;backlinks&quot;:[]},{&quot;relative_path&quot;:&quot;posts&#x2F;liner-in-python.cn.md&quot;,&quot;content&quot;:&quot;&lt;p&gt;本篇主要实现四种数据结构，分别是数组、堆栈、队列、链表。我不知道我为什么要用Python来干C干的事情，总之Python就是可以干。&lt;&#x2F;p&gt;\n&lt;span id=\&quot;continue-reading\&quot;&gt;&lt;&#x2F;span&gt;\n&lt;p&gt;&lt;strong&gt;所有概念性内容可以在参考资料中找到出处&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;shu-zu\&quot;&gt;数组&lt;&#x2F;h2&gt;\n&lt;h3 id=\&quot;shu-zu-de-she-ji\&quot;&gt;数组的设计&lt;&#x2F;h3&gt;\n&lt;p&gt;数组设计之初是在形式上依赖内存分配而成的，所以必须在使用前预先请求空间。这使得数组有以下特性：&lt;&#x2F;p&gt;\n&lt;ol&gt;\n&lt;li&gt;请求空间以后大小固定，不能再改变（数据溢出问题）；&lt;&#x2F;li&gt;\n&lt;li&gt;在内存中有空间连续性的表现，中间不会存在其他程序需要调用的数据，为此数组的专用内存空间；&lt;&#x2F;li&gt;\n&lt;li&gt;在旧式编程语言中（如有中阶语言之称的C），程序不会对数组的操作做下界判断，也就有潜在的越界操作的风险（比如会把数据写在运行中程序需要调用的核心部分的内存上）。&lt;&#x2F;li&gt;\n&lt;&#x2F;ol&gt;\n&lt;p&gt;因为简单数组强烈倚赖电脑硬件之内存，所以不适用于现代的程序设计。欲使用可变大小、硬件无关性的数据类型，Java等程序设计语言均提供了更高级的数据结构：ArrayList、Vector等动态数组。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;pythonde-shu-zu\&quot;&gt;Python的数组&lt;&#x2F;h3&gt;\n&lt;p&gt;从严格意义上来说:Python里没有严格意义上的数组。\n&lt;code&gt;List&lt;&#x2F;code&gt;可以说是Python里的数组，下面这段代码是CPython的实现&lt;code&gt;List&lt;&#x2F;code&gt;的结构体:&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;c\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-c \&quot;&gt;&lt;code class=\&quot;language-c\&quot; data-lang=\&quot;c\&quot;&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;typedef struct &lt;&#x2F;span&gt;&lt;span&gt;{\n&lt;&#x2F;span&gt;&lt;span&gt;    PyObject_VAR_HEAD\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;&#x2F;* Vector of pointers to list elements.  list[0] is ob_item[0], etc. *&#x2F;\n&lt;&#x2F;span&gt;&lt;span&gt;    PyObject &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;**&lt;&#x2F;span&gt;&lt;span&gt;ob_item;\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;&#x2F;* ob_item contains space for &amp;#39;allocated&amp;#39; elements.  The number\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;     * currently in use is ob_size.\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;     * Invariants:\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;     *     0 &amp;lt;= ob_size &amp;lt;= allocated\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;     *     len(list) == ob_size\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;     *     ob_item == NULL implies ob_size == allocated == 0\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;     * list.sort() temporarily sets allocated to -1 to detect mutations.\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;     *\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;     * Items must normally not be NULL, except during construction when\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;     * the list is not yet visible outside the function that builds it.\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;     *&#x2F;\n&lt;&#x2F;span&gt;&lt;span&gt;    Py_ssize_t allocated;\n&lt;&#x2F;span&gt;&lt;span&gt;} PyListObject;\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;p&gt;取自&lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;github.com&#x2F;python&#x2F;cpython&#x2F;blob&#x2F;f24143b25e4f83368ff6182bebe14f885073015c&#x2F;Include&#x2F;listobject.h\&quot;&gt;CPython-Github&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;\n&lt;p&gt;还有一篇文章讲&lt;a rel=\&quot;nofollow\&quot; href=\&quot;http:&#x2F;&#x2F;www.laurentluce.com&#x2F;posts&#x2F;python-list-implementation&#x2F;\&quot;&gt;&lt;code&gt;List&lt;&#x2F;code&gt;实现&lt;&#x2F;a&gt;,感兴趣的朋友可以去看看。&lt;a rel=\&quot;nofollow\&quot; href=\&quot;http:&#x2F;&#x2F;python.jobbole.com&#x2F;82549&#x2F;\&quot;&gt;中文版&lt;&#x2F;a&gt;。&lt;&#x2F;p&gt;\n&lt;p&gt;当然，在Python里它就是数组。\n后面的一些结构也将用&lt;code&gt;List&lt;&#x2F;code&gt;来实现。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;dui-zhan\&quot;&gt;堆栈&lt;&#x2F;h2&gt;\n&lt;h3 id=\&quot;shi-yao-shi-dui-zhan\&quot;&gt;什么是堆栈&lt;&#x2F;h3&gt;\n&lt;p&gt;堆栈（英语：stack），也可直接称栈，在计算机科学中，是一种特殊的串列形式的数据结构，它的特殊之处在于只能允许在链接串列或阵列的一端（称为堆叠顶端指标，英语：top）进行加入资料（英语：push）和输出资料（英语：pop）的运算。另外堆叠也可以用一维阵列或连结串列的形式来完成。堆叠的另外一个相对的操作方式称为伫列。&lt;&#x2F;p&gt;\n&lt;p&gt;由于堆叠数据结构只允许在一端进行操作，因而按照后进先出（LIFO, Last In First Out）的原理运作。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;te-dian\&quot;&gt;特点&lt;&#x2F;h3&gt;\n&lt;ul&gt;\n&lt;li&gt;先入后出，后入先出。&lt;&#x2F;li&gt;\n&lt;li&gt;除头尾节点之外，每个元素有一个前驱，一个后继。&lt;&#x2F;li&gt;\n&lt;&#x2F;ul&gt;\n&lt;h3 id=\&quot;cao-zuo\&quot;&gt;操作&lt;&#x2F;h3&gt;\n&lt;p&gt;从原理可知，对堆栈(栈)可以进行的操作有:&lt;&#x2F;p&gt;\n&lt;ul&gt;\n&lt;li&gt;top():获取堆栈顶端对象&lt;&#x2F;li&gt;\n&lt;li&gt;push():向栈里添加一个对象&lt;&#x2F;li&gt;\n&lt;li&gt;pop():从栈里推出一个对象&lt;&#x2F;li&gt;\n&lt;&#x2F;ul&gt;\n&lt;h3 id=\&quot;shi-xian\&quot;&gt;实现&lt;&#x2F;h3&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=\&quot;text-decoration:underline;color:#a6e22e;\&quot;&gt;my_stack&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;text-decoration:underline;font-style:italic;color:#a6e22e;\&quot;&gt;object&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;__init__&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;value&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;        self.value &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;value\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 前驱\n&lt;&#x2F;span&gt;&lt;span&gt;        self.before &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 后继\n&lt;&#x2F;span&gt;&lt;span&gt;        self.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;__str__&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;str&lt;&#x2F;span&gt;&lt;span&gt;(self.value)\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;top&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;stack&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;isinstance&lt;&#x2F;span&gt;&lt;span&gt;(stack, my_stack):\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;stack.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;is not &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;top(stack.behind)\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;stack\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;push&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;stack&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;ele&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    push_ele &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;my_stack(ele)\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;isinstance&lt;&#x2F;span&gt;&lt;span&gt;(stack, my_stack):\n&lt;&#x2F;span&gt;&lt;span&gt;      stack_top &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;top(stack)\n&lt;&#x2F;span&gt;&lt;span&gt;      push_ele.before &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;stack_top\n&lt;&#x2F;span&gt;&lt;span&gt;      push_ele.before.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;push_ele\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;      &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;raise &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;Exception&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;不要乱扔东西进来好么&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;pop&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;stack&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;isinstance&lt;&#x2F;span&gt;&lt;span&gt;(stack, my_stack):\n&lt;&#x2F;span&gt;&lt;span&gt;        stack_top &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;top(stack)\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;stack_top.before &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;is not &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            stack_top.before.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None\n&lt;&#x2F;span&gt;&lt;span&gt;            stack_top.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;stack_top\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;已经是栈顶了&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h2 id=\&quot;dui-lie\&quot;&gt;队列&lt;&#x2F;h2&gt;\n&lt;h3 id=\&quot;shi-yao-shi-dui-lie\&quot;&gt;什么是队列&lt;&#x2F;h3&gt;\n&lt;p&gt;和堆栈类似，唯一的区别是队列只能在队头进行出队操作，所以队列是是先进先出（FIFO, First-In-First-Out）的线性表&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;te-dian-1\&quot;&gt;特点&lt;&#x2F;h3&gt;\n&lt;ul&gt;\n&lt;li&gt;先入先出,后入后出&lt;&#x2F;li&gt;\n&lt;li&gt;除尾节点外,每个节点有一个后继&lt;&#x2F;li&gt;\n&lt;li&gt;（可选）除头节点外,每个节点有一个前驱&lt;&#x2F;li&gt;\n&lt;&#x2F;ul&gt;\n&lt;h3 id=\&quot;cao-zuo-1\&quot;&gt;操作&lt;&#x2F;h3&gt;\n&lt;ul&gt;\n&lt;li&gt;push（）:入队&lt;&#x2F;li&gt;\n&lt;li&gt;pop（）：出队&lt;&#x2F;li&gt;\n&lt;&#x2F;ul&gt;\n&lt;h3 id=\&quot;shi-xian-1\&quot;&gt;实现&lt;&#x2F;h3&gt;\n&lt;h4 id=\&quot;pu-tong-dui-lie\&quot;&gt;普通队列&lt;&#x2F;h4&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=\&quot;text-decoration:underline;color:#a6e22e;\&quot;&gt;MyQueue&lt;&#x2F;span&gt;&lt;span&gt;():\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;__init__&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;value&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;        self.value &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;value\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 前驱\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# self.before = None\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 后继\n&lt;&#x2F;span&gt;&lt;span&gt;        self.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;__str__&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;self.value &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;is not &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;str&lt;&#x2F;span&gt;&lt;span&gt;(self.value)\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;None&amp;#39;\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;create_queue&lt;&#x2F;span&gt;&lt;span&gt;():\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;&amp;quot;&amp;quot;&amp;quot;仅有队头&amp;quot;&amp;quot;&amp;quot;\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;MyQueue()\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;last&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;queue&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;isinstance&lt;&#x2F;span&gt;&lt;span&gt;(queue, MyQueue):\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;queue.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;is not &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;last(queue.behind)\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;queue\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;push&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;queue&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;ele&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;isinstance&lt;&#x2F;span&gt;&lt;span&gt;(queue, MyQueue):\n&lt;&#x2F;span&gt;&lt;span&gt;        last_queue &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;last(queue)\n&lt;&#x2F;span&gt;&lt;span&gt;        new_queue &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;MyQueue(ele)\n&lt;&#x2F;span&gt;&lt;span&gt;        last_queue.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;new_queue\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;pop&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;queue&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;queue.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;is not &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;        get_queue &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;queue.behind\n&lt;&#x2F;span&gt;&lt;span&gt;        queue.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;queue.behind.behind\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;get_queue\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;队列里已经没有元素了&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;print_queue&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;queue&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(queue)\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;queue.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;is not &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;        print_queue(queue.behind)\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h2 id=\&quot;lian-biao\&quot;&gt;链表&lt;&#x2F;h2&gt;\n&lt;h3 id=\&quot;shi-yao-shi-lian-biao\&quot;&gt;什么是链表&lt;&#x2F;h3&gt;\n&lt;p&gt;链表（Linked list）是一种常见的基础数据结构，是一种线性表，但是并不会按线性的顺序存储数据，而是在每一个节点里存到下一个节点的指针(Pointer)。由于不必须按顺序存储，链表在插入的时候可以达到O(1)的复杂度，比另一种线性表顺序表快得多，但是查找一个节点或者访问特定编号的节点则需要O(n)的时间，而顺序表相应的时间复杂度分别是O(logn)和O(1)。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;te-dian-2\&quot;&gt;特点&lt;&#x2F;h3&gt;\n&lt;p&gt;使用链表结构可以克服数组链表需要预先知道数据大小的缺点，链表结构可以充分利用计算机内存空间，实现灵活的内存动态管理。但是链表失去了数组随机读取的优点，同时链表由于增加了结点的指针域，空间开销比较大。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;cao-zuo-2\&quot;&gt;操作&lt;&#x2F;h3&gt;\n&lt;ul&gt;\n&lt;li&gt;init():初始化&lt;&#x2F;li&gt;\n&lt;li&gt;insert(): 插入&lt;&#x2F;li&gt;\n&lt;li&gt;trave(): 遍历&lt;&#x2F;li&gt;\n&lt;li&gt;delete(): 删除&lt;&#x2F;li&gt;\n&lt;li&gt;find(): 查找&lt;&#x2F;li&gt;\n&lt;&#x2F;ul&gt;\n&lt;h3 id=\&quot;shi-xian-2\&quot;&gt;实现&lt;&#x2F;h3&gt;\n&lt;p&gt;此处仅实现双向列表&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=\&quot;text-decoration:underline;color:#a6e22e;\&quot;&gt;LinkedList&lt;&#x2F;span&gt;&lt;span&gt;():\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;__init__&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;value&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;        self.value &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;value\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 前驱\n&lt;&#x2F;span&gt;&lt;span&gt;        self.before &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 后继\n&lt;&#x2F;span&gt;&lt;span&gt;        self.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;__str__&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;self.value &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;is not &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;str&lt;&#x2F;span&gt;&lt;span&gt;(self.value)\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;None&amp;#39;\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;init&lt;&#x2F;span&gt;&lt;span&gt;():\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;LinkedList(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;HEAD&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;delete&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;linked_list&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;isinstance&lt;&#x2F;span&gt;&lt;span&gt;(linked_list, LinkedList):\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;linked_list.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;is not &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            delete(linked_list.behind)\n&lt;&#x2F;span&gt;&lt;span&gt;            linked_list.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None\n&lt;&#x2F;span&gt;&lt;span&gt;            linked_list.before &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None\n&lt;&#x2F;span&gt;&lt;span&gt;        linked_list.value &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;insert&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;linked_list&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;index&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;node&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    node &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;LinkedList(node)\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;isinstance&lt;&#x2F;span&gt;&lt;span&gt;(linked_list, LinkedList):\n&lt;&#x2F;span&gt;&lt;span&gt;        i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;while &lt;&#x2F;span&gt;&lt;span&gt;linked_list.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;is not &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;== &lt;&#x2F;span&gt;&lt;span&gt;index:\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;break\n&lt;&#x2F;span&gt;&lt;span&gt;            i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1\n&lt;&#x2F;span&gt;&lt;span&gt;            linked_list &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;linked_list.behind\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;linked_list.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;is not &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            node.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;linked_list.behind\n&lt;&#x2F;span&gt;&lt;span&gt;            linked_list.behind.before &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;node\n&lt;&#x2F;span&gt;&lt;span&gt;        node.before, linked_list.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;linked_list, node\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;remove&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;linked_list&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;index&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;isinstance&lt;&#x2F;span&gt;&lt;span&gt;(linked_list, LinkedList):\n&lt;&#x2F;span&gt;&lt;span&gt;        i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;while &lt;&#x2F;span&gt;&lt;span&gt;linked_list.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;is not &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;== &lt;&#x2F;span&gt;&lt;span&gt;index:\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;break\n&lt;&#x2F;span&gt;&lt;span&gt;            i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1\n&lt;&#x2F;span&gt;&lt;span&gt;            linked_list &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;linked_list.behind\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;linked_list.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;is not &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            linked_list.behind.before &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;linked_list.before\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;linked_list.before &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;is not &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            linked_list.before.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;linked_list.behind\n&lt;&#x2F;span&gt;&lt;span&gt;        linked_list.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None\n&lt;&#x2F;span&gt;&lt;span&gt;        linked_list.before &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None\n&lt;&#x2F;span&gt;&lt;span&gt;        linked_list.value &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;trave&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;linked_list&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;isinstance&lt;&#x2F;span&gt;&lt;span&gt;(linked_list, LinkedList):\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(linked_list)\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;linked_list.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;is not &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            trave(linked_list.behind)\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;find&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;linked_list&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;index&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;isinstance&lt;&#x2F;span&gt;&lt;span&gt;(linked_list, LinkedList):\n&lt;&#x2F;span&gt;&lt;span&gt;        i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;while &lt;&#x2F;span&gt;&lt;span&gt;linked_list.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;is not &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;== &lt;&#x2F;span&gt;&lt;span&gt;index:\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;linked_list\n&lt;&#x2F;span&gt;&lt;span&gt;            i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1\n&lt;&#x2F;span&gt;&lt;span&gt;            linked_list &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;linked_list.behind\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;lt; &lt;&#x2F;span&gt;&lt;span&gt;index:\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;raise &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;Exception&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;404&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;linked_list\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;p&gt;以上所有源代码均在&lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;github.com&#x2F;EINDEX&#x2F;Python-algorithm\&quot;&gt;Github&lt;&#x2F;a&gt;共享，欢迎提出issue或PR，希望与大家共同进步!&lt;&#x2F;p&gt;\n&lt;hr &#x2F;&gt;\n&lt;h2 id=\&quot;can-kao-zi-liao\&quot;&gt;参考资料&lt;&#x2F;h2&gt;\n&lt;p&gt;Wiki百科: &lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;zh.wikipedia.org&#x2F;wiki&#x2F;%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84\&quot;&gt;数据结构&lt;&#x2F;a&gt;、&lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;zh.wikipedia.org&#x2F;wiki&#x2F;%E6%95%B0%E7%BB%84\&quot;&gt;数组&lt;&#x2F;a&gt;、&lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;zh.wikipedia.org&#x2F;wiki&#x2F;%E9%98%9F%E5%88%97\&quot;&gt;队列&lt;&#x2F;a&gt;、&lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;zh.wikipedia.org&#x2F;wiki&#x2F;%E9%93%BE%E8%A1%A8#.E5.88.9D.E5.A7.8B.E5.8C.96.E5.92.8C.E9.94.80.E6.AF.81\&quot;&gt;链表&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;\n&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;&quot;,&quot;slug&quot;:&quot;liner-in-python&quot;,&quot;ancestors&quot;:[&quot;_index.cn.md&quot;,&quot;posts&#x2F;_index.cn.md&quot;],&quot;title&quot;:&quot;基本线性数据结构的Python实现&quot;,&quot;description&quot;:null,&quot;updated&quot;:null,&quot;date&quot;:&quot;2017-10-05T14:33:39+08:00&quot;,&quot;year&quot;:2017,&quot;month&quot;:10,&quot;day&quot;:5,&quot;taxonomies&quot;:{&quot;tags&quot;:[&quot;Python&quot;,&quot;Data structure&quot;,&quot;Linear&quot;],&quot;series&quot;:[&quot;algorithm&quot;]},&quot;extra&quot;:{},&quot;path&quot;:&quot;&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;&quot;,&quot;components&quot;:[&quot;cn&quot;,&quot;posts&quot;,&quot;liner-in-python&quot;],&quot;summary&quot;:&quot;&lt;p&gt;本篇主要实现四种数据结构，分别是数组、堆栈、队列、链表。我不知道我为什么要用Python来干C干的事情，总之Python就是可以干。&lt;&#x2F;p&gt;\n&quot;,&quot;toc&quot;:[{&quot;level&quot;:2,&quot;id&quot;:&quot;shu-zu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;#shu-zu&quot;,&quot;title&quot;:&quot;数组&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;shu-zu-de-she-ji&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;#shu-zu-de-she-ji&quot;,&quot;title&quot;:&quot;数组的设计&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;pythonde-shu-zu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;#pythonde-shu-zu&quot;,&quot;title&quot;:&quot;Python的数组&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;dui-zhan&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;#dui-zhan&quot;,&quot;title&quot;:&quot;堆栈&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;shi-yao-shi-dui-zhan&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;#shi-yao-shi-dui-zhan&quot;,&quot;title&quot;:&quot;什么是堆栈&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;te-dian&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;#te-dian&quot;,&quot;title&quot;:&quot;特点&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;cao-zuo&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;#cao-zuo&quot;,&quot;title&quot;:&quot;操作&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;shi-xian&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;#shi-xian&quot;,&quot;title&quot;:&quot;实现&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;dui-lie&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;#dui-lie&quot;,&quot;title&quot;:&quot;队列&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;shi-yao-shi-dui-lie&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;#shi-yao-shi-dui-lie&quot;,&quot;title&quot;:&quot;什么是队列&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;te-dian-1&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;#te-dian-1&quot;,&quot;title&quot;:&quot;特点&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;cao-zuo-1&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;#cao-zuo-1&quot;,&quot;title&quot;:&quot;操作&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;shi-xian-1&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;#shi-xian-1&quot;,&quot;title&quot;:&quot;实现&quot;,&quot;children&quot;:[{&quot;level&quot;:4,&quot;id&quot;:&quot;pu-tong-dui-lie&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;#pu-tong-dui-lie&quot;,&quot;title&quot;:&quot;普通队列&quot;,&quot;children&quot;:[]}]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;lian-biao&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;#lian-biao&quot;,&quot;title&quot;:&quot;链表&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;shi-yao-shi-lian-biao&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;#shi-yao-shi-lian-biao&quot;,&quot;title&quot;:&quot;什么是链表&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;te-dian-2&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;#te-dian-2&quot;,&quot;title&quot;:&quot;特点&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;cao-zuo-2&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;#cao-zuo-2&quot;,&quot;title&quot;:&quot;操作&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;shi-xian-2&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;#shi-xian-2&quot;,&quot;title&quot;:&quot;实现&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;can-kao-zi-liao&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;#can-kao-zi-liao&quot;,&quot;title&quot;:&quot;参考资料&quot;,&quot;children&quot;:[]}],&quot;word_count&quot;:1661,&quot;reading_time&quot;:9,&quot;assets&quot;:[],&quot;draft&quot;:false,&quot;lang&quot;:&quot;cn&quot;,&quot;lower&quot;:{&quot;relative_path&quot;:&quot;posts&#x2F;thoughtworks-one-month.cn.md&quot;,&quot;content&quot;:&quot;&lt;p&gt;距离加入 Thoughtworks 已有一个月。\n这家公司也并非互联网公司，没有高强度的工作节奏，没有996，有一些敏捷信仰。\n对于武汉来说，也算是一个优秀的公司。&lt;&#x2F;p&gt;\n&lt;p&gt;同时正如网上所言：该有的缺点也是有的。好奇的同学可以去看一下我的编程引路人（也是我司黑粉头子）耗子叔（陈皓）的文章。&lt;&#x2F;p&gt;\n&lt;span id=\&quot;continue-reading\&quot;&gt;&lt;&#x2F;span&gt;&lt;h2 id=\&quot;ji-zhu-bian-geng\&quot;&gt;技术变更&lt;&#x2F;h2&gt;\n&lt;p&gt;通过一个月的折磨，本人成为一名勉强能用的 Salesforce 开发者。\n现在的技术栈新增了：&lt;&#x2F;p&gt;\n&lt;ul&gt;\n&lt;li&gt;Apex&lt;&#x2F;li&gt;\n&lt;li&gt;SOQL&lt;&#x2F;li&gt;\n&lt;li&gt;Lighting Web Content&lt;&#x2F;li&gt;\n&lt;&#x2F;ul&gt;\n&lt;p&gt;使用的产品新增了：&lt;&#x2F;p&gt;\n&lt;ul&gt;\n&lt;li&gt;AWS lambda&lt;&#x2F;li&gt;\n&lt;li&gt;Salesforce&lt;&#x2F;li&gt;\n&lt;&#x2F;ul&gt;\n&lt;p&gt;但怎么说呢 Salesforce、Apex、SOQL 对开发者真的是非常不友善基本的功能都不完全。&lt;&#x2F;p&gt;\n&lt;p&gt;先来说说 SOQL：&lt;&#x2F;p&gt;\n&lt;ol&gt;\n&lt;li&gt;不支持 update delete insert&lt;&#x2F;li&gt;\n&lt;li&gt;不支持 join&lt;&#x2F;li&gt;\n&lt;li&gt;子查询只能写一层（本人也不推荐多层）&lt;&#x2F;li&gt;\n&lt;li&gt;select 结果不支持直接计算，需要在 object 上添加 field&lt;&#x2F;li&gt;\n&lt;li&gt;group by 支持不够灵活&lt;&#x2F;li&gt;\n&lt;li&gt;不支持 field = field 的查询方式&lt;&#x2F;li&gt;\n&lt;&#x2F;ol&gt;\n&lt;p&gt;在来吐槽一下 Apex：&lt;&#x2F;p&gt;\n&lt;ol&gt;\n&lt;li&gt;云开发，没有本地开发环境，别想在本地调试，调试需要上传代码，日志难以检索&lt;&#x2F;li&gt;\n&lt;li&gt;资源受限，除了 Batchable 之外每一种都会要较为严苛的资源使用量限制&lt;&#x2F;li&gt;\n&lt;li&gt;语法低级，感觉像是 Java6 时代&lt;&#x2F;li&gt;\n&lt;&#x2F;ol&gt;\n&lt;p&gt;最后吐槽 Salesforce：&lt;&#x2F;p&gt;\n&lt;ol&gt;\n&lt;li&gt;上面两个东西都是 Salesforce 系统自带的。&lt;&#x2F;li&gt;\n&lt;li&gt;网络延时长。&lt;&#x2F;li&gt;\n&lt;li&gt;测试运行效率低。&lt;&#x2F;li&gt;\n&lt;&#x2F;ol&gt;\n&lt;h2 id=\&quot;ye-wu-fa-zhan\&quot;&gt;业务发展&lt;&#x2F;h2&gt;\n&lt;p&gt;这是机密，我作为一头萌新，我只能说业务复杂度极高，技术复杂度倒是相对低很多，这么一比较，其实业务也没有多么复杂。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;dui-wei-lai-de-zhan-wang\&quot;&gt;对未来的展望&lt;&#x2F;h2&gt;\n&lt;p&gt;这 2019 年总是要完成我 2017 年定下的目标了嘛，在 965 的公司都不能完成的话。以后也是没有什么希望了嘛。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;end\&quot;&gt;End&lt;&#x2F;h2&gt;\n&lt;p&gt;Thoughtworks 在武汉还是一个非常值得加入的公司，有想要内推的小伙伴可以联系我。&lt;&#x2F;p&gt;\n&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;thoughtworks-one-month&#x2F;&quot;,&quot;slug&quot;:&quot;thoughtworks-one-month&quot;,&quot;ancestors&quot;:[&quot;_index.cn.md&quot;,&quot;posts&#x2F;_index.cn.md&quot;],&quot;title&quot;:&quot;Thoughtworks 一月&quot;,&quot;description&quot;:null,&quot;updated&quot;:null,&quot;date&quot;:&quot;2017-10-05T14:34:54+08:00&quot;,&quot;year&quot;:2017,&quot;month&quot;:10,&quot;day&quot;:5,&quot;taxonomies&quot;:{&quot;tags&quot;:[&quot;Thoughtworks&quot;]},&quot;extra&quot;:{},&quot;path&quot;:&quot;&#x2F;cn&#x2F;posts&#x2F;thoughtworks-one-month&#x2F;&quot;,&quot;components&quot;:[&quot;cn&quot;,&quot;posts&quot;,&quot;thoughtworks-one-month&quot;],&quot;summary&quot;:&quot;&lt;p&gt;距离加入 Thoughtworks 已有一个月。\n这家公司也并非互联网公司，没有高强度的工作节奏，没有996，有一些敏捷信仰。\n对于武汉来说，也算是一个优秀的公司。&lt;&#x2F;p&gt;\n&lt;p&gt;同时正如网上所言：该有的缺点也是有的。好奇的同学可以去看一下我的编程引路人（也是我司黑粉头子）耗子叔（陈皓）的文章。&lt;&#x2F;p&gt;\n&quot;,&quot;toc&quot;:[{&quot;level&quot;:2,&quot;id&quot;:&quot;ji-zhu-bian-geng&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;thoughtworks-one-month&#x2F;#ji-zhu-bian-geng&quot;,&quot;title&quot;:&quot;技术变更&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;ye-wu-fa-zhan&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;thoughtworks-one-month&#x2F;#ye-wu-fa-zhan&quot;,&quot;title&quot;:&quot;业务发展&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;dui-wei-lai-de-zhan-wang&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;thoughtworks-one-month&#x2F;#dui-wei-lai-de-zhan-wang&quot;,&quot;title&quot;:&quot;对未来的展望&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;end&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;thoughtworks-one-month&#x2F;#end&quot;,&quot;title&quot;:&quot;End&quot;,&quot;children&quot;:[]}],&quot;word_count&quot;:512,&quot;reading_time&quot;:3,&quot;assets&quot;:[],&quot;draft&quot;:false,&quot;lang&quot;:&quot;cn&quot;,&quot;lower&quot;:null,&quot;higher&quot;:null,&quot;translations&quot;:[{&quot;lang&quot;:&quot;cn&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;thoughtworks-one-month&#x2F;&quot;,&quot;title&quot;:&quot;Thoughtworks 一月&quot;,&quot;path&quot;:&quot;&#x2F;home&#x2F;runner&#x2F;work&#x2F;blog&#x2F;blog&#x2F;content&#x2F;posts&#x2F;thoughtworks-one-month.cn.md&quot;}],&quot;backlinks&quot;:[]},&quot;higher&quot;:{&quot;relative_path&quot;:&quot;posts&#x2F;archlinux-install-guide.cn.md&quot;,&quot;content&quot;:&quot;&lt;p&gt;ArchLinux 是一个非常符合我个人哲学的操作系统，深得与我一样的大部分 Pythonista 之心(不好意思代表你们了)。&lt;&#x2F;p&gt;\n&lt;span id=\&quot;continue-reading\&quot;&gt;&lt;&#x2F;span&gt;&lt;h2 id=\&quot;shi-yao-shi-archlinux\&quot;&gt;什么是 ArchLinux&lt;&#x2F;h2&gt;\n&lt;blockquote&gt;\n&lt;h2 id=\&quot;yuan-ze\&quot;&gt;原则&lt;&#x2F;h2&gt;\n&lt;p&gt;以下核心原则构成了我们通常所指的 Arch 之道，或者说 Arch 的哲学，或许最好的结词是 Keep It Simple, Stupid（对应中文为“保持简单，且一目了然”）。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;jian-ji\&quot;&gt;简洁&lt;&#x2F;h3&gt;\n&lt;p&gt;Arch Linux 将简洁定义为：&lt;strong&gt;避免任何不必要的添加、修改和复杂增加&lt;&#x2F;strong&gt;。它提供的软件都来自原始开发者(&lt;a rel=\&quot;nofollow\&quot; title=\&quot;wikipedia:Upstream (software development)\&quot; href=\&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Upstream_(software_development)\&quot;&gt;上游&lt;&#x2F;a&gt;)，仅进行和发行版(下游)相关的最小修改。&lt;&#x2F;p&gt;\n&lt;ul&gt;\n&lt;li&gt;不包含上游不愿意接受的补丁。绝大部分 Arch 下游补丁都已经被上游接受，下一个正式版本里会包含。&lt;&#x2F;li&gt;\n&lt;li&gt;配置文件也是来自上游，仅包含发行版必须的调整，比如特殊的文件系统路径变动。Arch 不会在安装一个软件包后就自动启动服务。&lt;&#x2F;li&gt;\n&lt;li&gt;软件包通常都和一个上游项目直接对应。仅在极少数情况下才会拆分软件包。&lt;&#x2F;li&gt;\n&lt;li&gt;官方不支持图形化配置界面，建议用户使用命令行或文本编辑器修改设置。&lt;&#x2F;li&gt;\n&lt;&#x2F;ul&gt;\n&lt;h3 id=\&quot;xian-dai\&quot;&gt;现代&lt;&#x2F;h3&gt;\n&lt;p&gt;Arch尽全力保持软件处于最新的稳定版本，只要不出现系统软件包破损，都尽量用最新版本。Arch采用&lt;a rel=\&quot;nofollow\&quot; title=\&quot;wikipedia:Rolling release\&quot; href=\&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Rolling_release\&quot;&gt;滚动升级&lt;&#x2F;a&gt;策略，安装之后可以持续升级。\nArch向GNU&#x2F;Linux用户提供了许多新特性，包括&lt;a rel=\&quot;nofollow\&quot; title=\&quot;Systemd (简体中文)\&quot; href=\&quot;https:&#x2F;&#x2F;wiki.archlinux.org&#x2F;index.php&#x2F;Systemd_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)\&quot;&gt;systemd&lt;&#x2F;a&gt;初始化系统、现代的&lt;a rel=\&quot;nofollow\&quot; title=\&quot;File systems\&quot; href=\&quot;https:&#x2F;&#x2F;wiki.archlinux.org&#x2F;index.php&#x2F;File_systems\&quot;&gt;文件系统&lt;&#x2F;a&gt;、LVM2&#x2F;EVMS、软件磁盘阵列（软RAID）、udev支持、initcpio（附带mkinitcpio）以及最新的内核。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;shi-yong\&quot;&gt;实用&lt;&#x2F;h3&gt;\n&lt;p&gt;Arch 注重实用性，避免意识形态之争。最终的设计决策都是由开发者的共识决定。开发者依赖基于事实的技术分析和讨论，避免政治因素，不会被流行观点左右。\nArch Linux 的仓库中包含大量的软件包和编译脚本。用户可以按照需要进行自由选择。仓库中既提供了开源、自由的软件，也提供了闭源软件。&lt;strong&gt;实用性大于意识形态&lt;&#x2F;strong&gt;.&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;yi-yong-hu-wei-zhong-xin\&quot;&gt;以用户为中心&lt;&#x2F;h3&gt;\n&lt;p&gt;许多 Linux 发行版都试图变得更“用户友好”，Arch Linux 则一直是，永远会是“以用户为中心”。此发行版是为了满足贡献者的需求，而不是为了吸引尽可能多的用户。Arch 适用于乐于自己动手的用户，他们愿意花时间阅读文档，解决自己的问题。\n报告问题、完善 Wiki 社区文档、为其它用户提供技术支持。&lt;a rel=\&quot;nofollow\&quot; title=\&quot;Arch User Repository (简体中文)\&quot; href=\&quot;https:&#x2F;&#x2F;wiki.archlinux.org&#x2F;index.php&#x2F;Arch_User_Repository_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)\&quot;&gt;Arch 用户仓库&lt;&#x2F;a&gt; 收集用户贡献的软件包。Arch 开发者都是志愿者，活跃的贡献者很快就能称为开发人员。\nArch 鼓励每一个用户 &lt;a rel=\&quot;nofollow\&quot; title=\&quot;Getting involved\&quot; href=\&quot;https:&#x2F;&#x2F;wiki.archlinux.org&#x2F;index.php&#x2F;Getting_involved\&quot;&gt;参与&lt;&#x2F;a&gt; 和贡献，报告和帮助修复 &lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;bugs.archlinux.org&#x2F;\&quot;&gt;bugs&lt;&#x2F;a&gt;，提供软件包补丁和参加核心 &lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;projects.archlinux.org&#x2F;\&quot;&gt;项目&lt;&#x2F;a&gt;：Arch 开发者都是志愿者，通过持续的贡献成为团队的一员。&lt;em&gt;Archers&lt;&#x2F;em&gt; 可以自行贡献软件包到 &lt;a rel=\&quot;nofollow\&quot; title=\&quot;Arch User Repository\&quot; href=\&quot;https:&#x2F;&#x2F;wiki.archlinux.org&#x2F;index.php&#x2F;Arch_User_Repository\&quot;&gt;Arch User Repository&lt;&#x2F;a&gt;, 提升 &lt;a rel=\&quot;nofollow\&quot; title=\&quot;Main page\&quot; href=\&quot;https:&#x2F;&#x2F;wiki.archlinux.org&#x2F;index.php&#x2F;Main_page\&quot;&gt;ArchWiki 文档质量&lt;&#x2F;a&gt;, 在 &lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;bbs.archlinux.org&#x2F;\&quot;&gt;论坛&lt;&#x2F;a&gt;, &lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;mailman.archlinux.org&#x2F;mailman&#x2F;listinfo&#x2F;\&quot;&gt;邮件列表&lt;&#x2F;a&gt;, &lt;a rel=\&quot;nofollow\&quot; title=\&quot;IRC channels\&quot; href=\&quot;https:&#x2F;&#x2F;wiki.archlinux.org&#x2F;index.php&#x2F;IRC_channels\&quot;&gt;IRC&lt;&#x2F;a&gt; 中给其它用户提供技术支持. Arch Linux 是全球很多用户的选择，已经有很多 &lt;a rel=\&quot;nofollow\&quot; title=\&quot;International communities\&quot; href=\&quot;https:&#x2F;&#x2F;wiki.archlinux.org&#x2F;index.php&#x2F;International_communities\&quot;&gt;国际社区&lt;&#x2F;a&gt;提供帮助和文档翻译。\n—— 以上内容来自 &lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;wiki.archlinux.org&#x2F;index.php&#x2F;Arch_Linux_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)\&quot;&gt;《 ArchWiki 简介》&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;\n&lt;&#x2F;blockquote&gt;\n&lt;h2 id=\&quot;an-zhuang\&quot;&gt;安装&lt;&#x2F;h2&gt;\n&lt;h3 id=\&quot;mu-de\&quot;&gt;目的&lt;&#x2F;h3&gt;\n&lt;p&gt;在 VMware 的环境下安装 ArchLinux，以及 GUI。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;zhun-bei-jie-duan\&quot;&gt;准备阶段&lt;&#x2F;h3&gt;\n&lt;p&gt;在开始安装系统之前，我们需要准备这么几样东西。&lt;&#x2F;p&gt;\n&lt;ul&gt;\n&lt;li&gt;Vmware&lt;&#x2F;li&gt;\n&lt;li&gt;&lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;mirror.tuna.tsinghua.edu.cn&#x2F;archlinux&#x2F;iso&#x2F;\&quot;&gt;ArchLinux 镜像&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;\n&lt;li&gt;&lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;wiki.archlinux.org&#x2F;index.php&#x2F;Installation_guide_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)\&quot;&gt;官方安装向导&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;\n&lt;li&gt;(可选) 安装小视频 &lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;www.bilibili.com&#x2F;video&#x2F;av12933746&#x2F;\&quot;&gt;Bilibili&lt;&#x2F;a&gt; &lt;&#x2F;li&gt;\n&lt;&#x2F;ul&gt;\n&lt;h3 id=\&quot;chuang-jian-xu-ni-ji\&quot;&gt;创建虚拟机&lt;&#x2F;h3&gt;\n&lt;p&gt;创建一个 Linux 虚拟机，选择其他 Linux x64 3.6内核，分配至少 1G 内存以及 8G 存储空间。\n将刚才下好的镜像添加到光驱中。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;wang-luo\&quot;&gt;网络&lt;&#x2F;h3&gt;\n&lt;p&gt;等待系统进入命令行后，首先检测网络。&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;bash\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-bash \&quot;&gt;&lt;code class=\&quot;language-bash\&quot; data-lang=\&quot;bash\&quot;&gt;&lt;span&gt;ping www.baidu.com\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 可以换为你自己所在地区稳定链接的网站\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;p&gt;然后更新系统时间。&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;bash\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-bash \&quot;&gt;&lt;code class=\&quot;language-bash\&quot; data-lang=\&quot;bash\&quot;&gt;&lt;span&gt;timedatectl set-ntp true\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h3 id=\&quot;fen-qu\&quot;&gt;分区&lt;&#x2F;h3&gt;\n&lt;p&gt;通常 Linux 系统需要一个引导 Boot 分区，一个主分区，一个 Swap 分区，一个 home (用户)分区，(可选) var 分区。\n顺便讲讲各个分区的作用:&lt;&#x2F;p&gt;\n&lt;ul&gt;\n&lt;li&gt;引导分区：用于引导系统启动，加载内核能操作，独立分区可以方便多系统引导等。&lt;&#x2F;li&gt;\n&lt;li&gt;主分区：系统文件主要存放的地方，一般操作都需要 root 权限。&lt;&#x2F;li&gt;\n&lt;li&gt;Swap 分区：类似于虚拟内存，如果个人电脑内存足够大 8G 以上，不需要虚拟内存，如果多于 4G 小于 8G ，和内存保持 1 比 1 ，如果小于 4G ，和内存保持 1 比 2 较好。当然也可以不使用此分区。&lt;&#x2F;li&gt;\n&lt;li&gt;home 分区：通常用于存储个人数据，单独分出来主要是为了。\n&lt;ol&gt;\n&lt;li&gt;系统重装或崩溃后，不会影响该分区的数据。&lt;&#x2F;li&gt;\n&lt;li&gt;长时间使用必然会有很多零碎文件产生，可能导致 ArchLinux 无法滚动更新等等。&lt;&#x2F;li&gt;\n&lt;li&gt;分区单独加密。&lt;&#x2F;li&gt;\n&lt;&#x2F;ol&gt;\n&lt;&#x2F;li&gt;\n&lt;li&gt;var 分区：用于存放系统日志，各种应用的日志，当你系统 boom 了之后，还可以通过查看日志来分析 boom 原因，又或者日志填满了 var 分区，也不会影响主分区的空间。&lt;&#x2F;li&gt;\n&lt;&#x2F;ul&gt;\n&lt;hr &#x2F;&gt;\n&lt;p&gt;本次由于是安装在 Vmware 中，分一个主分区就好了。&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;bash\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-bash \&quot;&gt;&lt;code class=\&quot;language-bash\&quot; data-lang=\&quot;bash\&quot;&gt;&lt;span&gt;fdisk &#x2F;dev&#x2F;sdX &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 将 X 更换为你的磁盘\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;p&gt;使用 fdisk (&lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;wiki.archlinux.org&#x2F;index.php&#x2F;Fdisk_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)\&quot;&gt;教程&lt;&#x2F;a&gt;)一顿操作，最终得到你想要的分区结果。\n那么怎么查看是不是真的操作对了呢。&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;bash\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-bash \&quot;&gt;&lt;code class=\&quot;language-bash\&quot; data-lang=\&quot;bash\&quot;&gt;&lt;span&gt;lsblk &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 可以查看磁盘分区以及挂载信息\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;p&gt;接下来格式化分区就好了&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;bash\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-bash \&quot;&gt;&lt;code class=\&quot;language-bash\&quot; data-lang=\&quot;bash\&quot;&gt;&lt;span&gt;mkfs.ext4 &#x2F;dev&#x2F;sdX1 &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;#通常除了 Boot 分区和 Swap 分区需要特殊处理，其他分区都使用 ext4 文件系统。\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h2 id=\&quot;an-zhuang-1\&quot;&gt;安装&lt;&#x2F;h2&gt;\n&lt;h3 id=\&quot;geng-huan-jing-xiang\&quot;&gt;更换镜像&lt;&#x2F;h3&gt;\n&lt;p&gt;修改文件 &lt;code&gt;&#x2F;etc&#x2F;pacman.d&#x2F;mirrorlist&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;bash\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-bash \&quot;&gt;&lt;code class=\&quot;language-bash\&quot; data-lang=\&quot;bash\&quot;&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 这行代码可以快速选出所有中国镜像\n&lt;&#x2F;span&gt;&lt;span&gt;awk &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;&#x2F;^## China$&#x2F; {f=1} f==0 {next} &#x2F;^$&#x2F; {exit} {print substr($0, 2)}&amp;#39; &lt;&#x2F;span&gt;&lt;span&gt;\\\n&lt;&#x2F;span&gt;&lt;span&gt;    &#x2F;etc&#x2F;pacman.d&#x2F;mirrorlist.pacnew\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h3 id=\&quot;gua-zai-ci-pan\&quot;&gt;挂载磁盘&lt;&#x2F;h3&gt;\n&lt;pre data-lang=\&quot;bash\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-bash \&quot;&gt;&lt;code class=\&quot;language-bash\&quot; data-lang=\&quot;bash\&quot;&gt;&lt;span&gt;mount &#x2F;dev&#x2F;sdX1 &#x2F;mnt\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h3 id=\&quot;an-zhuang-xi-tong\&quot;&gt;安装系统&lt;&#x2F;h3&gt;\n&lt;pre data-lang=\&quot;bash\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-bash \&quot;&gt;&lt;code class=\&quot;language-bash\&quot; data-lang=\&quot;bash\&quot;&gt;&lt;span&gt;pacstrap &#x2F;mnt base base-devel vim zsh git &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 顺便安装一些常用工具\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h2 id=\&quot;pei-zhi\&quot;&gt;配置&lt;&#x2F;h2&gt;\n&lt;h3 id=\&quot;fstab\&quot;&gt;Fstab&lt;&#x2F;h3&gt;\n&lt;p&gt;Fstab 定义了存储设备和分区整合系统的方式。详情可见 &lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Fstab\&quot;&gt;Wiki&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;bash\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-bash \&quot;&gt;&lt;code class=\&quot;language-bash\&quot; data-lang=\&quot;bash\&quot;&gt;&lt;span&gt;genfstab&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt; -L&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;mnt &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;met&#x2F;etc&#x2F;fstab\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h3 id=\&quot;chroot\&quot;&gt;Chroot&lt;&#x2F;h3&gt;\n&lt;pre data-lang=\&quot;bash\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-bash \&quot;&gt;&lt;code class=\&quot;language-bash\&quot; data-lang=\&quot;bash\&quot;&gt;&lt;span&gt;arch-chroot &#x2F;mnt &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 使用 Arch Chroot 进入刚安装的白板系统\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h3 id=\&quot;shi-qu\&quot;&gt;时区&lt;&#x2F;h3&gt;\n&lt;pre data-lang=\&quot;bash\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-bash \&quot;&gt;&lt;code class=\&quot;language-bash\&quot; data-lang=\&quot;bash\&quot;&gt;&lt;span&gt;ln&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt; -sf&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;usr&#x2F;share&#x2F;zoneinfo&#x2F;Asia&#x2F;Shanghai &#x2F;etc&#x2F;localtime &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 设置时区为上海\n&lt;&#x2F;span&gt;&lt;span&gt;hwclock&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt; --systohc --utc &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#75715e;\&quot;&gt;# 同步时钟\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h3 id=\&quot;ben-di-hua\&quot;&gt;本地化&lt;&#x2F;h3&gt;\n&lt;p&gt;只使用英文 tty 避免报错的时候全是方块或者不能识别的的奇妙符号。&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;bash\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-bash \&quot;&gt;&lt;code class=\&quot;language-bash\&quot; data-lang=\&quot;bash\&quot;&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;echo &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;en_US.UTF-8 UTF-8&amp;#39; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;etc&#x2F;locale.gen\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;echo &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;zh_CN.UTF-8 UTF-8&amp;#39; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;etc&#x2F;locale.gen\n&lt;&#x2F;span&gt;&lt;span&gt;locale-gen\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;echo&lt;&#x2F;span&gt;&lt;span&gt; LANG=en_US.UTF-8 &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;etc&#x2F;locale.conf\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h3 id=\&quot;hostname\&quot;&gt;Hostname&lt;&#x2F;h3&gt;\n&lt;p&gt;设置主机名称\n要设置 &lt;code&gt;hostname&lt;&#x2F;code&gt;，将其添加 到 &lt;code&gt;&#x2F;etc&#x2F;hostname&lt;&#x2F;code&gt;,&lt;code&gt;myhostname&lt;&#x2F;code&gt; 是需要的主机名&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;bash\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-bash \&quot;&gt;&lt;code class=\&quot;language-bash\&quot; data-lang=\&quot;bash\&quot;&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;echo&lt;&#x2F;span&gt;&lt;span&gt; myhostname &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;etc&#x2F;hostname\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h3 id=\&quot;dhcp-fu-wu\&quot;&gt;Dhcp 服务&lt;&#x2F;h3&gt;\n&lt;p&gt;这个关系到装好之后能否&lt;strong&gt;上网&lt;&#x2F;strong&gt;，由于 Vmware 不需要无限  WiFi 什么的所以这里只有有限安装。\nWiFi 驱动安装见这里&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;bash\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-bash \&quot;&gt;&lt;code class=\&quot;language-bash\&quot; data-lang=\&quot;bash\&quot;&gt;&lt;span&gt;ip link &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 查看你的网卡\n&lt;&#x2F;span&gt;&lt;span&gt;systemctl enable dhcpd@ens33 &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# ens33 通常是你非 lo 的另外一个，可能与我的不一样。\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h3 id=\&quot;she-zhi-mi-ma\&quot;&gt;设置密码&lt;&#x2F;h3&gt;\n&lt;pre data-lang=\&quot;bash\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-bash \&quot;&gt;&lt;code class=\&quot;language-bash\&quot; data-lang=\&quot;bash\&quot;&gt;&lt;span&gt;passwd\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h3 id=\&quot;tian-jia-yong-hu\&quot;&gt;添加用户&lt;&#x2F;h3&gt;\n&lt;pre data-lang=\&quot;bash\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-bash \&quot;&gt;&lt;code class=\&quot;language-bash\&quot; data-lang=\&quot;bash\&quot;&gt;&lt;span&gt;useradd&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt; -m&lt;&#x2F;span&gt;&lt;span&gt; username &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 创建用户的同时创建 Home 目录\n&lt;&#x2F;span&gt;&lt;span&gt;passwd username &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 设置用户密码\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h3 id=\&quot;zhong-qi\&quot;&gt;重启&lt;&#x2F;h3&gt;\n&lt;pre data-lang=\&quot;bash\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-bash \&quot;&gt;&lt;code class=\&quot;language-bash\&quot; data-lang=\&quot;bash\&quot;&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;exit\n&lt;&#x2F;span&gt;&lt;span&gt;umount&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt; -R&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;mnt\n&lt;&#x2F;span&gt;&lt;span&gt;reboot\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;hr &#x2F;&gt;\n&lt;p&gt;那么系统安装就告一段落了，如果还是不理解可以看下面的这段视频。（配音很尴尬。。）\n&lt;embed height=\&quot;415\&quot; width=\&quot;544\&quot; quality=\&quot;high\&quot; allowfullscreen=\&quot;true\&quot; type=\&quot;application&#x2F;x-shockwave-flash\&quot; src=\&quot;&#x2F;&#x2F;static.hdslb.com&#x2F;miniloader.swf\&quot; flashvars=\&quot;aid=12933746&amp;page=1\&quot; pluginspage=\&quot;&#x2F;&#x2F;www.adobe.com&#x2F;shockwave&#x2F;download&#x2F;download.cgi?P1_Prod_Version=ShockwaveFlash\&quot;&gt;&lt;&#x2F;embed&gt;&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;wei-wan-dai-xu\&quot;&gt;未完待续&lt;&#x2F;h2&gt;\n&lt;p&gt;下次将会更新 ArchLinux 安装的 GUI 部分&lt;&#x2F;p&gt;\n&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;archlinux-install-guide&#x2F;&quot;,&quot;slug&quot;:&quot;archlinux-install-guide&quot;,&quot;ancestors&quot;:[&quot;_index.cn.md&quot;,&quot;posts&#x2F;_index.cn.md&quot;],&quot;title&quot;:&quot;小白也能上手的 ArchLinux 安装教程&quot;,&quot;description&quot;:null,&quot;updated&quot;:null,&quot;date&quot;:&quot;2017-10-05T14:24:21+08:00&quot;,&quot;year&quot;:2017,&quot;month&quot;:10,&quot;day&quot;:5,&quot;taxonomies&quot;:{&quot;tags&quot;:[&quot;ArchLinux&quot;]},&quot;extra&quot;:{},&quot;path&quot;:&quot;&#x2F;cn&#x2F;posts&#x2F;archlinux-install-guide&#x2F;&quot;,&quot;components&quot;:[&quot;cn&quot;,&quot;posts&quot;,&quot;archlinux-install-guide&quot;],&quot;summary&quot;:&quot;&lt;p&gt;ArchLinux 是一个非常符合我个人哲学的操作系统，深得与我一样的大部分 Pythonista 之心(不好意思代表你们了)。&lt;&#x2F;p&gt;\n&quot;,&quot;toc&quot;:[{&quot;level&quot;:2,&quot;id&quot;:&quot;shi-yao-shi-archlinux&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;archlinux-install-guide&#x2F;#shi-yao-shi-archlinux&quot;,&quot;title&quot;:&quot;什么是 ArchLinux&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;yuan-ze&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;archlinux-install-guide&#x2F;#yuan-ze&quot;,&quot;title&quot;:&quot;原则&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;jian-ji&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;archlinux-install-guide&#x2F;#jian-ji&quot;,&quot;title&quot;:&quot;简洁&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;xian-dai&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;archlinux-install-guide&#x2F;#xian-dai&quot;,&quot;title&quot;:&quot;现代&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;shi-yong&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;archlinux-install-guide&#x2F;#shi-yong&quot;,&quot;title&quot;:&quot;实用&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;yi-yong-hu-wei-zhong-xin&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;archlinux-install-guide&#x2F;#yi-yong-hu-wei-zhong-xin&quot;,&quot;title&quot;:&quot;以用户为中心&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;an-zhuang&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;archlinux-install-guide&#x2F;#an-zhuang&quot;,&quot;title&quot;:&quot;安装&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;mu-de&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;archlinux-install-guide&#x2F;#mu-de&quot;,&quot;title&quot;:&quot;目的&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;zhun-bei-jie-duan&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;archlinux-install-guide&#x2F;#zhun-bei-jie-duan&quot;,&quot;title&quot;:&quot;准备阶段&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;chuang-jian-xu-ni-ji&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;archlinux-install-guide&#x2F;#chuang-jian-xu-ni-ji&quot;,&quot;title&quot;:&quot;创建虚拟机&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;wang-luo&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;archlinux-install-guide&#x2F;#wang-luo&quot;,&quot;title&quot;:&quot;网络&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;fen-qu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;archlinux-install-guide&#x2F;#fen-qu&quot;,&quot;title&quot;:&quot;分区&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;an-zhuang-1&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;archlinux-install-guide&#x2F;#an-zhuang-1&quot;,&quot;title&quot;:&quot;安装&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;geng-huan-jing-xiang&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;archlinux-install-guide&#x2F;#geng-huan-jing-xiang&quot;,&quot;title&quot;:&quot;更换镜像&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;gua-zai-ci-pan&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;archlinux-install-guide&#x2F;#gua-zai-ci-pan&quot;,&quot;title&quot;:&quot;挂载磁盘&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;an-zhuang-xi-tong&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;archlinux-install-guide&#x2F;#an-zhuang-xi-tong&quot;,&quot;title&quot;:&quot;安装系统&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;pei-zhi&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;archlinux-install-guide&#x2F;#pei-zhi&quot;,&quot;title&quot;:&quot;配置&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;fstab&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;archlinux-install-guide&#x2F;#fstab&quot;,&quot;title&quot;:&quot;Fstab&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;chroot&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;archlinux-install-guide&#x2F;#chroot&quot;,&quot;title&quot;:&quot;Chroot&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;shi-qu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;archlinux-install-guide&#x2F;#shi-qu&quot;,&quot;title&quot;:&quot;时区&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;ben-di-hua&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;archlinux-install-guide&#x2F;#ben-di-hua&quot;,&quot;title&quot;:&quot;本地化&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;hostname&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;archlinux-install-guide&#x2F;#hostname&quot;,&quot;title&quot;:&quot;Hostname&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;dhcp-fu-wu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;archlinux-install-guide&#x2F;#dhcp-fu-wu&quot;,&quot;title&quot;:&quot;Dhcp 服务&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;she-zhi-mi-ma&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;archlinux-install-guide&#x2F;#she-zhi-mi-ma&quot;,&quot;title&quot;:&quot;设置密码&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;tian-jia-yong-hu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;archlinux-install-guide&#x2F;#tian-jia-yong-hu&quot;,&quot;title&quot;:&quot;添加用户&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;zhong-qi&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;archlinux-install-guide&#x2F;#zhong-qi&quot;,&quot;title&quot;:&quot;重启&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;wei-wan-dai-xu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;archlinux-install-guide&#x2F;#wei-wan-dai-xu&quot;,&quot;title&quot;:&quot;未完待续&quot;,&quot;children&quot;:[]}],&quot;word_count&quot;:2074,&quot;reading_time&quot;:11,&quot;assets&quot;:[],&quot;draft&quot;:false,&quot;lang&quot;:&quot;cn&quot;,&quot;lower&quot;:null,&quot;higher&quot;:null,&quot;translations&quot;:[{&quot;lang&quot;:&quot;cn&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;archlinux-install-guide&#x2F;&quot;,&quot;title&quot;:&quot;小白也能上手的 ArchLinux 安装教程&quot;,&quot;path&quot;:&quot;&#x2F;home&#x2F;runner&#x2F;work&#x2F;blog&#x2F;blog&#x2F;content&#x2F;posts&#x2F;archlinux-install-guide.cn.md&quot;}],&quot;backlinks&quot;:[]},&quot;translations&quot;:[{&quot;lang&quot;:&quot;cn&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;&quot;,&quot;title&quot;:&quot;基本线性数据结构的Python实现&quot;,&quot;path&quot;:&quot;&#x2F;home&#x2F;runner&#x2F;work&#x2F;blog&#x2F;blog&#x2F;content&#x2F;posts&#x2F;liner-in-python.cn.md&quot;}],&quot;backlinks&quot;:[]},{&quot;relative_path&quot;:&quot;posts&#x2F;archlinux-install-guide.cn.md&quot;,&quot;content&quot;:&quot;&lt;p&gt;ArchLinux 是一个非常符合我个人哲学的操作系统，深得与我一样的大部分 Pythonista 之心(不好意思代表你们了)。&lt;&#x2F;p&gt;\n&lt;span id=\&quot;continue-reading\&quot;&gt;&lt;&#x2F;span&gt;&lt;h2 id=\&quot;shi-yao-shi-archlinux\&quot;&gt;什么是 ArchLinux&lt;&#x2F;h2&gt;\n&lt;blockquote&gt;\n&lt;h2 id=\&quot;yuan-ze\&quot;&gt;原则&lt;&#x2F;h2&gt;\n&lt;p&gt;以下核心原则构成了我们通常所指的 Arch 之道，或者说 Arch 的哲学，或许最好的结词是 Keep It Simple, Stupid（对应中文为“保持简单，且一目了然”）。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;jian-ji\&quot;&gt;简洁&lt;&#x2F;h3&gt;\n&lt;p&gt;Arch Linux 将简洁定义为：&lt;strong&gt;避免任何不必要的添加、修改和复杂增加&lt;&#x2F;strong&gt;。它提供的软件都来自原始开发者(&lt;a rel=\&quot;nofollow\&quot; title=\&quot;wikipedia:Upstream (software development)\&quot; href=\&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Upstream_(software_development)\&quot;&gt;上游&lt;&#x2F;a&gt;)，仅进行和发行版(下游)相关的最小修改。&lt;&#x2F;p&gt;\n&lt;ul&gt;\n&lt;li&gt;不包含上游不愿意接受的补丁。绝大部分 Arch 下游补丁都已经被上游接受，下一个正式版本里会包含。&lt;&#x2F;li&gt;\n&lt;li&gt;配置文件也是来自上游，仅包含发行版必须的调整，比如特殊的文件系统路径变动。Arch 不会在安装一个软件包后就自动启动服务。&lt;&#x2F;li&gt;\n&lt;li&gt;软件包通常都和一个上游项目直接对应。仅在极少数情况下才会拆分软件包。&lt;&#x2F;li&gt;\n&lt;li&gt;官方不支持图形化配置界面，建议用户使用命令行或文本编辑器修改设置。&lt;&#x2F;li&gt;\n&lt;&#x2F;ul&gt;\n&lt;h3 id=\&quot;xian-dai\&quot;&gt;现代&lt;&#x2F;h3&gt;\n&lt;p&gt;Arch尽全力保持软件处于最新的稳定版本，只要不出现系统软件包破损，都尽量用最新版本。Arch采用&lt;a rel=\&quot;nofollow\&quot; title=\&quot;wikipedia:Rolling release\&quot; href=\&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Rolling_release\&quot;&gt;滚动升级&lt;&#x2F;a&gt;策略，安装之后可以持续升级。\nArch向GNU&#x2F;Linux用户提供了许多新特性，包括&lt;a rel=\&quot;nofollow\&quot; title=\&quot;Systemd (简体中文)\&quot; href=\&quot;https:&#x2F;&#x2F;wiki.archlinux.org&#x2F;index.php&#x2F;Systemd_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)\&quot;&gt;systemd&lt;&#x2F;a&gt;初始化系统、现代的&lt;a rel=\&quot;nofollow\&quot; title=\&quot;File systems\&quot; href=\&quot;https:&#x2F;&#x2F;wiki.archlinux.org&#x2F;index.php&#x2F;File_systems\&quot;&gt;文件系统&lt;&#x2F;a&gt;、LVM2&#x2F;EVMS、软件磁盘阵列（软RAID）、udev支持、initcpio（附带mkinitcpio）以及最新的内核。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;shi-yong\&quot;&gt;实用&lt;&#x2F;h3&gt;\n&lt;p&gt;Arch 注重实用性，避免意识形态之争。最终的设计决策都是由开发者的共识决定。开发者依赖基于事实的技术分析和讨论，避免政治因素，不会被流行观点左右。\nArch Linux 的仓库中包含大量的软件包和编译脚本。用户可以按照需要进行自由选择。仓库中既提供了开源、自由的软件，也提供了闭源软件。&lt;strong&gt;实用性大于意识形态&lt;&#x2F;strong&gt;.&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;yi-yong-hu-wei-zhong-xin\&quot;&gt;以用户为中心&lt;&#x2F;h3&gt;\n&lt;p&gt;许多 Linux 发行版都试图变得更“用户友好”，Arch Linux 则一直是，永远会是“以用户为中心”。此发行版是为了满足贡献者的需求，而不是为了吸引尽可能多的用户。Arch 适用于乐于自己动手的用户，他们愿意花时间阅读文档，解决自己的问题。\n报告问题、完善 Wiki 社区文档、为其它用户提供技术支持。&lt;a rel=\&quot;nofollow\&quot; title=\&quot;Arch User Repository (简体中文)\&quot; href=\&quot;https:&#x2F;&#x2F;wiki.archlinux.org&#x2F;index.php&#x2F;Arch_User_Repository_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)\&quot;&gt;Arch 用户仓库&lt;&#x2F;a&gt; 收集用户贡献的软件包。Arch 开发者都是志愿者，活跃的贡献者很快就能称为开发人员。\nArch 鼓励每一个用户 &lt;a rel=\&quot;nofollow\&quot; title=\&quot;Getting involved\&quot; href=\&quot;https:&#x2F;&#x2F;wiki.archlinux.org&#x2F;index.php&#x2F;Getting_involved\&quot;&gt;参与&lt;&#x2F;a&gt; 和贡献，报告和帮助修复 &lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;bugs.archlinux.org&#x2F;\&quot;&gt;bugs&lt;&#x2F;a&gt;，提供软件包补丁和参加核心 &lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;projects.archlinux.org&#x2F;\&quot;&gt;项目&lt;&#x2F;a&gt;：Arch 开发者都是志愿者，通过持续的贡献成为团队的一员。&lt;em&gt;Archers&lt;&#x2F;em&gt; 可以自行贡献软件包到 &lt;a rel=\&quot;nofollow\&quot; title=\&quot;Arch User Repository\&quot; href=\&quot;https:&#x2F;&#x2F;wiki.archlinux.org&#x2F;index.php&#x2F;Arch_User_Repository\&quot;&gt;Arch User Repository&lt;&#x2F;a&gt;, 提升 &lt;a rel=\&quot;nofollow\&quot; title=\&quot;Main page\&quot; href=\&quot;https:&#x2F;&#x2F;wiki.archlinux.org&#x2F;index.php&#x2F;Main_page\&quot;&gt;ArchWiki 文档质量&lt;&#x2F;a&gt;, 在 &lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;bbs.archlinux.org&#x2F;\&quot;&gt;论坛&lt;&#x2F;a&gt;, &lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;mailman.archlinux.org&#x2F;mailman&#x2F;listinfo&#x2F;\&quot;&gt;邮件列表&lt;&#x2F;a&gt;, &lt;a rel=\&quot;nofollow\&quot; title=\&quot;IRC channels\&quot; href=\&quot;https:&#x2F;&#x2F;wiki.archlinux.org&#x2F;index.php&#x2F;IRC_channels\&quot;&gt;IRC&lt;&#x2F;a&gt; 中给其它用户提供技术支持. Arch Linux 是全球很多用户的选择，已经有很多 &lt;a rel=\&quot;nofollow\&quot; title=\&quot;International communities\&quot; href=\&quot;https:&#x2F;&#x2F;wiki.archlinux.org&#x2F;index.php&#x2F;International_communities\&quot;&gt;国际社区&lt;&#x2F;a&gt;提供帮助和文档翻译。\n—— 以上内容来自 &lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;wiki.archlinux.org&#x2F;index.php&#x2F;Arch_Linux_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)\&quot;&gt;《 ArchWiki 简介》&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;\n&lt;&#x2F;blockquote&gt;\n&lt;h2 id=\&quot;an-zhuang\&quot;&gt;安装&lt;&#x2F;h2&gt;\n&lt;h3 id=\&quot;mu-de\&quot;&gt;目的&lt;&#x2F;h3&gt;\n&lt;p&gt;在 VMware 的环境下安装 ArchLinux，以及 GUI。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;zhun-bei-jie-duan\&quot;&gt;准备阶段&lt;&#x2F;h3&gt;\n&lt;p&gt;在开始安装系统之前，我们需要准备这么几样东西。&lt;&#x2F;p&gt;\n&lt;ul&gt;\n&lt;li&gt;Vmware&lt;&#x2F;li&gt;\n&lt;li&gt;&lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;mirror.tuna.tsinghua.edu.cn&#x2F;archlinux&#x2F;iso&#x2F;\&quot;&gt;ArchLinux 镜像&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;\n&lt;li&gt;&lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;wiki.archlinux.org&#x2F;index.php&#x2F;Installation_guide_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)\&quot;&gt;官方安装向导&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;\n&lt;li&gt;(可选) 安装小视频 &lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;www.bilibili.com&#x2F;video&#x2F;av12933746&#x2F;\&quot;&gt;Bilibili&lt;&#x2F;a&gt; &lt;&#x2F;li&gt;\n&lt;&#x2F;ul&gt;\n&lt;h3 id=\&quot;chuang-jian-xu-ni-ji\&quot;&gt;创建虚拟机&lt;&#x2F;h3&gt;\n&lt;p&gt;创建一个 Linux 虚拟机，选择其他 Linux x64 3.6内核，分配至少 1G 内存以及 8G 存储空间。\n将刚才下好的镜像添加到光驱中。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;wang-luo\&quot;&gt;网络&lt;&#x2F;h3&gt;\n&lt;p&gt;等待系统进入命令行后，首先检测网络。&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;bash\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-bash \&quot;&gt;&lt;code class=\&quot;language-bash\&quot; data-lang=\&quot;bash\&quot;&gt;&lt;span&gt;ping www.baidu.com\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 可以换为你自己所在地区稳定链接的网站\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;p&gt;然后更新系统时间。&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;bash\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-bash \&quot;&gt;&lt;code class=\&quot;language-bash\&quot; data-lang=\&quot;bash\&quot;&gt;&lt;span&gt;timedatectl set-ntp true\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h3 id=\&quot;fen-qu\&quot;&gt;分区&lt;&#x2F;h3&gt;\n&lt;p&gt;通常 Linux 系统需要一个引导 Boot 分区，一个主分区，一个 Swap 分区，一个 home (用户)分区，(可选) var 分区。\n顺便讲讲各个分区的作用:&lt;&#x2F;p&gt;\n&lt;ul&gt;\n&lt;li&gt;引导分区：用于引导系统启动，加载内核能操作，独立分区可以方便多系统引导等。&lt;&#x2F;li&gt;\n&lt;li&gt;主分区：系统文件主要存放的地方，一般操作都需要 root 权限。&lt;&#x2F;li&gt;\n&lt;li&gt;Swap 分区：类似于虚拟内存，如果个人电脑内存足够大 8G 以上，不需要虚拟内存，如果多于 4G 小于 8G ，和内存保持 1 比 1 ，如果小于 4G ，和内存保持 1 比 2 较好。当然也可以不使用此分区。&lt;&#x2F;li&gt;\n&lt;li&gt;home 分区：通常用于存储个人数据，单独分出来主要是为了。\n&lt;ol&gt;\n&lt;li&gt;系统重装或崩溃后，不会影响该分区的数据。&lt;&#x2F;li&gt;\n&lt;li&gt;长时间使用必然会有很多零碎文件产生，可能导致 ArchLinux 无法滚动更新等等。&lt;&#x2F;li&gt;\n&lt;li&gt;分区单独加密。&lt;&#x2F;li&gt;\n&lt;&#x2F;ol&gt;\n&lt;&#x2F;li&gt;\n&lt;li&gt;var 分区：用于存放系统日志，各种应用的日志，当你系统 boom 了之后，还可以通过查看日志来分析 boom 原因，又或者日志填满了 var 分区，也不会影响主分区的空间。&lt;&#x2F;li&gt;\n&lt;&#x2F;ul&gt;\n&lt;hr &#x2F;&gt;\n&lt;p&gt;本次由于是安装在 Vmware 中，分一个主分区就好了。&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;bash\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-bash \&quot;&gt;&lt;code class=\&quot;language-bash\&quot; data-lang=\&quot;bash\&quot;&gt;&lt;span&gt;fdisk &#x2F;dev&#x2F;sdX &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 将 X 更换为你的磁盘\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;p&gt;使用 fdisk (&lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;wiki.archlinux.org&#x2F;index.php&#x2F;Fdisk_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)\&quot;&gt;教程&lt;&#x2F;a&gt;)一顿操作，最终得到你想要的分区结果。\n那么怎么查看是不是真的操作对了呢。&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;bash\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-bash \&quot;&gt;&lt;code class=\&quot;language-bash\&quot; data-lang=\&quot;bash\&quot;&gt;&lt;span&gt;lsblk &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 可以查看磁盘分区以及挂载信息\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;p&gt;接下来格式化分区就好了&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;bash\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-bash \&quot;&gt;&lt;code class=\&quot;language-bash\&quot; data-lang=\&quot;bash\&quot;&gt;&lt;span&gt;mkfs.ext4 &#x2F;dev&#x2F;sdX1 &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;#通常除了 Boot 分区和 Swap 分区需要特殊处理，其他分区都使用 ext4 文件系统。\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h2 id=\&quot;an-zhuang-1\&quot;&gt;安装&lt;&#x2F;h2&gt;\n&lt;h3 id=\&quot;geng-huan-jing-xiang\&quot;&gt;更换镜像&lt;&#x2F;h3&gt;\n&lt;p&gt;修改文件 &lt;code&gt;&#x2F;etc&#x2F;pacman.d&#x2F;mirrorlist&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;bash\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-bash \&quot;&gt;&lt;code class=\&quot;language-bash\&quot; data-lang=\&quot;bash\&quot;&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 这行代码可以快速选出所有中国镜像\n&lt;&#x2F;span&gt;&lt;span&gt;awk &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;&#x2F;^## China$&#x2F; {f=1} f==0 {next} &#x2F;^$&#x2F; {exit} {print substr($0, 2)}&amp;#39; &lt;&#x2F;span&gt;&lt;span&gt;\\\n&lt;&#x2F;span&gt;&lt;span&gt;    &#x2F;etc&#x2F;pacman.d&#x2F;mirrorlist.pacnew\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h3 id=\&quot;gua-zai-ci-pan\&quot;&gt;挂载磁盘&lt;&#x2F;h3&gt;\n&lt;pre data-lang=\&quot;bash\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-bash \&quot;&gt;&lt;code class=\&quot;language-bash\&quot; data-lang=\&quot;bash\&quot;&gt;&lt;span&gt;mount &#x2F;dev&#x2F;sdX1 &#x2F;mnt\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h3 id=\&quot;an-zhuang-xi-tong\&quot;&gt;安装系统&lt;&#x2F;h3&gt;\n&lt;pre data-lang=\&quot;bash\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-bash \&quot;&gt;&lt;code class=\&quot;language-bash\&quot; data-lang=\&quot;bash\&quot;&gt;&lt;span&gt;pacstrap &#x2F;mnt base base-devel vim zsh git &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 顺便安装一些常用工具\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h2 id=\&quot;pei-zhi\&quot;&gt;配置&lt;&#x2F;h2&gt;\n&lt;h3 id=\&quot;fstab\&quot;&gt;Fstab&lt;&#x2F;h3&gt;\n&lt;p&gt;Fstab 定义了存储设备和分区整合系统的方式。详情可见 &lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Fstab\&quot;&gt;Wiki&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;bash\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-bash \&quot;&gt;&lt;code class=\&quot;language-bash\&quot; data-lang=\&quot;bash\&quot;&gt;&lt;span&gt;genfstab&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt; -L&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;mnt &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;met&#x2F;etc&#x2F;fstab\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h3 id=\&quot;chroot\&quot;&gt;Chroot&lt;&#x2F;h3&gt;\n&lt;pre data-lang=\&quot;bash\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-bash \&quot;&gt;&lt;code class=\&quot;language-bash\&quot; data-lang=\&quot;bash\&quot;&gt;&lt;span&gt;arch-chroot &#x2F;mnt &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 使用 Arch Chroot 进入刚安装的白板系统\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h3 id=\&quot;shi-qu\&quot;&gt;时区&lt;&#x2F;h3&gt;\n&lt;pre data-lang=\&quot;bash\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-bash \&quot;&gt;&lt;code class=\&quot;language-bash\&quot; data-lang=\&quot;bash\&quot;&gt;&lt;span&gt;ln&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt; -sf&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;usr&#x2F;share&#x2F;zoneinfo&#x2F;Asia&#x2F;Shanghai &#x2F;etc&#x2F;localtime &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 设置时区为上海\n&lt;&#x2F;span&gt;&lt;span&gt;hwclock&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt; --systohc --utc &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#75715e;\&quot;&gt;# 同步时钟\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h3 id=\&quot;ben-di-hua\&quot;&gt;本地化&lt;&#x2F;h3&gt;\n&lt;p&gt;只使用英文 tty 避免报错的时候全是方块或者不能识别的的奇妙符号。&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;bash\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-bash \&quot;&gt;&lt;code class=\&quot;language-bash\&quot; data-lang=\&quot;bash\&quot;&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;echo &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;en_US.UTF-8 UTF-8&amp;#39; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;etc&#x2F;locale.gen\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;echo &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;zh_CN.UTF-8 UTF-8&amp;#39; &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;etc&#x2F;locale.gen\n&lt;&#x2F;span&gt;&lt;span&gt;locale-gen\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;echo&lt;&#x2F;span&gt;&lt;span&gt; LANG=en_US.UTF-8 &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;etc&#x2F;locale.conf\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h3 id=\&quot;hostname\&quot;&gt;Hostname&lt;&#x2F;h3&gt;\n&lt;p&gt;设置主机名称\n要设置 &lt;code&gt;hostname&lt;&#x2F;code&gt;，将其添加 到 &lt;code&gt;&#x2F;etc&#x2F;hostname&lt;&#x2F;code&gt;,&lt;code&gt;myhostname&lt;&#x2F;code&gt; 是需要的主机名&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;bash\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-bash \&quot;&gt;&lt;code class=\&quot;language-bash\&quot; data-lang=\&quot;bash\&quot;&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;echo&lt;&#x2F;span&gt;&lt;span&gt; myhostname &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;etc&#x2F;hostname\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h3 id=\&quot;dhcp-fu-wu\&quot;&gt;Dhcp 服务&lt;&#x2F;h3&gt;\n&lt;p&gt;这个关系到装好之后能否&lt;strong&gt;上网&lt;&#x2F;strong&gt;，由于 Vmware 不需要无限  WiFi 什么的所以这里只有有限安装。\nWiFi 驱动安装见这里&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;bash\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-bash \&quot;&gt;&lt;code class=\&quot;language-bash\&quot; data-lang=\&quot;bash\&quot;&gt;&lt;span&gt;ip link &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 查看你的网卡\n&lt;&#x2F;span&gt;&lt;span&gt;systemctl enable dhcpd@ens33 &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# ens33 通常是你非 lo 的另外一个，可能与我的不一样。\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h3 id=\&quot;she-zhi-mi-ma\&quot;&gt;设置密码&lt;&#x2F;h3&gt;\n&lt;pre data-lang=\&quot;bash\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-bash \&quot;&gt;&lt;code class=\&quot;language-bash\&quot; data-lang=\&quot;bash\&quot;&gt;&lt;span&gt;passwd\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h3 id=\&quot;tian-jia-yong-hu\&quot;&gt;添加用户&lt;&#x2F;h3&gt;\n&lt;pre data-lang=\&quot;bash\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-bash \&quot;&gt;&lt;code class=\&quot;language-bash\&quot; data-lang=\&quot;bash\&quot;&gt;&lt;span&gt;useradd&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt; -m&lt;&#x2F;span&gt;&lt;span&gt; username &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 创建用户的同时创建 Home 目录\n&lt;&#x2F;span&gt;&lt;span&gt;passwd username &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 设置用户密码\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h3 id=\&quot;zhong-qi\&quot;&gt;重启&lt;&#x2F;h3&gt;\n&lt;pre data-lang=\&quot;bash\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-bash \&quot;&gt;&lt;code class=\&quot;language-bash\&quot; data-lang=\&quot;bash\&quot;&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;exit\n&lt;&#x2F;span&gt;&lt;span&gt;umount&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt; -R&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;mnt\n&lt;&#x2F;span&gt;&lt;span&gt;reboot\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;hr &#x2F;&gt;\n&lt;p&gt;那么系统安装就告一段落了，如果还是不理解可以看下面的这段视频。（配音很尴尬。。）\n&lt;embed height=\&quot;415\&quot; width=\&quot;544\&quot; quality=\&quot;high\&quot; allowfullscreen=\&quot;true\&quot; type=\&quot;application&#x2F;x-shockwave-flash\&quot; src=\&quot;&#x2F;&#x2F;static.hdslb.com&#x2F;miniloader.swf\&quot; flashvars=\&quot;aid=12933746&amp;page=1\&quot; pluginspage=\&quot;&#x2F;&#x2F;www.adobe.com&#x2F;shockwave&#x2F;download&#x2F;download.cgi?P1_Prod_Version=ShockwaveFlash\&quot;&gt;&lt;&#x2F;embed&gt;&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;wei-wan-dai-xu\&quot;&gt;未完待续&lt;&#x2F;h2&gt;\n&lt;p&gt;下次将会更新 ArchLinux 安装的 GUI 部分&lt;&#x2F;p&gt;\n&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;archlinux-install-guide&#x2F;&quot;,&quot;slug&quot;:&quot;archlinux-install-guide&quot;,&quot;ancestors&quot;:[&quot;_index.cn.md&quot;,&quot;posts&#x2F;_index.cn.md&quot;],&quot;title&quot;:&quot;小白也能上手的 ArchLinux 安装教程&quot;,&quot;description&quot;:null,&quot;updated&quot;:null,&quot;date&quot;:&quot;2017-10-05T14:24:21+08:00&quot;,&quot;year&quot;:2017,&quot;month&quot;:10,&quot;day&quot;:5,&quot;taxonomies&quot;:{&quot;tags&quot;:[&quot;ArchLinux&quot;]},&quot;extra&quot;:{},&quot;path&quot;:&quot;&#x2F;cn&#x2F;posts&#x2F;archlinux-install-guide&#x2F;&quot;,&quot;components&quot;:[&quot;cn&quot;,&quot;posts&quot;,&quot;archlinux-install-guide&quot;],&quot;summary&quot;:&quot;&lt;p&gt;ArchLinux 是一个非常符合我个人哲学的操作系统，深得与我一样的大部分 Pythonista 之心(不好意思代表你们了)。&lt;&#x2F;p&gt;\n&quot;,&quot;toc&quot;:[{&quot;level&quot;:2,&quot;id&quot;:&quot;shi-yao-shi-archlinux&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;archlinux-install-guide&#x2F;#shi-yao-shi-archlinux&quot;,&quot;title&quot;:&quot;什么是 ArchLinux&quot;,&quot;children&quot;:[]},{&quot;level&quot;:2,&quot;id&quot;:&quot;yuan-ze&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;archlinux-install-guide&#x2F;#yuan-ze&quot;,&quot;title&quot;:&quot;原则&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;jian-ji&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;archlinux-install-guide&#x2F;#jian-ji&quot;,&quot;title&quot;:&quot;简洁&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;xian-dai&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;archlinux-install-guide&#x2F;#xian-dai&quot;,&quot;title&quot;:&quot;现代&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;shi-yong&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;archlinux-install-guide&#x2F;#shi-yong&quot;,&quot;title&quot;:&quot;实用&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;yi-yong-hu-wei-zhong-xin&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;archlinux-install-guide&#x2F;#yi-yong-hu-wei-zhong-xin&quot;,&quot;title&quot;:&quot;以用户为中心&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;an-zhuang&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;archlinux-install-guide&#x2F;#an-zhuang&quot;,&quot;title&quot;:&quot;安装&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;mu-de&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;archlinux-install-guide&#x2F;#mu-de&quot;,&quot;title&quot;:&quot;目的&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;zhun-bei-jie-duan&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;archlinux-install-guide&#x2F;#zhun-bei-jie-duan&quot;,&quot;title&quot;:&quot;准备阶段&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;chuang-jian-xu-ni-ji&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;archlinux-install-guide&#x2F;#chuang-jian-xu-ni-ji&quot;,&quot;title&quot;:&quot;创建虚拟机&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;wang-luo&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;archlinux-install-guide&#x2F;#wang-luo&quot;,&quot;title&quot;:&quot;网络&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;fen-qu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;archlinux-install-guide&#x2F;#fen-qu&quot;,&quot;title&quot;:&quot;分区&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;an-zhuang-1&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;archlinux-install-guide&#x2F;#an-zhuang-1&quot;,&quot;title&quot;:&quot;安装&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;geng-huan-jing-xiang&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;archlinux-install-guide&#x2F;#geng-huan-jing-xiang&quot;,&quot;title&quot;:&quot;更换镜像&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;gua-zai-ci-pan&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;archlinux-install-guide&#x2F;#gua-zai-ci-pan&quot;,&quot;title&quot;:&quot;挂载磁盘&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;an-zhuang-xi-tong&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;archlinux-install-guide&#x2F;#an-zhuang-xi-tong&quot;,&quot;title&quot;:&quot;安装系统&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;pei-zhi&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;archlinux-install-guide&#x2F;#pei-zhi&quot;,&quot;title&quot;:&quot;配置&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;fstab&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;archlinux-install-guide&#x2F;#fstab&quot;,&quot;title&quot;:&quot;Fstab&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;chroot&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;archlinux-install-guide&#x2F;#chroot&quot;,&quot;title&quot;:&quot;Chroot&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;shi-qu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;archlinux-install-guide&#x2F;#shi-qu&quot;,&quot;title&quot;:&quot;时区&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;ben-di-hua&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;archlinux-install-guide&#x2F;#ben-di-hua&quot;,&quot;title&quot;:&quot;本地化&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;hostname&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;archlinux-install-guide&#x2F;#hostname&quot;,&quot;title&quot;:&quot;Hostname&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;dhcp-fu-wu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;archlinux-install-guide&#x2F;#dhcp-fu-wu&quot;,&quot;title&quot;:&quot;Dhcp 服务&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;she-zhi-mi-ma&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;archlinux-install-guide&#x2F;#she-zhi-mi-ma&quot;,&quot;title&quot;:&quot;设置密码&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;tian-jia-yong-hu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;archlinux-install-guide&#x2F;#tian-jia-yong-hu&quot;,&quot;title&quot;:&quot;添加用户&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;zhong-qi&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;archlinux-install-guide&#x2F;#zhong-qi&quot;,&quot;title&quot;:&quot;重启&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;wei-wan-dai-xu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;archlinux-install-guide&#x2F;#wei-wan-dai-xu&quot;,&quot;title&quot;:&quot;未完待续&quot;,&quot;children&quot;:[]}],&quot;word_count&quot;:2074,&quot;reading_time&quot;:11,&quot;assets&quot;:[],&quot;draft&quot;:false,&quot;lang&quot;:&quot;cn&quot;,&quot;lower&quot;:{&quot;relative_path&quot;:&quot;posts&#x2F;liner-in-python.cn.md&quot;,&quot;content&quot;:&quot;&lt;p&gt;本篇主要实现四种数据结构，分别是数组、堆栈、队列、链表。我不知道我为什么要用Python来干C干的事情，总之Python就是可以干。&lt;&#x2F;p&gt;\n&lt;span id=\&quot;continue-reading\&quot;&gt;&lt;&#x2F;span&gt;\n&lt;p&gt;&lt;strong&gt;所有概念性内容可以在参考资料中找到出处&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;shu-zu\&quot;&gt;数组&lt;&#x2F;h2&gt;\n&lt;h3 id=\&quot;shu-zu-de-she-ji\&quot;&gt;数组的设计&lt;&#x2F;h3&gt;\n&lt;p&gt;数组设计之初是在形式上依赖内存分配而成的，所以必须在使用前预先请求空间。这使得数组有以下特性：&lt;&#x2F;p&gt;\n&lt;ol&gt;\n&lt;li&gt;请求空间以后大小固定，不能再改变（数据溢出问题）；&lt;&#x2F;li&gt;\n&lt;li&gt;在内存中有空间连续性的表现，中间不会存在其他程序需要调用的数据，为此数组的专用内存空间；&lt;&#x2F;li&gt;\n&lt;li&gt;在旧式编程语言中（如有中阶语言之称的C），程序不会对数组的操作做下界判断，也就有潜在的越界操作的风险（比如会把数据写在运行中程序需要调用的核心部分的内存上）。&lt;&#x2F;li&gt;\n&lt;&#x2F;ol&gt;\n&lt;p&gt;因为简单数组强烈倚赖电脑硬件之内存，所以不适用于现代的程序设计。欲使用可变大小、硬件无关性的数据类型，Java等程序设计语言均提供了更高级的数据结构：ArrayList、Vector等动态数组。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;pythonde-shu-zu\&quot;&gt;Python的数组&lt;&#x2F;h3&gt;\n&lt;p&gt;从严格意义上来说:Python里没有严格意义上的数组。\n&lt;code&gt;List&lt;&#x2F;code&gt;可以说是Python里的数组，下面这段代码是CPython的实现&lt;code&gt;List&lt;&#x2F;code&gt;的结构体:&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;c\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-c \&quot;&gt;&lt;code class=\&quot;language-c\&quot; data-lang=\&quot;c\&quot;&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;typedef struct &lt;&#x2F;span&gt;&lt;span&gt;{\n&lt;&#x2F;span&gt;&lt;span&gt;    PyObject_VAR_HEAD\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;&#x2F;* Vector of pointers to list elements.  list[0] is ob_item[0], etc. *&#x2F;\n&lt;&#x2F;span&gt;&lt;span&gt;    PyObject &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;**&lt;&#x2F;span&gt;&lt;span&gt;ob_item;\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;&#x2F;* ob_item contains space for &amp;#39;allocated&amp;#39; elements.  The number\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;     * currently in use is ob_size.\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;     * Invariants:\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;     *     0 &amp;lt;= ob_size &amp;lt;= allocated\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;     *     len(list) == ob_size\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;     *     ob_item == NULL implies ob_size == allocated == 0\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;     * list.sort() temporarily sets allocated to -1 to detect mutations.\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;     *\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;     * Items must normally not be NULL, except during construction when\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;     * the list is not yet visible outside the function that builds it.\n&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;     *&#x2F;\n&lt;&#x2F;span&gt;&lt;span&gt;    Py_ssize_t allocated;\n&lt;&#x2F;span&gt;&lt;span&gt;} PyListObject;\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;p&gt;取自&lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;github.com&#x2F;python&#x2F;cpython&#x2F;blob&#x2F;f24143b25e4f83368ff6182bebe14f885073015c&#x2F;Include&#x2F;listobject.h\&quot;&gt;CPython-Github&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;\n&lt;p&gt;还有一篇文章讲&lt;a rel=\&quot;nofollow\&quot; href=\&quot;http:&#x2F;&#x2F;www.laurentluce.com&#x2F;posts&#x2F;python-list-implementation&#x2F;\&quot;&gt;&lt;code&gt;List&lt;&#x2F;code&gt;实现&lt;&#x2F;a&gt;,感兴趣的朋友可以去看看。&lt;a rel=\&quot;nofollow\&quot; href=\&quot;http:&#x2F;&#x2F;python.jobbole.com&#x2F;82549&#x2F;\&quot;&gt;中文版&lt;&#x2F;a&gt;。&lt;&#x2F;p&gt;\n&lt;p&gt;当然，在Python里它就是数组。\n后面的一些结构也将用&lt;code&gt;List&lt;&#x2F;code&gt;来实现。&lt;&#x2F;p&gt;\n&lt;h2 id=\&quot;dui-zhan\&quot;&gt;堆栈&lt;&#x2F;h2&gt;\n&lt;h3 id=\&quot;shi-yao-shi-dui-zhan\&quot;&gt;什么是堆栈&lt;&#x2F;h3&gt;\n&lt;p&gt;堆栈（英语：stack），也可直接称栈，在计算机科学中，是一种特殊的串列形式的数据结构，它的特殊之处在于只能允许在链接串列或阵列的一端（称为堆叠顶端指标，英语：top）进行加入资料（英语：push）和输出资料（英语：pop）的运算。另外堆叠也可以用一维阵列或连结串列的形式来完成。堆叠的另外一个相对的操作方式称为伫列。&lt;&#x2F;p&gt;\n&lt;p&gt;由于堆叠数据结构只允许在一端进行操作，因而按照后进先出（LIFO, Last In First Out）的原理运作。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;te-dian\&quot;&gt;特点&lt;&#x2F;h3&gt;\n&lt;ul&gt;\n&lt;li&gt;先入后出，后入先出。&lt;&#x2F;li&gt;\n&lt;li&gt;除头尾节点之外，每个元素有一个前驱，一个后继。&lt;&#x2F;li&gt;\n&lt;&#x2F;ul&gt;\n&lt;h3 id=\&quot;cao-zuo\&quot;&gt;操作&lt;&#x2F;h3&gt;\n&lt;p&gt;从原理可知，对堆栈(栈)可以进行的操作有:&lt;&#x2F;p&gt;\n&lt;ul&gt;\n&lt;li&gt;top():获取堆栈顶端对象&lt;&#x2F;li&gt;\n&lt;li&gt;push():向栈里添加一个对象&lt;&#x2F;li&gt;\n&lt;li&gt;pop():从栈里推出一个对象&lt;&#x2F;li&gt;\n&lt;&#x2F;ul&gt;\n&lt;h3 id=\&quot;shi-xian\&quot;&gt;实现&lt;&#x2F;h3&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=\&quot;text-decoration:underline;color:#a6e22e;\&quot;&gt;my_stack&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;text-decoration:underline;font-style:italic;color:#a6e22e;\&quot;&gt;object&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;__init__&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;value&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;        self.value &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;value\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 前驱\n&lt;&#x2F;span&gt;&lt;span&gt;        self.before &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 后继\n&lt;&#x2F;span&gt;&lt;span&gt;        self.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;__str__&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;str&lt;&#x2F;span&gt;&lt;span&gt;(self.value)\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;top&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;stack&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;isinstance&lt;&#x2F;span&gt;&lt;span&gt;(stack, my_stack):\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;stack.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;is not &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;top(stack.behind)\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;stack\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;push&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;stack&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;ele&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    push_ele &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;my_stack(ele)\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;isinstance&lt;&#x2F;span&gt;&lt;span&gt;(stack, my_stack):\n&lt;&#x2F;span&gt;&lt;span&gt;      stack_top &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;top(stack)\n&lt;&#x2F;span&gt;&lt;span&gt;      push_ele.before &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;stack_top\n&lt;&#x2F;span&gt;&lt;span&gt;      push_ele.before.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;push_ele\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;      &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;raise &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;Exception&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;不要乱扔东西进来好么&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;pop&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;stack&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;isinstance&lt;&#x2F;span&gt;&lt;span&gt;(stack, my_stack):\n&lt;&#x2F;span&gt;&lt;span&gt;        stack_top &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;top(stack)\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;stack_top.before &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;is not &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            stack_top.before.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None\n&lt;&#x2F;span&gt;&lt;span&gt;            stack_top.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;stack_top\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;已经是栈顶了&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h2 id=\&quot;dui-lie\&quot;&gt;队列&lt;&#x2F;h2&gt;\n&lt;h3 id=\&quot;shi-yao-shi-dui-lie\&quot;&gt;什么是队列&lt;&#x2F;h3&gt;\n&lt;p&gt;和堆栈类似，唯一的区别是队列只能在队头进行出队操作，所以队列是是先进先出（FIFO, First-In-First-Out）的线性表&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;te-dian-1\&quot;&gt;特点&lt;&#x2F;h3&gt;\n&lt;ul&gt;\n&lt;li&gt;先入先出,后入后出&lt;&#x2F;li&gt;\n&lt;li&gt;除尾节点外,每个节点有一个后继&lt;&#x2F;li&gt;\n&lt;li&gt;（可选）除头节点外,每个节点有一个前驱&lt;&#x2F;li&gt;\n&lt;&#x2F;ul&gt;\n&lt;h3 id=\&quot;cao-zuo-1\&quot;&gt;操作&lt;&#x2F;h3&gt;\n&lt;ul&gt;\n&lt;li&gt;push（）:入队&lt;&#x2F;li&gt;\n&lt;li&gt;pop（）：出队&lt;&#x2F;li&gt;\n&lt;&#x2F;ul&gt;\n&lt;h3 id=\&quot;shi-xian-1\&quot;&gt;实现&lt;&#x2F;h3&gt;\n&lt;h4 id=\&quot;pu-tong-dui-lie\&quot;&gt;普通队列&lt;&#x2F;h4&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=\&quot;text-decoration:underline;color:#a6e22e;\&quot;&gt;MyQueue&lt;&#x2F;span&gt;&lt;span&gt;():\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;__init__&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;value&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;        self.value &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;value\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 前驱\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# self.before = None\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 后继\n&lt;&#x2F;span&gt;&lt;span&gt;        self.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;__str__&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;self.value &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;is not &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;str&lt;&#x2F;span&gt;&lt;span&gt;(self.value)\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;None&amp;#39;\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;create_queue&lt;&#x2F;span&gt;&lt;span&gt;():\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;&amp;quot;&amp;quot;&amp;quot;仅有队头&amp;quot;&amp;quot;&amp;quot;\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;MyQueue()\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;last&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;queue&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;isinstance&lt;&#x2F;span&gt;&lt;span&gt;(queue, MyQueue):\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;queue.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;is not &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;last(queue.behind)\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;queue\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;push&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;queue&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;ele&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;isinstance&lt;&#x2F;span&gt;&lt;span&gt;(queue, MyQueue):\n&lt;&#x2F;span&gt;&lt;span&gt;        last_queue &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;last(queue)\n&lt;&#x2F;span&gt;&lt;span&gt;        new_queue &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;MyQueue(ele)\n&lt;&#x2F;span&gt;&lt;span&gt;        last_queue.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;new_queue\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;pop&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;queue&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;queue.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;is not &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;        get_queue &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;queue.behind\n&lt;&#x2F;span&gt;&lt;span&gt;        queue.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;queue.behind.behind\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;get_queue\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;队列里已经没有元素了&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;print_queue&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;queue&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(queue)\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;queue.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;is not &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;        print_queue(queue.behind)\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;h2 id=\&quot;lian-biao\&quot;&gt;链表&lt;&#x2F;h2&gt;\n&lt;h3 id=\&quot;shi-yao-shi-lian-biao\&quot;&gt;什么是链表&lt;&#x2F;h3&gt;\n&lt;p&gt;链表（Linked list）是一种常见的基础数据结构，是一种线性表，但是并不会按线性的顺序存储数据，而是在每一个节点里存到下一个节点的指针(Pointer)。由于不必须按顺序存储，链表在插入的时候可以达到O(1)的复杂度，比另一种线性表顺序表快得多，但是查找一个节点或者访问特定编号的节点则需要O(n)的时间，而顺序表相应的时间复杂度分别是O(logn)和O(1)。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;te-dian-2\&quot;&gt;特点&lt;&#x2F;h3&gt;\n&lt;p&gt;使用链表结构可以克服数组链表需要预先知道数据大小的缺点，链表结构可以充分利用计算机内存空间，实现灵活的内存动态管理。但是链表失去了数组随机读取的优点，同时链表由于增加了结点的指针域，空间开销比较大。&lt;&#x2F;p&gt;\n&lt;h3 id=\&quot;cao-zuo-2\&quot;&gt;操作&lt;&#x2F;h3&gt;\n&lt;ul&gt;\n&lt;li&gt;init():初始化&lt;&#x2F;li&gt;\n&lt;li&gt;insert(): 插入&lt;&#x2F;li&gt;\n&lt;li&gt;trave(): 遍历&lt;&#x2F;li&gt;\n&lt;li&gt;delete(): 删除&lt;&#x2F;li&gt;\n&lt;li&gt;find(): 查找&lt;&#x2F;li&gt;\n&lt;&#x2F;ul&gt;\n&lt;h3 id=\&quot;shi-xian-2\&quot;&gt;实现&lt;&#x2F;h3&gt;\n&lt;p&gt;此处仅实现双向列表&lt;&#x2F;p&gt;\n&lt;pre data-lang=\&quot;python\&quot; style=\&quot;background-color:#272822;color:#f8f8f2;\&quot; class=\&quot;language-python \&quot;&gt;&lt;code class=\&quot;language-python\&quot; data-lang=\&quot;python\&quot;&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=\&quot;text-decoration:underline;color:#a6e22e;\&quot;&gt;LinkedList&lt;&#x2F;span&gt;&lt;span&gt;():\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;__init__&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;value&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;        self.value &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;value\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 前驱\n&lt;&#x2F;span&gt;&lt;span&gt;        self.before &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#75715e;\&quot;&gt;# 后继\n&lt;&#x2F;span&gt;&lt;span&gt;        self.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;__str__&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;self.value &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;is not &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;str&lt;&#x2F;span&gt;&lt;span&gt;(self.value)\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;None&amp;#39;\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;init&lt;&#x2F;span&gt;&lt;span&gt;():\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;LinkedList(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#e6db74;\&quot;&gt;&amp;#39;HEAD&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;delete&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;linked_list&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;isinstance&lt;&#x2F;span&gt;&lt;span&gt;(linked_list, LinkedList):\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;linked_list.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;is not &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            delete(linked_list.behind)\n&lt;&#x2F;span&gt;&lt;span&gt;            linked_list.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None\n&lt;&#x2F;span&gt;&lt;span&gt;            linked_list.before &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None\n&lt;&#x2F;span&gt;&lt;span&gt;        linked_list.value &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;insert&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;linked_list&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;index&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;node&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    node &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;LinkedList(node)\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;isinstance&lt;&#x2F;span&gt;&lt;span&gt;(linked_list, LinkedList):\n&lt;&#x2F;span&gt;&lt;span&gt;        i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;while &lt;&#x2F;span&gt;&lt;span&gt;linked_list.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;is not &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;== &lt;&#x2F;span&gt;&lt;span&gt;index:\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;break\n&lt;&#x2F;span&gt;&lt;span&gt;            i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1\n&lt;&#x2F;span&gt;&lt;span&gt;            linked_list &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;linked_list.behind\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;linked_list.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;is not &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            node.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;linked_list.behind\n&lt;&#x2F;span&gt;&lt;span&gt;            linked_list.behind.before &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;node\n&lt;&#x2F;span&gt;&lt;span&gt;        node.before, linked_list.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;linked_list, node\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;remove&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;linked_list&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;index&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;isinstance&lt;&#x2F;span&gt;&lt;span&gt;(linked_list, LinkedList):\n&lt;&#x2F;span&gt;&lt;span&gt;        i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;while &lt;&#x2F;span&gt;&lt;span&gt;linked_list.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;is not &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;== &lt;&#x2F;span&gt;&lt;span&gt;index:\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;break\n&lt;&#x2F;span&gt;&lt;span&gt;            i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1\n&lt;&#x2F;span&gt;&lt;span&gt;            linked_list &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;linked_list.behind\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;linked_list.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;is not &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            linked_list.behind.before &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;linked_list.before\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;linked_list.before &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;is not &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            linked_list.before.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;linked_list.behind\n&lt;&#x2F;span&gt;&lt;span&gt;        linked_list.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None\n&lt;&#x2F;span&gt;&lt;span&gt;        linked_list.before &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None\n&lt;&#x2F;span&gt;&lt;span&gt;        linked_list.value &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;trave&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;linked_list&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;isinstance&lt;&#x2F;span&gt;&lt;span&gt;(linked_list, LinkedList):\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(linked_list)\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;linked_list.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;is not &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            trave(linked_list.behind)\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span&gt;\n&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#f92672;\&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#a6e22e;\&quot;&gt;find&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;linked_list&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#fd971f;\&quot;&gt;index&lt;&#x2F;span&gt;&lt;span&gt;):\n&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#66d9ef;\&quot;&gt;isinstance&lt;&#x2F;span&gt;&lt;span&gt;(linked_list, LinkedList):\n&lt;&#x2F;span&gt;&lt;span&gt;        i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;0\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;while &lt;&#x2F;span&gt;&lt;span&gt;linked_list.behind &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;is not &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;None&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;== &lt;&#x2F;span&gt;&lt;span&gt;index:\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;linked_list\n&lt;&#x2F;span&gt;&lt;span&gt;            i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;+= &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;1\n&lt;&#x2F;span&gt;&lt;span&gt;            linked_list &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;linked_list.behind\n&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;&amp;lt; &lt;&#x2F;span&gt;&lt;span&gt;index:\n&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;raise &lt;&#x2F;span&gt;&lt;span style=\&quot;font-style:italic;color:#66d9ef;\&quot;&gt;Exception&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=\&quot;color:#ae81ff;\&quot;&gt;404&lt;&#x2F;span&gt;&lt;span&gt;)\n&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=\&quot;color:#f92672;\&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;linked_list\n&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;\n&lt;p&gt;以上所有源代码均在&lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;github.com&#x2F;EINDEX&#x2F;Python-algorithm\&quot;&gt;Github&lt;&#x2F;a&gt;共享，欢迎提出issue或PR，希望与大家共同进步!&lt;&#x2F;p&gt;\n&lt;hr &#x2F;&gt;\n&lt;h2 id=\&quot;can-kao-zi-liao\&quot;&gt;参考资料&lt;&#x2F;h2&gt;\n&lt;p&gt;Wiki百科: &lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;zh.wikipedia.org&#x2F;wiki&#x2F;%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84\&quot;&gt;数据结构&lt;&#x2F;a&gt;、&lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;zh.wikipedia.org&#x2F;wiki&#x2F;%E6%95%B0%E7%BB%84\&quot;&gt;数组&lt;&#x2F;a&gt;、&lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;zh.wikipedia.org&#x2F;wiki&#x2F;%E9%98%9F%E5%88%97\&quot;&gt;队列&lt;&#x2F;a&gt;、&lt;a rel=\&quot;nofollow\&quot; href=\&quot;https:&#x2F;&#x2F;zh.wikipedia.org&#x2F;wiki&#x2F;%E9%93%BE%E8%A1%A8#.E5.88.9D.E5.A7.8B.E5.8C.96.E5.92.8C.E9.94.80.E6.AF.81\&quot;&gt;链表&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;\n&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;&quot;,&quot;slug&quot;:&quot;liner-in-python&quot;,&quot;ancestors&quot;:[&quot;_index.cn.md&quot;,&quot;posts&#x2F;_index.cn.md&quot;],&quot;title&quot;:&quot;基本线性数据结构的Python实现&quot;,&quot;description&quot;:null,&quot;updated&quot;:null,&quot;date&quot;:&quot;2017-10-05T14:33:39+08:00&quot;,&quot;year&quot;:2017,&quot;month&quot;:10,&quot;day&quot;:5,&quot;taxonomies&quot;:{&quot;tags&quot;:[&quot;Python&quot;,&quot;Data structure&quot;,&quot;Linear&quot;],&quot;series&quot;:[&quot;algorithm&quot;]},&quot;extra&quot;:{},&quot;path&quot;:&quot;&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;&quot;,&quot;components&quot;:[&quot;cn&quot;,&quot;posts&quot;,&quot;liner-in-python&quot;],&quot;summary&quot;:&quot;&lt;p&gt;本篇主要实现四种数据结构，分别是数组、堆栈、队列、链表。我不知道我为什么要用Python来干C干的事情，总之Python就是可以干。&lt;&#x2F;p&gt;\n&quot;,&quot;toc&quot;:[{&quot;level&quot;:2,&quot;id&quot;:&quot;shu-zu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;#shu-zu&quot;,&quot;title&quot;:&quot;数组&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;shu-zu-de-she-ji&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;#shu-zu-de-she-ji&quot;,&quot;title&quot;:&quot;数组的设计&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;pythonde-shu-zu&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;#pythonde-shu-zu&quot;,&quot;title&quot;:&quot;Python的数组&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;dui-zhan&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;#dui-zhan&quot;,&quot;title&quot;:&quot;堆栈&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;shi-yao-shi-dui-zhan&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;#shi-yao-shi-dui-zhan&quot;,&quot;title&quot;:&quot;什么是堆栈&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;te-dian&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;#te-dian&quot;,&quot;title&quot;:&quot;特点&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;cao-zuo&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;#cao-zuo&quot;,&quot;title&quot;:&quot;操作&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;shi-xian&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;#shi-xian&quot;,&quot;title&quot;:&quot;实现&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;dui-lie&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;#dui-lie&quot;,&quot;title&quot;:&quot;队列&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;shi-yao-shi-dui-lie&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;#shi-yao-shi-dui-lie&quot;,&quot;title&quot;:&quot;什么是队列&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;te-dian-1&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;#te-dian-1&quot;,&quot;title&quot;:&quot;特点&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;cao-zuo-1&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;#cao-zuo-1&quot;,&quot;title&quot;:&quot;操作&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;shi-xian-1&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;#shi-xian-1&quot;,&quot;title&quot;:&quot;实现&quot;,&quot;children&quot;:[{&quot;level&quot;:4,&quot;id&quot;:&quot;pu-tong-dui-lie&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;#pu-tong-dui-lie&quot;,&quot;title&quot;:&quot;普通队列&quot;,&quot;children&quot;:[]}]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;lian-biao&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;#lian-biao&quot;,&quot;title&quot;:&quot;链表&quot;,&quot;children&quot;:[{&quot;level&quot;:3,&quot;id&quot;:&quot;shi-yao-shi-lian-biao&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;#shi-yao-shi-lian-biao&quot;,&quot;title&quot;:&quot;什么是链表&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;te-dian-2&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;#te-dian-2&quot;,&quot;title&quot;:&quot;特点&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;cao-zuo-2&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;#cao-zuo-2&quot;,&quot;title&quot;:&quot;操作&quot;,&quot;children&quot;:[]},{&quot;level&quot;:3,&quot;id&quot;:&quot;shi-xian-2&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;#shi-xian-2&quot;,&quot;title&quot;:&quot;实现&quot;,&quot;children&quot;:[]}]},{&quot;level&quot;:2,&quot;id&quot;:&quot;can-kao-zi-liao&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;#can-kao-zi-liao&quot;,&quot;title&quot;:&quot;参考资料&quot;,&quot;children&quot;:[]}],&quot;word_count&quot;:1661,&quot;reading_time&quot;:9,&quot;assets&quot;:[],&quot;draft&quot;:false,&quot;lang&quot;:&quot;cn&quot;,&quot;lower&quot;:null,&quot;higher&quot;:null,&quot;translations&quot;:[{&quot;lang&quot;:&quot;cn&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;&quot;,&quot;title&quot;:&quot;基本线性数据结构的Python实现&quot;,&quot;path&quot;:&quot;&#x2F;home&#x2F;runner&#x2F;work&#x2F;blog&#x2F;blog&#x2F;content&#x2F;posts&#x2F;liner-in-python.cn.md&quot;}],&quot;backlinks&quot;:[]},&quot;higher&quot;:null,&quot;translations&quot;:[{&quot;lang&quot;:&quot;cn&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;archlinux-install-guide&#x2F;&quot;,&quot;title&quot;:&quot;小白也能上手的 ArchLinux 安装教程&quot;,&quot;path&quot;:&quot;&#x2F;home&#x2F;runner&#x2F;work&#x2F;blog&#x2F;blog&#x2F;content&#x2F;posts&#x2F;archlinux-install-guide.cn.md&quot;}],&quot;backlinks&quot;:[]}],&quot;subsections&quot;:[],&quot;translations&quot;:[{&quot;lang&quot;:&quot;en&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;posts&#x2F;&quot;,&quot;title&quot;:&quot;Posts&quot;,&quot;path&quot;:&quot;&#x2F;home&#x2F;runner&#x2F;work&#x2F;blog&#x2F;blog&#x2F;content&#x2F;posts&#x2F;_index.md&quot;},{&quot;lang&quot;:&quot;cn&quot;,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;&quot;,&quot;title&quot;:&quot;Posts&quot;,&quot;path&quot;:&quot;&#x2F;home&#x2F;runner&#x2F;work&#x2F;blog&#x2F;blog&#x2F;content&#x2F;posts&#x2F;_index.cn.md&quot;}],&quot;backlinks&quot;:[]}

  <ul class="posts">
    
    <li>
    <article class="h-entry">
        
<section class="header">
  <section class="title-area">
    
      
      
      
      <a class="series p-category" href="https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;series&#x2F;blog-enhance-plan&#x2F;">Blog Enhance Plan</a>
    
    <h1 class="title p-name">
    <a class="u-url" href="https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;webmentions&#x2F;">加入 Webmentions 社区: 新手指导</a>
    </h1>
  </section>
  <section class="meta-area">
    <p class="p-summary" style="display: none;">了解如何加入 Webmentions 社区，提高你的博客与其他网站及其用户的互动性和参与度。</p>
  
    <span><iconify-icon icon="ant-design:calendar-outlined"></iconify-icon>&nbsp;<time class="dt-published">2022-11-06</time>&nbsp;</span>
  
    <span><iconify-icon icon="bx:time-five"></iconify-icon>&nbsp;6 mins</span>  
    <span style="display:none"><iconify-icon icon="mdi:eye-outline"></iconify-icon>&nbsp;<span id="pv"></span>&nbsp;views</span>
  </section>
</section>

        <div class="p-author h-card" style="display: none;">
    <img class="u-logo u-photo" src="https://eindex.me/images/avatar.png">
    <a class="p-nickname p-name u-url" href="https://eindex.me">EINDEX</a>
    <p class="p-note">My goal is make happy.</p>
</div>
        <section class="main">
            <blockquote>
<p>本文通过 DeepL 翻译自 <a href="https://eindex.me/posts/webmentions/">Joining the Webmentions Community: A Beginner's Guide</a></p>
</blockquote>
<p>最近我看到了<a rel="nofollow" href="https://www.owenyoung.com/en/blog/indieweb/">Now, I'm in IndieWeb?</a>，了解到了 Webmentions。我发现这个概念非常有趣，于是决定加入我的博客的 Webmentions 社区。</p>

            <p><a class="-mx-3 font-sm" href="https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;webmentions&#x2F;#continue-reading">Read more →</a></p>
        </section>
    </article>
</li>
    
    <li>
    <article class="h-entry">
        
<section class="header">
  <section class="title-area">
    
    <h1 class="title p-name">
    <a class="u-url" href="https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;my-homelab-introduce&#x2F;">My HomeLab</a>
    </h1>
  </section>
  <section class="meta-area">
    <p class="p-summary" style="display: none;">&lt;p&gt;这篇文章将会介绍一下我的 HomeLab。&lt;&#x2F;p&gt;
&lt;p&gt;为什么会建设 HomeLab，它给我带来了什么价值？以及为什么是现在的结构，解决了什么问题。&lt;&#x2F;p&gt;
</p>
  
    <span><iconify-icon icon="ant-design:calendar-outlined"></iconify-icon>&nbsp;<time class="dt-published">2022-05-15</time>&nbsp;</span>
  
    <span><iconify-icon icon="bx:time-five"></iconify-icon>&nbsp;8 mins</span>  
    <span style="display:none"><iconify-icon icon="mdi:eye-outline"></iconify-icon>&nbsp;<span id="pv"></span>&nbsp;views</span>
  </section>
</section>

        <div class="p-author h-card" style="display: none;">
    <img class="u-logo u-photo" src="https://eindex.me/images/avatar.png">
    <a class="p-nickname p-name u-url" href="https://eindex.me">EINDEX</a>
    <p class="p-note">My goal is make happy.</p>
</div>
        <section class="main">
            <p>这篇文章将会介绍一下我的 HomeLab。</p>
<p>为什么会建设 HomeLab，它给我带来了什么价值？以及为什么是现在的结构，解决了什么问题。</p>

            <p><a class="-mx-3 font-sm" href="https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;my-homelab-introduce&#x2F;#continue-reading">Read more →</a></p>
        </section>
    </article>
</li>
    
    <li>
    <article class="h-entry">
        
<section class="header">
  <section class="title-area">
    
    <h1 class="title p-name">
    <a class="u-url" href="https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;introspection&#x2F;">反躬自问</a>
    </h1>
  </section>
  <section class="meta-area">
    <p class="p-summary" style="display: none;">&lt;h2 id=&quot;yuan-qi&quot;&gt;缘起&lt;&#x2F;h2&gt;
&lt;p&gt;事情还得从一次因防疫政策变化导致的“特殊”出差说起。&lt;&#x2F;p&gt;
&lt;p&gt;人在远离舒适圈的时候，总会经历种种困难与不适，噪音、拥挤、打卡、隔离、被缩短的工期、不合理的政策……都让“出差”成为了一项挑战，而“疫情”和“三年第一次出差”，这两重因素的叠加，更让我对这次出差中将面临的未知感到恐惧，这种恐惧甚至大于好奇。&lt;&#x2F;p&gt;
&lt;p&gt;下面我会尝试用“自我问答”的方式，记录这次出差的体验与感想。&lt;&#x2F;p&gt;
</p>
  
    <span><iconify-icon icon="ant-design:calendar-outlined"></iconify-icon>&nbsp;<time class="dt-published">2022-05-02</time>&nbsp;</span>
  
    <span><iconify-icon icon="bx:time-five"></iconify-icon>&nbsp;9 mins</span>  
    <span style="display:none"><iconify-icon icon="mdi:eye-outline"></iconify-icon>&nbsp;<span id="pv"></span>&nbsp;views</span>
  </section>
</section>

        <div class="p-author h-card" style="display: none;">
    <img class="u-logo u-photo" src="https://eindex.me/images/avatar.png">
    <a class="p-nickname p-name u-url" href="https://eindex.me">EINDEX</a>
    <p class="p-note">My goal is make happy.</p>
</div>
        <section class="main">
            <h2 id="yuan-qi">缘起</h2>
<p>事情还得从一次因防疫政策变化导致的“特殊”出差说起。</p>
<p>人在远离舒适圈的时候，总会经历种种困难与不适，噪音、拥挤、打卡、隔离、被缩短的工期、不合理的政策……都让“出差”成为了一项挑战，而“疫情”和“三年第一次出差”，这两重因素的叠加，更让我对这次出差中将面临的未知感到恐惧，这种恐惧甚至大于好奇。</p>
<p>下面我会尝试用“自我问答”的方式，记录这次出差的体验与感想。</p>

            <p><a class="-mx-3 font-sm" href="https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;introspection&#x2F;#continue-reading">Read more →</a></p>
        </section>
    </article>
</li>
    
    <li>
    <article class="h-entry">
        
<section class="header">
  <section class="title-area">
    
    <h1 class="title p-name">
    <a class="u-url" href="https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;2021-ending&#x2F;">2021 Ending</a>
    </h1>
  </section>
  <section class="meta-area">
    <p class="p-summary" style="display: none;">&lt;p&gt;2021年就要过去了，分享一下我今年都干了些什么事请。
下面会分为几个维度来说。&lt;&#x2F;p&gt;
&lt;h2 id=&quot;zhi-ye&quot;&gt;职业&lt;&#x2F;h2&gt;
&lt;p&gt;今年无缝转职成了安全从业人员，学习到了很多 DevSecOps 的知识，同时了解到安全不仅仅是技术开发，有时候流程安全能比应用安全起到更多更大的作用。这里也要感谢一下我的领导们。&lt;&#x2F;p&gt;
</p>
  
    <span><iconify-icon icon="ant-design:calendar-outlined"></iconify-icon>&nbsp;<time class="dt-published">2021-12-29</time>&nbsp;</span>
  
    <span><iconify-icon icon="bx:time-five"></iconify-icon>&nbsp;7 mins</span>  
    <span style="display:none"><iconify-icon icon="mdi:eye-outline"></iconify-icon>&nbsp;<span id="pv"></span>&nbsp;views</span>
  </section>
</section>

        <div class="p-author h-card" style="display: none;">
    <img class="u-logo u-photo" src="https://eindex.me/images/avatar.png">
    <a class="p-nickname p-name u-url" href="https://eindex.me">EINDEX</a>
    <p class="p-note">My goal is make happy.</p>
</div>
        <section class="main">
            <p>2021年就要过去了，分享一下我今年都干了些什么事请。
下面会分为几个维度来说。</p>
<h2 id="zhi-ye">职业</h2>
<p>今年无缝转职成了安全从业人员，学习到了很多 DevSecOps 的知识，同时了解到安全不仅仅是技术开发，有时候流程安全能比应用安全起到更多更大的作用。这里也要感谢一下我的领导们。</p>

            <p><a class="-mx-3 font-sm" href="https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;2021-ending&#x2F;#continue-reading">Read more →</a></p>
        </section>
    </article>
</li>
    
    <li>
    <article class="h-entry">
        
<section class="header">
  <section class="title-area">
    
      
      
      
      <a class="series p-category" href="https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;series&#x2F;algorithm&#x2F;">Algorithm</a>
    
    <h1 class="title p-name">
    <a class="u-url" href="https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;beancount-introduce&#x2F;">复式记账工具 Beancount</a>
    </h1>
  </section>
  <section class="meta-area">
    <p class="p-summary" style="display: none;">&lt;p&gt;本文简单介绍一下复式记账和 Beancount 的使用方法。&lt;&#x2F;p&gt;
</p>
  
    <span><iconify-icon icon="ant-design:calendar-outlined"></iconify-icon>&nbsp;<time class="dt-published">2019-11-30</time>&nbsp;</span>
  
    <span><iconify-icon icon="bx:time-five"></iconify-icon>&nbsp;6 mins</span>  
    <span style="display:none"><iconify-icon icon="mdi:eye-outline"></iconify-icon>&nbsp;<span id="pv"></span>&nbsp;views</span>
  </section>
</section>

        <div class="p-author h-card" style="display: none;">
    <img class="u-logo u-photo" src="https://eindex.me/images/avatar.png">
    <a class="p-nickname p-name u-url" href="https://eindex.me">EINDEX</a>
    <p class="p-note">My goal is make happy.</p>
</div>
        <section class="main">
            <p>本文简单介绍一下复式记账和 Beancount 的使用方法。</p>

            <p><a class="-mx-3 font-sm" href="https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;beancount-introduce&#x2F;#continue-reading">Read more →</a></p>
        </section>
    </article>
</li>
    
    <li>
    <article class="h-entry">
        
<section class="header">
  <section class="title-area">
    
    <h1 class="title p-name">
    <a class="u-url" href="https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;one-hundred-line-async-crawler&#x2F;">一百行代码实现异步爬虫</a>
    </h1>
  </section>
  <section class="meta-area">
    <p class="p-summary" style="display: none;">&lt;p&gt;一个优雅的爬虫需要一下这些东西：&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;请求器&lt;&#x2F;li&gt;
&lt;li&gt;页面解析器&lt;&#x2F;li&gt;
&lt;li&gt;链接生成器&lt;&#x2F;li&gt;
&lt;li&gt;调度器&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
</p>
  
    <span><iconify-icon icon="ant-design:calendar-outlined"></iconify-icon>&nbsp;<time class="dt-published">2019-09-07</time>&nbsp;</span>
  
    <span><iconify-icon icon="bx:time-five"></iconify-icon>&nbsp;3 mins</span>  
    <span style="display:none"><iconify-icon icon="mdi:eye-outline"></iconify-icon>&nbsp;<span id="pv"></span>&nbsp;views</span>
  </section>
</section>

        <div class="p-author h-card" style="display: none;">
    <img class="u-logo u-photo" src="https://eindex.me/images/avatar.png">
    <a class="p-nickname p-name u-url" href="https://eindex.me">EINDEX</a>
    <p class="p-note">My goal is make happy.</p>
</div>
        <section class="main">
            <p>一个优雅的爬虫需要一下这些东西：</p>
<ul>
<li>请求器</li>
<li>页面解析器</li>
<li>链接生成器</li>
<li>调度器</li>
</ul>

            <p><a class="-mx-3 font-sm" href="https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;one-hundred-line-async-crawler&#x2F;#continue-reading">Read more →</a></p>
        </section>
    </article>
</li>
    
    <li>
    <article class="h-entry">
        
<section class="header">
  <section class="title-area">
    
    <h1 class="title p-name">
    <a class="u-url" href="https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;1984-after-reading&#x2F;">1984</a>
    </h1>
  </section>
  <section class="meta-area">
    <p class="p-summary" style="display: none;">&lt;p&gt;这本书看了很久了，下面这句话一直环绕在我脑中，始终不能忘记。&lt;&#x2F;p&gt;
&lt;blockquote&gt;
&lt;p&gt;“老大哥在看着你。”&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
</p>
  
    <span><iconify-icon icon="ant-design:calendar-outlined"></iconify-icon>&nbsp;<time class="dt-published">2019-09-02</time>&nbsp;</span>
  
    <span><iconify-icon icon="bx:time-five"></iconify-icon>&nbsp;4 mins</span>  
    <span style="display:none"><iconify-icon icon="mdi:eye-outline"></iconify-icon>&nbsp;<span id="pv"></span>&nbsp;views</span>
  </section>
</section>

        <div class="p-author h-card" style="display: none;">
    <img class="u-logo u-photo" src="https://eindex.me/images/avatar.png">
    <a class="p-nickname p-name u-url" href="https://eindex.me">EINDEX</a>
    <p class="p-note">My goal is make happy.</p>
</div>
        <section class="main">
            <p>这本书看了很久了，下面这句话一直环绕在我脑中，始终不能忘记。</p>
<blockquote>
<p>“老大哥在看着你。”</p>
</blockquote>

            <p><a class="-mx-3 font-sm" href="https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;1984-after-reading&#x2F;#continue-reading">Read more →</a></p>
        </section>
    </article>
</li>
    
    <li>
    <article class="h-entry">
        
<section class="header">
  <section class="title-area">
    
      
      
      
      <a class="series p-category" href="https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;series&#x2F;algorithm&#x2F;">Algorithm</a>
    
    <h1 class="title p-name">
    <a class="u-url" href="https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;inverted-index&#x2F;">倒排索引</a>
    </h1>
  </section>
  <section class="meta-area">
    <p class="p-summary" style="display: none;">&lt;p&gt;世界上最伟大的互联网产品,说是搜索引擎,绝对没有别的产品可以替代,尤其是伟大的先在市场占用率最高的搜索引擎,Google Search.&lt;&#x2F;p&gt;
&lt;p&gt;还有很多差一大截的,比如 Bing, Yahoo 和 YANDEX.&lt;&#x2F;p&gt;
</p>
  
    <span><iconify-icon icon="ant-design:calendar-outlined"></iconify-icon>&nbsp;<time class="dt-published">2019-08-27</time>&nbsp;</span>
  
    <span><iconify-icon icon="bx:time-five"></iconify-icon>&nbsp;5 mins</span>  
    <span style="display:none"><iconify-icon icon="mdi:eye-outline"></iconify-icon>&nbsp;<span id="pv"></span>&nbsp;views</span>
  </section>
</section>

        <div class="p-author h-card" style="display: none;">
    <img class="u-logo u-photo" src="https://eindex.me/images/avatar.png">
    <a class="p-nickname p-name u-url" href="https://eindex.me">EINDEX</a>
    <p class="p-note">My goal is make happy.</p>
</div>
        <section class="main">
            <p>世界上最伟大的互联网产品,说是搜索引擎,绝对没有别的产品可以替代,尤其是伟大的先在市场占用率最高的搜索引擎,Google Search.</p>
<p>还有很多差一大截的,比如 Bing, Yahoo 和 YANDEX.</p>

            <p><a class="-mx-3 font-sm" href="https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;inverted-index&#x2F;#continue-reading">Read more →</a></p>
        </section>
    </article>
</li>
    
    <li>
    <article class="h-entry">
        
<section class="header">
  <section class="title-area">
    
    <h1 class="title p-name">
    <a class="u-url" href="https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tornado-auto-etag&#x2F;">Tornado Auto Etag 机制</a>
    </h1>
  </section>
  <section class="meta-area">
    <p class="p-summary" style="display: none;">&lt;p&gt;为了研究缓存看了 tornado &lt;code&gt;web.py&lt;&#x2F;code&gt; 里的 &lt;code&gt;finish&lt;&#x2F;code&gt; 函数&lt;&#x2F;p&gt;
</p>
  
    <span><iconify-icon icon="ant-design:calendar-outlined"></iconify-icon>&nbsp;<time class="dt-published">2019-04-24</time>&nbsp;</span>
  
    <span><iconify-icon icon="bx:time-five"></iconify-icon>&nbsp;2 mins</span>  
    <span style="display:none"><iconify-icon icon="mdi:eye-outline"></iconify-icon>&nbsp;<span id="pv"></span>&nbsp;views</span>
  </section>
</section>

        <div class="p-author h-card" style="display: none;">
    <img class="u-logo u-photo" src="https://eindex.me/images/avatar.png">
    <a class="p-nickname p-name u-url" href="https://eindex.me">EINDEX</a>
    <p class="p-note">My goal is make happy.</p>
</div>
        <section class="main">
            <p>为了研究缓存看了 tornado <code>web.py</code> 里的 <code>finish</code> 函数</p>

            <p><a class="-mx-3 font-sm" href="https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tornado-auto-etag&#x2F;#continue-reading">Read more →</a></p>
        </section>
    </article>
</li>
    
    <li>
    <article class="h-entry">
        
<section class="header">
  <section class="title-area">
    
    <h1 class="title p-name">
    <a class="u-url" href="https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;pipenv-autoenv&#x2F;">Pipenv + Autoenv 更友善的工作环境</a>
    </h1>
  </section>
  <section class="meta-area">
    <p class="p-summary" style="display: none;">&lt;p&gt;Python 包管理一直都是一个问题，如今 3.6 推荐采用 Pipenv 出自 Requests 的大牛做所。配合上他写的 Autoenv 切换环境再也不是问题。&lt;&#x2F;p&gt;
</p>
  
    <span><iconify-icon icon="ant-design:calendar-outlined"></iconify-icon>&nbsp;<time class="dt-published">2018-09-05</time>&nbsp;</span>
  
    <span><iconify-icon icon="bx:time-five"></iconify-icon>&nbsp;2 mins</span>  
    <span style="display:none"><iconify-icon icon="mdi:eye-outline"></iconify-icon>&nbsp;<span id="pv"></span>&nbsp;views</span>
  </section>
</section>

        <div class="p-author h-card" style="display: none;">
    <img class="u-logo u-photo" src="https://eindex.me/images/avatar.png">
    <a class="p-nickname p-name u-url" href="https://eindex.me">EINDEX</a>
    <p class="p-note">My goal is make happy.</p>
</div>
        <section class="main">
            <p>Python 包管理一直都是一个问题，如今 3.6 推荐采用 Pipenv 出自 Requests 的大牛做所。配合上他写的 Autoenv 切换环境再也不是问题。</p>

            <p><a class="-mx-3 font-sm" href="https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;pipenv-autoenv&#x2F;#continue-reading">Read more →</a></p>
        </section>
    </article>
</li>
    
    <li>
    <article class="h-entry">
        
<section class="header">
  <section class="title-area">
    
      
      
      
      <a class="series p-category" href="https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;series&#x2F;algorithm&#x2F;">Algorithm</a>
    
    <h1 class="title p-name">
    <a class="u-url" href="https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;kmp&#x2F;">KMP 算法</a>
    </h1>
  </section>
  <section class="meta-area">
    <p class="p-summary" style="display: none;">&lt;blockquote&gt;
&lt;p&gt;在计算机科学中，Knuth-Morris-Pratt字符串查找算法（简称为KMP算法）可在一个主文本字符串S内查找一个词W的出现位置。此算法通过运用对这个词在不匹配时本身就包含足够的信息来确定下一个匹配将在哪里开始的发现，从而避免重新检查先前匹配的字符。&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
</p>
  
    <span><iconify-icon icon="ant-design:calendar-outlined"></iconify-icon>&nbsp;<time class="dt-published">2018-05-11</time>&nbsp;</span>
  
    <span><iconify-icon icon="bx:time-five"></iconify-icon>&nbsp;4 mins</span>  
    <span style="display:none"><iconify-icon icon="mdi:eye-outline"></iconify-icon>&nbsp;<span id="pv"></span>&nbsp;views</span>
  </section>
</section>

        <div class="p-author h-card" style="display: none;">
    <img class="u-logo u-photo" src="https://eindex.me/images/avatar.png">
    <a class="p-nickname p-name u-url" href="https://eindex.me">EINDEX</a>
    <p class="p-note">My goal is make happy.</p>
</div>
        <section class="main">
            <blockquote>
<p>在计算机科学中，Knuth-Morris-Pratt字符串查找算法（简称为KMP算法）可在一个主文本字符串S内查找一个词W的出现位置。此算法通过运用对这个词在不匹配时本身就包含足够的信息来确定下一个匹配将在哪里开始的发现，从而避免重新检查先前匹配的字符。</p>
</blockquote>

            <p><a class="-mx-3 font-sm" href="https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;kmp&#x2F;#continue-reading">Read more →</a></p>
        </section>
    </article>
</li>
    
    <li>
    <article class="h-entry">
        
<section class="header">
  <section class="title-area">
    
      
      
      
      <a class="series p-category" href="https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;series&#x2F;algorithm&#x2F;">Algorithm</a>
    
    <h1 class="title p-name">
    <a class="u-url" href="https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;">Tree in Python</a>
    </h1>
  </section>
  <section class="meta-area">
    <p class="p-summary" style="display: none;">&lt;p&gt;树是计算机科学中常用的数据结构之一,常见的地方有，Java 的继承树等。
还有一些基于树的特殊数据结构，比如二叉树，B 树，等等。&lt;&#x2F;p&gt;
&lt;p&gt;本篇会讲述一些关于简单关于树的操作。&lt;&#x2F;p&gt;
</p>
  
    <span><iconify-icon icon="ant-design:calendar-outlined"></iconify-icon>&nbsp;<time class="dt-published">2018-04-08</time>&nbsp;</span>
  
    <span><iconify-icon icon="bx:time-five"></iconify-icon>&nbsp;7 mins</span>  
    <span style="display:none"><iconify-icon icon="mdi:eye-outline"></iconify-icon>&nbsp;<span id="pv"></span>&nbsp;views</span>
  </section>
</section>

        <div class="p-author h-card" style="display: none;">
    <img class="u-logo u-photo" src="https://eindex.me/images/avatar.png">
    <a class="p-nickname p-name u-url" href="https://eindex.me">EINDEX</a>
    <p class="p-note">My goal is make happy.</p>
</div>
        <section class="main">
            <p>树是计算机科学中常用的数据结构之一,常见的地方有，Java 的继承树等。
还有一些基于树的特殊数据结构，比如二叉树，B 树，等等。</p>
<p>本篇会讲述一些关于简单关于树的操作。</p>

            <p><a class="-mx-3 font-sm" href="https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;tree-in-python&#x2F;#continue-reading">Read more →</a></p>
        </section>
    </article>
</li>
    
    <li>
    <article class="h-entry">
        
<section class="header">
  <section class="title-area">
    
    <h1 class="title p-name">
    <a class="u-url" href="https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;">基本排序算法的Python实现</a>
    </h1>
  </section>
  <section class="meta-area">
    <p class="p-summary" style="display: none;">&lt;p&gt;本篇主要实现九(八）大排序算法，分别是冒泡排序，插入排序，选择排序，希尔排序，归并排序，快速排序，堆排序,计数排序。希望大家回顾知识的时候也能从我的这篇文章得到帮助。&lt;&#x2F;p&gt;
</p>
  
    <span><iconify-icon icon="ant-design:calendar-outlined"></iconify-icon>&nbsp;<time class="dt-published">2017-10-05</time>&nbsp;</span>
  
    <span><iconify-icon icon="bx:time-five"></iconify-icon>&nbsp;16 mins</span>  
    <span style="display:none"><iconify-icon icon="mdi:eye-outline"></iconify-icon>&nbsp;<span id="pv"></span>&nbsp;views</span>
  </section>
</section>

        <div class="p-author h-card" style="display: none;">
    <img class="u-logo u-photo" src="https://eindex.me/images/avatar.png">
    <a class="p-nickname p-name u-url" href="https://eindex.me">EINDEX</a>
    <p class="p-note">My goal is make happy.</p>
</div>
        <section class="main">
            <p>本篇主要实现九(八）大排序算法，分别是冒泡排序，插入排序，选择排序，希尔排序，归并排序，快速排序，堆排序,计数排序。希望大家回顾知识的时候也能从我的这篇文章得到帮助。</p>

            <p><a class="-mx-3 font-sm" href="https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;sort-in-python&#x2F;#continue-reading">Read more →</a></p>
        </section>
    </article>
</li>
    
    <li>
    <article class="h-entry">
        
<section class="header">
  <section class="title-area">
    
    <h1 class="title p-name">
    <a class="u-url" href="https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;thoughtworks-one-month&#x2F;">Thoughtworks 一月</a>
    </h1>
  </section>
  <section class="meta-area">
    <p class="p-summary" style="display: none;">&lt;p&gt;距离加入 Thoughtworks 已有一个月。
这家公司也并非互联网公司，没有高强度的工作节奏，没有996，有一些敏捷信仰。
对于武汉来说，也算是一个优秀的公司。&lt;&#x2F;p&gt;
&lt;p&gt;同时正如网上所言：该有的缺点也是有的。好奇的同学可以去看一下我的编程引路人（也是我司黑粉头子）耗子叔（陈皓）的文章。&lt;&#x2F;p&gt;
</p>
  
    <span><iconify-icon icon="ant-design:calendar-outlined"></iconify-icon>&nbsp;<time class="dt-published">2017-10-05</time>&nbsp;</span>
  
    <span><iconify-icon icon="bx:time-five"></iconify-icon>&nbsp;3 mins</span>  
    <span style="display:none"><iconify-icon icon="mdi:eye-outline"></iconify-icon>&nbsp;<span id="pv"></span>&nbsp;views</span>
  </section>
</section>

        <div class="p-author h-card" style="display: none;">
    <img class="u-logo u-photo" src="https://eindex.me/images/avatar.png">
    <a class="p-nickname p-name u-url" href="https://eindex.me">EINDEX</a>
    <p class="p-note">My goal is make happy.</p>
</div>
        <section class="main">
            <p>距离加入 Thoughtworks 已有一个月。
这家公司也并非互联网公司，没有高强度的工作节奏，没有996，有一些敏捷信仰。
对于武汉来说，也算是一个优秀的公司。</p>
<p>同时正如网上所言：该有的缺点也是有的。好奇的同学可以去看一下我的编程引路人（也是我司黑粉头子）耗子叔（陈皓）的文章。</p>

            <p><a class="-mx-3 font-sm" href="https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;thoughtworks-one-month&#x2F;#continue-reading">Read more →</a></p>
        </section>
    </article>
</li>
    
    <li>
    <article class="h-entry">
        
<section class="header">
  <section class="title-area">
    
      
      
      
      <a class="series p-category" href="https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;series&#x2F;algorithm&#x2F;">Algorithm</a>
    
    <h1 class="title p-name">
    <a class="u-url" href="https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;">基本线性数据结构的Python实现</a>
    </h1>
  </section>
  <section class="meta-area">
    <p class="p-summary" style="display: none;">&lt;p&gt;本篇主要实现四种数据结构，分别是数组、堆栈、队列、链表。我不知道我为什么要用Python来干C干的事情，总之Python就是可以干。&lt;&#x2F;p&gt;
</p>
  
    <span><iconify-icon icon="ant-design:calendar-outlined"></iconify-icon>&nbsp;<time class="dt-published">2017-10-05</time>&nbsp;</span>
  
    <span><iconify-icon icon="bx:time-five"></iconify-icon>&nbsp;9 mins</span>  
    <span style="display:none"><iconify-icon icon="mdi:eye-outline"></iconify-icon>&nbsp;<span id="pv"></span>&nbsp;views</span>
  </section>
</section>

        <div class="p-author h-card" style="display: none;">
    <img class="u-logo u-photo" src="https://eindex.me/images/avatar.png">
    <a class="p-nickname p-name u-url" href="https://eindex.me">EINDEX</a>
    <p class="p-note">My goal is make happy.</p>
</div>
        <section class="main">
            <p>本篇主要实现四种数据结构，分别是数组、堆栈、队列、链表。我不知道我为什么要用Python来干C干的事情，总之Python就是可以干。</p>

            <p><a class="-mx-3 font-sm" href="https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;liner-in-python&#x2F;#continue-reading">Read more →</a></p>
        </section>
    </article>
</li>
    
    <li>
    <article class="h-entry">
        
<section class="header">
  <section class="title-area">
    
    <h1 class="title p-name">
    <a class="u-url" href="https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;archlinux-install-guide&#x2F;">小白也能上手的 ArchLinux 安装教程</a>
    </h1>
  </section>
  <section class="meta-area">
    <p class="p-summary" style="display: none;">&lt;p&gt;ArchLinux 是一个非常符合我个人哲学的操作系统，深得与我一样的大部分 Pythonista 之心(不好意思代表你们了)。&lt;&#x2F;p&gt;
</p>
  
    <span><iconify-icon icon="ant-design:calendar-outlined"></iconify-icon>&nbsp;<time class="dt-published">2017-10-05</time>&nbsp;</span>
  
    <span><iconify-icon icon="bx:time-five"></iconify-icon>&nbsp;11 mins</span>  
    <span style="display:none"><iconify-icon icon="mdi:eye-outline"></iconify-icon>&nbsp;<span id="pv"></span>&nbsp;views</span>
  </section>
</section>

        <div class="p-author h-card" style="display: none;">
    <img class="u-logo u-photo" src="https://eindex.me/images/avatar.png">
    <a class="p-nickname p-name u-url" href="https://eindex.me">EINDEX</a>
    <p class="p-note">My goal is make happy.</p>
</div>
        <section class="main">
            <p>ArchLinux 是一个非常符合我个人哲学的操作系统，深得与我一样的大部分 Pythonista 之心(不好意思代表你们了)。</p>

            <p><a class="-mx-3 font-sm" href="https:&#x2F;&#x2F;eindex.me&#x2F;cn&#x2F;posts&#x2F;archlinux-install-guide&#x2F;#continue-reading">Read more →</a></p>
        </section>
    </article>
</li>
    
  </ul>


          </main>
          <aside>
              
<section class="search">
<input type="search" id="search-bar-input" placeholder="Searching..." />
</section>
<section>
    <h3 class="section-title">Series</h3>
    
    
    <p><a href="https:&#x2F;&#x2F;eindex.me&#x2F;series&#x2F;blog-enhance-plan&#x2F;">博客演进计划 (1)</a></p>
    
    <p><a href="https:&#x2F;&#x2F;eindex.me&#x2F;series&#x2F;security&#x2F;">应用安全 (1)</a></p>
    
</section>

<section class="tags">
<h3 class="section-title">Tags</h3>

<div class="tags">
    
    <a href="https:&#x2F;&#x2F;eindex.me&#x2F;tags&#x2F;webmentions&#x2F;">Webmentions (1)</a>,
    
    <a href="https:&#x2F;&#x2F;eindex.me&#x2F;tags&#x2F;umami&#x2F;">umami (1)</a>,
    
    <a href="https:&#x2F;&#x2F;eindex.me&#x2F;tags&#x2F;static-analysis&#x2F;">Static Analysis (1)</a>,
    
    <a href="https:&#x2F;&#x2F;eindex.me&#x2F;tags&#x2F;semgrep&#x2F;">Semgrep (1)</a>,
    
    <a href="https:&#x2F;&#x2F;eindex.me&#x2F;tags&#x2F;security&#x2F;">Security (1)</a>,
    
    <a href="https:&#x2F;&#x2F;eindex.me&#x2F;tags&#x2F;sast&#x2F;">SAST (1)</a>,
    
    <a href="https:&#x2F;&#x2F;eindex.me&#x2F;tags&#x2F;microformats2&#x2F;">Microformats2 (1)</a>,
    
    <a href="https:&#x2F;&#x2F;eindex.me&#x2F;tags&#x2F;memos&#x2F;">memos (1)</a>,
    
    <a href="https:&#x2F;&#x2F;eindex.me&#x2F;tags&#x2F;meilisearch&#x2F;">meilisearch (1)</a>,
    
    <a href="https:&#x2F;&#x2F;eindex.me&#x2F;tags&#x2F;javascript&#x2F;">JavaScript (1)</a>,
    
    <a href="https:&#x2F;&#x2F;eindex.me&#x2F;tags&#x2F;indie-web&#x2F;">Indie Web (1)</a>,
    
    <a href="https:&#x2F;&#x2F;eindex.me&#x2F;tags&#x2F;github-actions&#x2F;">Github Actions (1)</a>,
    
    <a href="https:&#x2F;&#x2F;eindex.me&#x2F;tags&#x2F;engagement&#x2F;">Engagement (1)</a>,
    
    <a href="https:&#x2F;&#x2F;eindex.me&#x2F;tags&#x2F;devsecops&#x2F;">DevSecOps (1)</a>,
    
    <a href="https:&#x2F;&#x2F;eindex.me&#x2F;tags&#x2F;devops&#x2F;">DevOps (1)</a>,
    
    <a href="https:&#x2F;&#x2F;eindex.me&#x2F;tags&#x2F;connectivity&#x2F;">Connectivity (1)</a>,
    
    <a href="https:&#x2F;&#x2F;eindex.me&#x2F;tags&#x2F;community&#x2F;">Community (1)</a>,
    
    <a href="https:&#x2F;&#x2F;eindex.me&#x2F;tags&#x2F;code-review&#x2F;">Code Review (1)</a>,
    
    <a href="https:&#x2F;&#x2F;eindex.me&#x2F;tags&#x2F;ci&#x2F;">CI (1)</a>,
    
    <a href="https:&#x2F;&#x2F;eindex.me&#x2F;tags&#x2F;build-security-in&#x2F;">Build Security In (1)</a>,
    
    <a href="https:&#x2F;&#x2F;eindex.me&#x2F;tags&#x2F;best-practices&#x2F;">Best Practices (1)</a>,
    
    <a href="https:&#x2F;&#x2F;eindex.me&#x2F;tags&#x2F;beginner-s-guide&#x2F;">Beginner&#x27;s Guide (1)</a>
    
<div>
</section>

<section class="advertisement">
    <h3 class="section-title">Advertisements</h3>
    <ins class="adsbygoogle"
        style="display:inline-block;width:192px;height:500px"
        data-ad-client="ca-pub-1265138627025369"
        data-ad-slot="3472732805"></ins>
</section>
          </aside>
      </div>
      <footer class="footer">
  <span class="webring">
<a href="https://xn--sr8hvo.ws/%F0%9F%95%90%F0%9F%89%91%F0%9F%88%B6/previous">←</a>
An IndieWeb Webring 🕸💍
<a href="https://xn--sr8hvo.ws/%F0%9F%95%90%F0%9F%89%91%F0%9F%88%B6/next">→</a>
</span>
  <link href="https://github.com/eindex" rel="me">
  <span>@2022 EINDEX</span>
</footer>

    </div>
  </body>
  
<script async defer data-website-id="692d9153-7341-4370-b652-60df196f2b31" data-host-url="https://u.eindex.me" data-domains="eindex.me" src="/js/umami.js"></script>
<script>window.twttr = (function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0],
      t = window.twttr || {};
    if (d.getElementById(id)) return t;
    js = d.createElement(s);
    js.id = id;
    js.src = "https://platform.twitter.com/widgets.js?omit_script=true";
    fjs.parentNode.insertBefore(js, fjs);
  
    t._e = [];
    t.ready = function(f) {
      t._e.push(f);
    };
  
    return t;
  }(document, "script", "twitter-wjs"));</script>
<script src="https://cdn.jsdelivr.net/npm/docs-searchbar.js@2.4.1/dist/cdn/docs-searchbar.min.js"></script>
<script>
  docsSearchBar({
    hostUrl: "https://meili.eindex.me",
    apiKey: "a39cff5442b90bb926f6408b0b08671eee444599e6d9c44c29bd0adae09a4b86",
    indexUid: "blog",
    inputSelector: '#search-bar-input',
    debug: true, // Set debug to true if you want to inspect the dropdown
  })
</script>

<script>
    (adsbygoogle = window.adsbygoogle || []).push({});
</script>

</body>
  
</html>