<!doctype html><html charset=utf-8 lang=en><head><link href=https://eindex.me/feed.xml rel=alternate title=RSS type=application/rss+xml><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="text/html; charset=utf-8" http-equiv=content-type><meta content="width=device-width,initial-scale=1.0,maximum-scale=1" name=viewport><meta content=EINDEX itemprop=author name=author><title>åŸºæœ¬çº¿æ€§æ•°æ®ç»“æ„çš„Pythonå®ç° â€¢ EINDEX's Blog</title><meta content="åŸºæœ¬çº¿æ€§æ•°æ®ç»“æ„çš„Pythonå®ç° â€¢ EINDEX's Blog" property=og:title><meta charset=utf-8><link href="https://eindex.me/css/index.css?h=64e3ebc7a0259534a9b1d2bad7fee2fbaeac6b90a92d110e8e75b40dfd8fce19" rel=stylesheet><style>@-moz-document url-prefix() {.lazy:-moz-loading {visibility:hidden;}}.ieOnly {display: none;}@media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {.ieOnly {display: block;}}</style><link href=https://webmention.io/eindex.me/webmention rel=webmention><link href=https://webmention.io/eindex.me/xmlrpc rel=pingback><script src=https://cdn.jsdelivr.net/npm/iconify-icon@1.0.1/dist/iconify-icon.min.js></script><link href=/favicon-512.png rel=apple-touch-icon sizes=512x512><link href=/favicon-512.png rel=icon sizes=512x512 type=image/png><link href=/favicon-192.png rel=icon sizes=192x192 type=image/png><link href=/manifest.json rel=manifest><meta content=https://eindex.me/posts/liner-in-python/ property=og:url><meta content="EINDEX's Blog" property=og:site_name><meta content=https://eindex.me/images/avatar.png property=og:image><meta content=summary name=twitter:card><meta content="åŸºæœ¬çº¿æ€§æ•°æ®ç»“æ„çš„Pythonå®ç° â€¢ EINDEX's Blog" name=twitter:title><meta content=@eindex_li name=twitter:site><meta content=@eindex_li name=twitter:creator><meta content=https://eindex.me/images/avatar.png name=twitter:image><script type=application/ld+json>
{
  "@context": "https://schema.org/",
  "@type": "BlogPosting",
  "headline": "åŸºæœ¬çº¿æ€§æ•°æ®ç»“æ„çš„Pythonå®ç°",
  "image": "https://eindex.me/images/avatar.png",
  
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://eindex.me/posts/liner-in-python/"
  },
  
  "datePublished": "2017-10-05",
  
  
  "author": {
    "@type": "Person",
    "name": "EINDEX",
    "url": "https://eindex.me/about"
  },
  "publisher": {
    "@type": "Organization",
    "name": "EINDEX's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://eindex.me/images/avatar.png"
    },
    "keywords": ["Python","Data structure","Linear","ç®—æ³•"]
  }
}
</script><script src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1265138627025369" async crossorigin=anonymous></script><body><div class=all><header><nav class=navbar><div class=avatar><a class=site-link href=https://eindex.me/><img alt=Workflow class=avatar src=https://eindex.me/processed_images/e75389feba7c019600.png></a></div><div class=menus><a href=https://wiki.eindex.me>Wiki</a><a href=https://eindex.me/gallery/>ç›¸å†Œ</a><a href=https://eindex.me/archive/>å½’æ¡£</a></div><div class=switcher><a class="language switch" href=https://eindex.me/en/><iconify-icon icon=ri:english-input></iconify-icon></a></div></nav></header><div class=content><main><article class=h-entry data-clarity-region=article><section class=header><section class=title-area><h1 class="title p-name"><a class=u-url href=https://eindex.me/posts/liner-in-python/>åŸºæœ¬çº¿æ€§æ•°æ®ç»“æ„çš„Pythonå®ç°</a></h1></section><section class=meta-area><p style="display: none;" class=p-summary>&LTp>æœ¬ç¯‡ä¸»è¦å®ç°å››ç§æ•°æ®ç»“æ„ï¼Œåˆ†åˆ«æ˜¯æ•°ç»„ã€å †æ ˆã€é˜Ÿåˆ—ã€é“¾è¡¨ã€‚æˆ‘ä¸çŸ¥é“æˆ‘ä¸ºä»€ä¹ˆè¦ç”¨Pythonæ¥å¹²Cå¹²çš„äº‹æƒ…ï¼Œæ€»ä¹‹Pythonå°±æ˜¯å¯ä»¥å¹²ã€‚&LT/p></p><span><iconify-icon icon=ant-design:calendar-outlined></iconify-icon> <time class=dt-published>2017-10-05</time></span><span><iconify-icon icon=fluent:mail-inbox-16-regular></iconify-icon><a class=categories href=https://eindex.me/categories/suan-fa/>ç®—æ³•</a></span><span><iconify-icon icon=bx:time-five></iconify-icon> 9 mins</span></section></section><section class="main e-content"><p>æœ¬ç¯‡ä¸»è¦å®ç°å››ç§æ•°æ®ç»“æ„ï¼Œåˆ†åˆ«æ˜¯æ•°ç»„ã€å †æ ˆã€é˜Ÿåˆ—ã€é“¾è¡¨ã€‚æˆ‘ä¸çŸ¥é“æˆ‘ä¸ºä»€ä¹ˆè¦ç”¨Pythonæ¥å¹²Cå¹²çš„äº‹æƒ…ï¼Œæ€»ä¹‹Pythonå°±æ˜¯å¯ä»¥å¹²ã€‚</p><span id=continue-reading></span><p><strong>æ‰€æœ‰æ¦‚å¿µæ€§å†…å®¹å¯ä»¥åœ¨å‚è€ƒèµ„æ–™ä¸­æ‰¾åˆ°å‡ºå¤„</strong><h2 id=shu-zu>æ•°ç»„</h2><h3 id=shu-zu-de-she-ji>æ•°ç»„çš„è®¾è®¡</h3><p>æ•°ç»„è®¾è®¡ä¹‹åˆæ˜¯åœ¨å½¢å¼ä¸Šä¾èµ–å†…å­˜åˆ†é…è€Œæˆçš„ï¼Œæ‰€ä»¥å¿…é¡»åœ¨ä½¿ç”¨å‰é¢„å…ˆè¯·æ±‚ç©ºé—´ã€‚è¿™ä½¿å¾—æ•°ç»„æœ‰ä»¥ä¸‹ç‰¹æ€§ï¼š<ol><li>è¯·æ±‚ç©ºé—´ä»¥åå¤§å°å›ºå®šï¼Œä¸èƒ½å†æ”¹å˜ï¼ˆæ•°æ®æº¢å‡ºé—®é¢˜ï¼‰ï¼›<li>åœ¨å†…å­˜ä¸­æœ‰ç©ºé—´è¿ç»­æ€§çš„è¡¨ç°ï¼Œä¸­é—´ä¸ä¼šå­˜åœ¨å…¶ä»–ç¨‹åºéœ€è¦è°ƒç”¨çš„æ•°æ®ï¼Œä¸ºæ­¤æ•°ç»„çš„ä¸“ç”¨å†…å­˜ç©ºé—´ï¼›<li>åœ¨æ—§å¼ç¼–ç¨‹è¯­è¨€ä¸­ï¼ˆå¦‚æœ‰ä¸­é˜¶è¯­è¨€ä¹‹ç§°çš„Cï¼‰ï¼Œç¨‹åºä¸ä¼šå¯¹æ•°ç»„çš„æ“ä½œåšä¸‹ç•Œåˆ¤æ–­ï¼Œä¹Ÿå°±æœ‰æ½œåœ¨çš„è¶Šç•Œæ“ä½œçš„é£é™©ï¼ˆæ¯”å¦‚ä¼šæŠŠæ•°æ®å†™åœ¨è¿è¡Œä¸­ç¨‹åºéœ€è¦è°ƒç”¨çš„æ ¸å¿ƒéƒ¨åˆ†çš„å†…å­˜ä¸Šï¼‰ã€‚</ol><p>å› ä¸ºç®€å•æ•°ç»„å¼ºçƒˆå€šèµ–ç”µè„‘ç¡¬ä»¶ä¹‹å†…å­˜ï¼Œæ‰€ä»¥ä¸é€‚ç”¨äºç°ä»£çš„ç¨‹åºè®¾è®¡ã€‚æ¬²ä½¿ç”¨å¯å˜å¤§å°ã€ç¡¬ä»¶æ— å…³æ€§çš„æ•°æ®ç±»å‹ï¼ŒJavaç­‰ç¨‹åºè®¾è®¡è¯­è¨€å‡æä¾›äº†æ›´é«˜çº§çš„æ•°æ®ç»“æ„ï¼šArrayListã€Vectorç­‰åŠ¨æ€æ•°ç»„ã€‚<h3 id=pythonde-shu-zu>Pythonçš„æ•°ç»„</h3><p>ä»ä¸¥æ ¼æ„ä¹‰ä¸Šæ¥è¯´:Pythoné‡Œæ²¡æœ‰ä¸¥æ ¼æ„ä¹‰ä¸Šçš„æ•°ç»„ã€‚ <code>List</code>å¯ä»¥è¯´æ˜¯Pythoné‡Œçš„æ•°ç»„ï¼Œä¸‹é¢è¿™æ®µä»£ç æ˜¯CPythonçš„å®ç°<code>List</code>çš„ç»“æ„ä½“:<pre class=language-c data-lang=c style=background-color:#272822;color:#f8f8f2;><code class=language-c data-lang=c><span style=font-style:italic;color:#66d9ef;>typedef struct </span><span>{
</span><span>    PyObject_VAR_HEAD
</span><span>    </span><span style=color:#75715e;>/* Vector of pointers to list elements.  list[0] is ob_item[0], etc. */
</span><span>    PyObject </span><span style=color:#f92672;>**</span><span>ob_item;
</span><span>
</span><span>    </span><span style=color:#75715e;>/* ob_item contains space for 'allocated' elements.  The number
</span><span style=color:#75715e;>     * currently in use is ob_size.
</span><span style=color:#75715e;>     * Invariants:
</span><span style=color:#75715e;>     *     0 <= ob_size <= allocated
</span><span style=color:#75715e;>     *     len(list) == ob_size
</span><span style=color:#75715e;>     *     ob_item == NULL implies ob_size == allocated == 0
</span><span style=color:#75715e;>     * list.sort() temporarily sets allocated to -1 to detect mutations.
</span><span style=color:#75715e;>     *
</span><span style=color:#75715e;>     * Items must normally not be NULL, except during construction when
</span><span style=color:#75715e;>     * the list is not yet visible outside the function that builds it.
</span><span style=color:#75715e;>     */
</span><span>    Py_ssize_t allocated;
</span><span>} PyListObject;
</span></code></pre><p>å–è‡ª<a class=h-card href=https://github.com/python/cpython/blob/f24143b25e4f83368ff6182bebe14f885073015c/Include/listobject.h>CPython-Github</a><p>è¿˜æœ‰ä¸€ç¯‡æ–‡ç« è®²<a class=h-card href=http://www.laurentluce.com/posts/python-list-implementation/><code>List</code>å®ç°</a>,æ„Ÿå…´è¶£çš„æœ‹å‹å¯ä»¥å»çœ‹çœ‹ã€‚<a class=h-card href=http://python.jobbole.com/82549/>ä¸­æ–‡ç‰ˆ</a>ã€‚<p>å½“ç„¶ï¼Œåœ¨Pythoné‡Œå®ƒå°±æ˜¯æ•°ç»„ã€‚ åé¢çš„ä¸€äº›ç»“æ„ä¹Ÿå°†ç”¨<code>List</code>æ¥å®ç°ã€‚<h2 id=dui-zhan>å †æ ˆ</h2><h3 id=shi-yao-shi-dui-zhan>ä»€ä¹ˆæ˜¯å †æ ˆ</h3><p>å †æ ˆï¼ˆè‹±è¯­ï¼šstackï¼‰ï¼Œä¹Ÿå¯ç›´æ¥ç§°æ ˆï¼Œåœ¨è®¡ç®—æœºç§‘å­¦ä¸­ï¼Œæ˜¯ä¸€ç§ç‰¹æ®Šçš„ä¸²åˆ—å½¢å¼çš„æ•°æ®ç»“æ„ï¼Œå®ƒçš„ç‰¹æ®Šä¹‹å¤„åœ¨äºåªèƒ½å…è®¸åœ¨é“¾æ¥ä¸²åˆ—æˆ–é˜µåˆ—çš„ä¸€ç«¯ï¼ˆç§°ä¸ºå †å é¡¶ç«¯æŒ‡æ ‡ï¼Œè‹±è¯­ï¼štopï¼‰è¿›è¡ŒåŠ å…¥èµ„æ–™ï¼ˆè‹±è¯­ï¼špushï¼‰å’Œè¾“å‡ºèµ„æ–™ï¼ˆè‹±è¯­ï¼špopï¼‰çš„è¿ç®—ã€‚å¦å¤–å †å ä¹Ÿå¯ä»¥ç”¨ä¸€ç»´é˜µåˆ—æˆ–è¿ç»“ä¸²åˆ—çš„å½¢å¼æ¥å®Œæˆã€‚å †å çš„å¦å¤–ä¸€ä¸ªç›¸å¯¹çš„æ“ä½œæ–¹å¼ç§°ä¸ºä¼«åˆ—ã€‚<p>ç”±äºå †å æ•°æ®ç»“æ„åªå…è®¸åœ¨ä¸€ç«¯è¿›è¡Œæ“ä½œï¼Œå› è€ŒæŒ‰ç…§åè¿›å…ˆå‡ºï¼ˆLIFO, Last In First Outï¼‰çš„åŸç†è¿ä½œã€‚<h3 id=te-dian>ç‰¹ç‚¹</h3><ul><li>å…ˆå…¥åå‡ºï¼Œåå…¥å…ˆå‡ºã€‚<li>é™¤å¤´å°¾èŠ‚ç‚¹ä¹‹å¤–ï¼Œæ¯ä¸ªå…ƒç´ æœ‰ä¸€ä¸ªå‰é©±ï¼Œä¸€ä¸ªåç»§ã€‚</ul><h3 id=cao-zuo>æ“ä½œ</h3><p>ä»åŸç†å¯çŸ¥ï¼Œå¯¹å †æ ˆ(æ ˆ)å¯ä»¥è¿›è¡Œçš„æ“ä½œæœ‰:<ul><li>top():è·å–å †æ ˆé¡¶ç«¯å¯¹è±¡<li>push():å‘æ ˆé‡Œæ·»åŠ ä¸€ä¸ªå¯¹è±¡<li>pop():ä»æ ˆé‡Œæ¨å‡ºä¸€ä¸ªå¯¹è±¡</ul><h3 id=shi-xian>å®ç°</h3><pre class=language-python data-lang=python style=background-color:#272822;color:#f8f8f2;><code class=language-python data-lang=python><span style=font-style:italic;color:#f92672;>class </span><span style=text-decoration:underline;color:#a6e22e;>my_stack</span><span>(</span><span style=text-decoration:underline;font-style:italic;color:#a6e22e;>object</span><span>):
</span><span>    </span><span style=font-style:italic;color:#f92672;>def </span><span style=color:#66d9ef;>__init__</span><span>(</span><span style=font-style:italic;color:#fd971f;>self</span><span>, </span><span style=font-style:italic;color:#fd971f;>value</span><span>):
</span><span>        self.value </span><span style=color:#f92672;>= </span><span>value
</span><span>        </span><span style=color:#75715e;># å‰é©±
</span><span>        self.before </span><span style=color:#f92672;>= </span><span style=color:#ae81ff;>None
</span><span>        </span><span style=color:#75715e;># åç»§
</span><span>        self.behind </span><span style=color:#f92672;>= </span><span style=color:#ae81ff;>None
</span><span>
</span><span>    </span><span style=font-style:italic;color:#f92672;>def </span><span style=color:#66d9ef;>__str__</span><span>(</span><span style=font-style:italic;color:#fd971f;>self</span><span>):
</span><span>        </span><span style=color:#f92672;>return </span><span style=font-style:italic;color:#66d9ef;>str</span><span>(self.value)
</span><span>
</span><span>
</span><span style=font-style:italic;color:#f92672;>def </span><span style=color:#a6e22e;>top</span><span>(</span><span style=font-style:italic;color:#fd971f;>stack</span><span>):
</span><span>    </span><span style=color:#f92672;>if </span><span style=color:#66d9ef;>isinstance</span><span>(stack, my_stack):
</span><span>        </span><span style=color:#f92672;>if </span><span>stack.behind </span><span style=color:#f92672;>is not </span><span style=color:#ae81ff;>None</span><span>:
</span><span>            </span><span style=color:#f92672;>return </span><span>top(stack.behind)
</span><span>        </span><span style=color:#f92672;>else</span><span>:
</span><span>            </span><span style=color:#f92672;>return </span><span>stack
</span><span>
</span><span>
</span><span style=font-style:italic;color:#f92672;>def </span><span style=color:#a6e22e;>push</span><span>(</span><span style=font-style:italic;color:#fd971f;>stack</span><span>, </span><span style=font-style:italic;color:#fd971f;>ele</span><span>):
</span><span>    push_ele </span><span style=color:#f92672;>= </span><span>my_stack(ele)
</span><span>    </span><span style=color:#f92672;>if </span><span style=color:#66d9ef;>isinstance</span><span>(stack, my_stack):
</span><span>      stack_top </span><span style=color:#f92672;>= </span><span>top(stack)
</span><span>      push_ele.before </span><span style=color:#f92672;>= </span><span>stack_top
</span><span>      push_ele.before.behind </span><span style=color:#f92672;>= </span><span>push_ele
</span><span>    </span><span style=color:#f92672;>else</span><span>:
</span><span>      </span><span style=color:#f92672;>raise </span><span style=font-style:italic;color:#66d9ef;>Exception</span><span>(</span><span style=color:#e6db74;>'ä¸è¦ä¹±æ‰”ä¸œè¥¿è¿›æ¥å¥½ä¹ˆ'</span><span>)
</span><span>
</span><span>
</span><span style=font-style:italic;color:#f92672;>def </span><span style=color:#a6e22e;>pop</span><span>(</span><span style=font-style:italic;color:#fd971f;>stack</span><span>):
</span><span>    </span><span style=color:#f92672;>if </span><span style=color:#66d9ef;>isinstance</span><span>(stack, my_stack):
</span><span>        stack_top </span><span style=color:#f92672;>= </span><span>top(stack)
</span><span>        </span><span style=color:#f92672;>if </span><span>stack_top.before </span><span style=color:#f92672;>is not </span><span style=color:#ae81ff;>None</span><span>:
</span><span>            stack_top.before.behind </span><span style=color:#f92672;>= </span><span style=color:#ae81ff;>None
</span><span>            stack_top.behind </span><span style=color:#f92672;>= </span><span style=color:#ae81ff;>None
</span><span>            </span><span style=color:#f92672;>return </span><span>stack_top
</span><span>        </span><span style=color:#f92672;>else</span><span>:
</span><span>            </span><span style=color:#66d9ef;>print</span><span>(</span><span style=color:#e6db74;>'å·²ç»æ˜¯æ ˆé¡¶äº†'</span><span>)
</span></code></pre><h2 id=dui-lie>é˜Ÿåˆ—</h2><h3 id=shi-yao-shi-dui-lie>ä»€ä¹ˆæ˜¯é˜Ÿåˆ—</h3><p>å’Œå †æ ˆç±»ä¼¼ï¼Œå”¯ä¸€çš„åŒºåˆ«æ˜¯é˜Ÿåˆ—åªèƒ½åœ¨é˜Ÿå¤´è¿›è¡Œå‡ºé˜Ÿæ“ä½œï¼Œæ‰€ä»¥é˜Ÿåˆ—æ˜¯æ˜¯å…ˆè¿›å…ˆå‡ºï¼ˆFIFO, First-In-First-Outï¼‰çš„çº¿æ€§è¡¨<h3 id=te-dian-1>ç‰¹ç‚¹</h3><ul><li>å…ˆå…¥å…ˆå‡º,åå…¥åå‡º<li>é™¤å°¾èŠ‚ç‚¹å¤–,æ¯ä¸ªèŠ‚ç‚¹æœ‰ä¸€ä¸ªåç»§<li>ï¼ˆå¯é€‰ï¼‰é™¤å¤´èŠ‚ç‚¹å¤–,æ¯ä¸ªèŠ‚ç‚¹æœ‰ä¸€ä¸ªå‰é©±</ul><h3 id=cao-zuo-1>æ“ä½œ</h3><ul><li>pushï¼ˆï¼‰:å…¥é˜Ÿ<li>popï¼ˆï¼‰ï¼šå‡ºé˜Ÿ</ul><h3 id=shi-xian-1>å®ç°</h3><h4 id=pu-tong-dui-lie>æ™®é€šé˜Ÿåˆ—</h4><pre class=language-python data-lang=python style=background-color:#272822;color:#f8f8f2;><code class=language-python data-lang=python><span style=font-style:italic;color:#f92672;>class </span><span style=text-decoration:underline;color:#a6e22e;>MyQueue</span><span>():
</span><span>    </span><span style=font-style:italic;color:#f92672;>def </span><span style=color:#66d9ef;>__init__</span><span>(</span><span style=font-style:italic;color:#fd971f;>self</span><span>, </span><span style=font-style:italic;color:#fd971f;>value</span><span style=color:#f92672;>=</span><span style=color:#ae81ff;>None</span><span>):
</span><span>        self.value </span><span style=color:#f92672;>= </span><span>value
</span><span>        </span><span style=color:#75715e;># å‰é©±
</span><span>        </span><span style=color:#75715e;># self.before = None
</span><span>        </span><span style=color:#75715e;># åç»§
</span><span>        self.behind </span><span style=color:#f92672;>= </span><span style=color:#ae81ff;>None
</span><span>
</span><span>    </span><span style=font-style:italic;color:#f92672;>def </span><span style=color:#66d9ef;>__str__</span><span>(</span><span style=font-style:italic;color:#fd971f;>self</span><span>):
</span><span>        </span><span style=color:#f92672;>if </span><span>self.value </span><span style=color:#f92672;>is not </span><span style=color:#ae81ff;>None</span><span>:
</span><span>            </span><span style=color:#f92672;>return </span><span style=font-style:italic;color:#66d9ef;>str</span><span>(self.value)
</span><span>        </span><span style=color:#f92672;>else</span><span>:
</span><span>            </span><span style=color:#f92672;>return </span><span style=color:#e6db74;>'None'
</span><span>
</span><span>
</span><span style=font-style:italic;color:#f92672;>def </span><span style=color:#a6e22e;>create_queue</span><span>():
</span><span>    </span><span style=color:#75715e;>"""ä»…æœ‰é˜Ÿå¤´"""
</span><span>    </span><span style=color:#f92672;>return </span><span>MyQueue()
</span><span>
</span><span>
</span><span style=font-style:italic;color:#f92672;>def </span><span style=color:#a6e22e;>last</span><span>(</span><span style=font-style:italic;color:#fd971f;>queue</span><span>):
</span><span>    </span><span style=color:#f92672;>if </span><span style=color:#66d9ef;>isinstance</span><span>(queue, MyQueue):
</span><span>        </span><span style=color:#f92672;>if </span><span>queue.behind </span><span style=color:#f92672;>is not </span><span style=color:#ae81ff;>None</span><span>:
</span><span>            </span><span style=color:#f92672;>return </span><span>last(queue.behind)
</span><span>        </span><span style=color:#f92672;>else</span><span>:
</span><span>            </span><span style=color:#f92672;>return </span><span>queue
</span><span>
</span><span>
</span><span style=font-style:italic;color:#f92672;>def </span><span style=color:#a6e22e;>push</span><span>(</span><span style=font-style:italic;color:#fd971f;>queue</span><span>, </span><span style=font-style:italic;color:#fd971f;>ele</span><span>):
</span><span>    </span><span style=color:#f92672;>if </span><span style=color:#66d9ef;>isinstance</span><span>(queue, MyQueue):
</span><span>        last_queue </span><span style=color:#f92672;>= </span><span>last(queue)
</span><span>        new_queue </span><span style=color:#f92672;>= </span><span>MyQueue(ele)
</span><span>        last_queue.behind </span><span style=color:#f92672;>= </span><span>new_queue
</span><span>
</span><span>
</span><span style=font-style:italic;color:#f92672;>def </span><span style=color:#a6e22e;>pop</span><span>(</span><span style=font-style:italic;color:#fd971f;>queue</span><span>):
</span><span>    </span><span style=color:#f92672;>if </span><span>queue.behind </span><span style=color:#f92672;>is not </span><span style=color:#ae81ff;>None</span><span>:
</span><span>        get_queue </span><span style=color:#f92672;>= </span><span>queue.behind
</span><span>        queue.behind </span><span style=color:#f92672;>= </span><span>queue.behind.behind
</span><span>        </span><span style=color:#f92672;>return </span><span>get_queue
</span><span>    </span><span style=color:#f92672;>else</span><span>:
</span><span>        </span><span style=color:#66d9ef;>print</span><span>(</span><span style=color:#e6db74;>'é˜Ÿåˆ—é‡Œå·²ç»æ²¡æœ‰å…ƒç´ äº†'</span><span>)
</span><span>
</span><span style=font-style:italic;color:#f92672;>def </span><span style=color:#a6e22e;>print_queue</span><span>(</span><span style=font-style:italic;color:#fd971f;>queue</span><span>):
</span><span>    </span><span style=color:#66d9ef;>print</span><span>(queue)
</span><span>    </span><span style=color:#f92672;>if </span><span>queue.behind </span><span style=color:#f92672;>is not </span><span style=color:#ae81ff;>None</span><span>:
</span><span>        print_queue(queue.behind)
</span></code></pre><h2 id=lian-biao>é“¾è¡¨</h2><h3 id=shi-yao-shi-lian-biao>ä»€ä¹ˆæ˜¯é“¾è¡¨</h3><p>é“¾è¡¨ï¼ˆLinked listï¼‰æ˜¯ä¸€ç§å¸¸è§çš„åŸºç¡€æ•°æ®ç»“æ„ï¼Œæ˜¯ä¸€ç§çº¿æ€§è¡¨ï¼Œä½†æ˜¯å¹¶ä¸ä¼šæŒ‰çº¿æ€§çš„é¡ºåºå­˜å‚¨æ•°æ®ï¼Œè€Œæ˜¯åœ¨æ¯ä¸€ä¸ªèŠ‚ç‚¹é‡Œå­˜åˆ°ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆ(Pointer)ã€‚ç”±äºä¸å¿…é¡»æŒ‰é¡ºåºå­˜å‚¨ï¼Œé“¾è¡¨åœ¨æ’å…¥çš„æ—¶å€™å¯ä»¥è¾¾åˆ°O(1)çš„å¤æ‚åº¦ï¼Œæ¯”å¦ä¸€ç§çº¿æ€§è¡¨é¡ºåºè¡¨å¿«å¾—å¤šï¼Œä½†æ˜¯æŸ¥æ‰¾ä¸€ä¸ªèŠ‚ç‚¹æˆ–è€…è®¿é—®ç‰¹å®šç¼–å·çš„èŠ‚ç‚¹åˆ™éœ€è¦O(n)çš„æ—¶é—´ï¼Œè€Œé¡ºåºè¡¨ç›¸åº”çš„æ—¶é—´å¤æ‚åº¦åˆ†åˆ«æ˜¯O(logn)å’ŒO(1)ã€‚<h3 id=te-dian-2>ç‰¹ç‚¹</h3><p>ä½¿ç”¨é“¾è¡¨ç»“æ„å¯ä»¥å…‹æœæ•°ç»„é“¾è¡¨éœ€è¦é¢„å…ˆçŸ¥é“æ•°æ®å¤§å°çš„ç¼ºç‚¹ï¼Œé“¾è¡¨ç»“æ„å¯ä»¥å……åˆ†åˆ©ç”¨è®¡ç®—æœºå†…å­˜ç©ºé—´ï¼Œå®ç°çµæ´»çš„å†…å­˜åŠ¨æ€ç®¡ç†ã€‚ä½†æ˜¯é“¾è¡¨å¤±å»äº†æ•°ç»„éšæœºè¯»å–çš„ä¼˜ç‚¹ï¼ŒåŒæ—¶é“¾è¡¨ç”±äºå¢åŠ äº†ç»“ç‚¹çš„æŒ‡é’ˆåŸŸï¼Œç©ºé—´å¼€é”€æ¯”è¾ƒå¤§ã€‚<h3 id=cao-zuo-2>æ“ä½œ</h3><ul><li>init():åˆå§‹åŒ–<li>insert(): æ’å…¥<li>trave(): éå†<li>delete(): åˆ é™¤<li>find(): æŸ¥æ‰¾</ul><h3 id=shi-xian-2>å®ç°</h3><p>æ­¤å¤„ä»…å®ç°åŒå‘åˆ—è¡¨<pre class=language-python data-lang=python style=background-color:#272822;color:#f8f8f2;><code class=language-python data-lang=python><span style=font-style:italic;color:#f92672;>class </span><span style=text-decoration:underline;color:#a6e22e;>LinkedList</span><span>():
</span><span>    </span><span style=font-style:italic;color:#f92672;>def </span><span style=color:#66d9ef;>__init__</span><span>(</span><span style=font-style:italic;color:#fd971f;>self</span><span>, </span><span style=font-style:italic;color:#fd971f;>value</span><span style=color:#f92672;>=</span><span style=color:#ae81ff;>None</span><span>):
</span><span>        self.value </span><span style=color:#f92672;>= </span><span>value
</span><span>        </span><span style=color:#75715e;># å‰é©±
</span><span>        self.before </span><span style=color:#f92672;>= </span><span style=color:#ae81ff;>None
</span><span>        </span><span style=color:#75715e;># åç»§
</span><span>        self.behind </span><span style=color:#f92672;>= </span><span style=color:#ae81ff;>None
</span><span>
</span><span>    </span><span style=font-style:italic;color:#f92672;>def </span><span style=color:#66d9ef;>__str__</span><span>(</span><span style=font-style:italic;color:#fd971f;>self</span><span>):
</span><span>        </span><span style=color:#f92672;>if </span><span>self.value </span><span style=color:#f92672;>is not </span><span style=color:#ae81ff;>None</span><span>:
</span><span>            </span><span style=color:#f92672;>return </span><span style=font-style:italic;color:#66d9ef;>str</span><span>(self.value)
</span><span>        </span><span style=color:#f92672;>else</span><span>:
</span><span>            </span><span style=color:#f92672;>return </span><span style=color:#e6db74;>'None'
</span><span>
</span><span>
</span><span style=font-style:italic;color:#f92672;>def </span><span style=color:#a6e22e;>init</span><span>():
</span><span>    </span><span style=color:#f92672;>return </span><span>LinkedList(</span><span style=color:#e6db74;>'HEAD'</span><span>)
</span><span>
</span><span>
</span><span style=font-style:italic;color:#f92672;>def </span><span style=color:#a6e22e;>delete</span><span>(</span><span style=font-style:italic;color:#fd971f;>linked_list</span><span>):
</span><span>    </span><span style=color:#f92672;>if </span><span style=color:#66d9ef;>isinstance</span><span>(linked_list, LinkedList):
</span><span>        </span><span style=color:#f92672;>if </span><span>linked_list.behind </span><span style=color:#f92672;>is not </span><span style=color:#ae81ff;>None</span><span>:
</span><span>            delete(linked_list.behind)
</span><span>            linked_list.behind </span><span style=color:#f92672;>= </span><span style=color:#ae81ff;>None
</span><span>            linked_list.before </span><span style=color:#f92672;>= </span><span style=color:#ae81ff;>None
</span><span>        linked_list.value </span><span style=color:#f92672;>= </span><span style=color:#ae81ff;>None
</span><span>
</span><span>
</span><span style=font-style:italic;color:#f92672;>def </span><span style=color:#a6e22e;>insert</span><span>(</span><span style=font-style:italic;color:#fd971f;>linked_list</span><span>, </span><span style=font-style:italic;color:#fd971f;>index</span><span>, </span><span style=font-style:italic;color:#fd971f;>node</span><span>):
</span><span>    node </span><span style=color:#f92672;>= </span><span>LinkedList(node)
</span><span>    </span><span style=color:#f92672;>if </span><span style=color:#66d9ef;>isinstance</span><span>(linked_list, LinkedList):
</span><span>        i </span><span style=color:#f92672;>= </span><span style=color:#ae81ff;>0
</span><span>        </span><span style=color:#f92672;>while </span><span>linked_list.behind </span><span style=color:#f92672;>is not </span><span style=color:#ae81ff;>None</span><span>:
</span><span>            </span><span style=color:#f92672;>if </span><span>i </span><span style=color:#f92672;>== </span><span>index:
</span><span>                </span><span style=color:#f92672;>break
</span><span>            i </span><span style=color:#f92672;>+= </span><span style=color:#ae81ff;>1
</span><span>            linked_list </span><span style=color:#f92672;>= </span><span>linked_list.behind
</span><span>        </span><span style=color:#f92672;>if </span><span>linked_list.behind </span><span style=color:#f92672;>is not </span><span style=color:#ae81ff;>None</span><span>:
</span><span>            node.behind </span><span style=color:#f92672;>= </span><span>linked_list.behind
</span><span>            linked_list.behind.before </span><span style=color:#f92672;>= </span><span>node
</span><span>        node.before, linked_list.behind </span><span style=color:#f92672;>= </span><span>linked_list, node
</span><span>
</span><span>
</span><span style=font-style:italic;color:#f92672;>def </span><span style=color:#a6e22e;>remove</span><span>(</span><span style=font-style:italic;color:#fd971f;>linked_list</span><span>, </span><span style=font-style:italic;color:#fd971f;>index</span><span>):
</span><span>    </span><span style=color:#f92672;>if </span><span style=color:#66d9ef;>isinstance</span><span>(linked_list, LinkedList):
</span><span>        i </span><span style=color:#f92672;>= </span><span style=color:#ae81ff;>0
</span><span>        </span><span style=color:#f92672;>while </span><span>linked_list.behind </span><span style=color:#f92672;>is not </span><span style=color:#ae81ff;>None</span><span>:
</span><span>            </span><span style=color:#f92672;>if </span><span>i </span><span style=color:#f92672;>== </span><span>index:
</span><span>                </span><span style=color:#f92672;>break
</span><span>            i </span><span style=color:#f92672;>+= </span><span style=color:#ae81ff;>1
</span><span>            linked_list </span><span style=color:#f92672;>= </span><span>linked_list.behind
</span><span>        </span><span style=color:#f92672;>if </span><span>linked_list.behind </span><span style=color:#f92672;>is not </span><span style=color:#ae81ff;>None</span><span>:
</span><span>            linked_list.behind.before </span><span style=color:#f92672;>= </span><span>linked_list.before
</span><span>        </span><span style=color:#f92672;>if </span><span>linked_list.before </span><span style=color:#f92672;>is not </span><span style=color:#ae81ff;>None</span><span>:
</span><span>            linked_list.before.behind </span><span style=color:#f92672;>= </span><span>linked_list.behind
</span><span>        linked_list.behind </span><span style=color:#f92672;>= </span><span style=color:#ae81ff;>None
</span><span>        linked_list.before </span><span style=color:#f92672;>= </span><span style=color:#ae81ff;>None
</span><span>        linked_list.value </span><span style=color:#f92672;>= </span><span style=color:#ae81ff;>None
</span><span>
</span><span>
</span><span style=font-style:italic;color:#f92672;>def </span><span style=color:#a6e22e;>trave</span><span>(</span><span style=font-style:italic;color:#fd971f;>linked_list</span><span>):
</span><span>    </span><span style=color:#f92672;>if </span><span style=color:#66d9ef;>isinstance</span><span>(linked_list, LinkedList):
</span><span>        </span><span style=color:#66d9ef;>print</span><span>(linked_list)
</span><span>        </span><span style=color:#f92672;>if </span><span>linked_list.behind </span><span style=color:#f92672;>is not </span><span style=color:#ae81ff;>None</span><span>:
</span><span>            trave(linked_list.behind)
</span><span>
</span><span>
</span><span style=font-style:italic;color:#f92672;>def </span><span style=color:#a6e22e;>find</span><span>(</span><span style=font-style:italic;color:#fd971f;>linked_list</span><span>, </span><span style=font-style:italic;color:#fd971f;>index</span><span>):
</span><span>    </span><span style=color:#f92672;>if </span><span style=color:#66d9ef;>isinstance</span><span>(linked_list, LinkedList):
</span><span>        i </span><span style=color:#f92672;>= </span><span style=color:#ae81ff;>0
</span><span>        </span><span style=color:#f92672;>while </span><span>linked_list.behind </span><span style=color:#f92672;>is not </span><span style=color:#ae81ff;>None</span><span>:
</span><span>            </span><span style=color:#f92672;>if </span><span>i </span><span style=color:#f92672;>== </span><span>index:
</span><span>                </span><span style=color:#f92672;>return </span><span>linked_list
</span><span>            i </span><span style=color:#f92672;>+= </span><span style=color:#ae81ff;>1
</span><span>            linked_list </span><span style=color:#f92672;>= </span><span>linked_list.behind
</span><span>        </span><span style=color:#f92672;>else</span><span>:
</span><span>            </span><span style=color:#f92672;>if </span><span>i </span><span style=color:#f92672;>< </span><span>index:
</span><span>                </span><span style=color:#f92672;>raise </span><span style=font-style:italic;color:#66d9ef;>Exception</span><span>(</span><span style=color:#ae81ff;>404</span><span>)
</span><span>            </span><span style=color:#f92672;>return </span><span>linked_list
</span></code></pre><p>ä»¥ä¸Šæ‰€æœ‰æºä»£ç å‡åœ¨<a class=h-card href=https://github.com/EINDEX/Python-algorithm>Github</a>å…±äº«ï¼Œæ¬¢è¿æå‡ºissueæˆ–PRï¼Œå¸Œæœ›ä¸å¤§å®¶å…±åŒè¿›æ­¥!<hr><h2 id=can-kao-zi-liao>å‚è€ƒèµ„æ–™</h2><p>Wikiç™¾ç§‘: <a class=h-card href=https://zh.wikipedia.org/wiki/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84>æ•°æ®ç»“æ„</a>ã€<a class=h-card href=https://zh.wikipedia.org/wiki/%E6%95%B0%E7%BB%84>æ•°ç»„</a>ã€<a class=h-card href=https://zh.wikipedia.org/wiki/%E9%98%9F%E5%88%97>é˜Ÿåˆ—</a>ã€<a class=h-card href=https://zh.wikipedia.org/wiki/%E9%93%BE%E8%A1%A8#.E5.88.9D.E5.A7.8B.E5.8C.96.E5.92.8C.E9.94.80.E6.AF.81>é“¾è¡¨</a></section><section class=post-footer><div class=tags><span class=tag><a>Python</a></span><span class=tag><a>Data structure</a></span><span class=tag><a>Linear</a></span></div></section><section style="display: none;" class=comments id=giscus><script async crossorigin=anonymous data-category-id=DIC_kwDOGWb6Ys4CAKn- data-emit-metadata=0 data-lang=zh-CN data-mapping=pathname data-reactions-enabled=1 data-repo=EINDEX/blog data-repo-id=R_kgDOGWb6Yg data-theme=light src=https://giscus.app/client.js></script></section><button onclick='document.getElementById("giscus").style="";document.getElementById("giscus-button").style="display:none";' id=giscus-button>Loading Comments</button></article></main><aside></aside></div><footer class=footer><span class=webring> <a href=https://xn--sr8hvo.ws/%F0%9F%95%90%F0%9F%89%91%F0%9F%88%B6/previous>â†</a> An IndieWeb Webring ğŸ•¸ğŸ’ <a href=https://xn--sr8hvo.ws/%F0%9F%95%90%F0%9F%89%91%F0%9F%88%B6/next>â†’</a> </span><link href=https://github.com/EINDEX rel=me></footer></div>