<!doctype html><html charset=utf-8 lang=en><head><script src="https://www.googletagmanager.com/gtag/js?id=G-SR36ZS0R52" async></script><script>window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  
  var page_link = new URL(window.location.href);
  gtag('js', new Date());
  gtag('config', 'G-SR36ZS0R52', {
    traffic_type: page_link.searchParams.get("traffic_type")
  });
  gtag('set', {
    traffic_type: page_link.searchParams.get("traffic_type")
  })</script><link href=https://eindex.me/feed.xml rel=alternate title=RSS type=application/rss+xml><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="text/html; charset=utf-8" http-equiv=content-type><meta content="width=device-width,initial-scale=1.0,maximum-scale=1" name=viewport><meta content=EINDEX itemprop=author name=author><title>Improving Your Code Review Process With Semgrep • EINDEX's Blog</title><meta content="Improving Your Code Review Process With Semgrep • EINDEX's Blog" property=og:title><meta charset=utf-8><link href="https://eindex.me/css/index.css?h=75c3cb8982b8f090224fcd7e5c683a2e618841803c63cf4209e610ff6a865ea6" rel=stylesheet><style>@-moz-document url-prefix() {.lazy:-moz-loading {visibility:hidden;}}.ieOnly {display: none;}@media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {.ieOnly {display: block;}}</style><link href=https://webmention.io/eindex.me/webmention rel=webmention><link href=https://webmention.io/eindex.me/xmlrpc rel=pingback><script src=https://cdn.jsdelivr.net/npm/iconify-icon@1.0.1/dist/iconify-icon.min.js></script><link href=/favicon-512.png rel=apple-touch-icon sizes=512x512><link href=/favicon-512.png rel=icon sizes=512x512 type=image/png><link href=/favicon-192.png rel=icon sizes=192x192 type=image/png><link href=/manifest.json rel=manifest><meta content=on name=twitter:dnt><meta content=on name=twitter:widgets:csp><meta content="Learn how to improve your code review process with Semgrep, a tool for statically analyzing code and detecting security issues. The post covers setting up Semgrep and tips for getting the most out of it. #Semgrep #SDLC #BSI" property=og:description><meta content=https://eindex.me/posts/improving-your-code-review-process-with-semgrep/ property=og:url><meta content="EINDEX's Blog" property=og:site_name><meta content=https://eindex.me/images/avatar.png property=og:image><meta content=summary name=twitter:card><meta content="Improving Your Code Review Process With Semgrep" name=twitter:title><meta content="Learn how to improve your code review process with Semgrep, a tool for statically analyzing code and detecting security issues. The post covers setting up Semgrep and tips for getting the most out of it. #Semgrep #SDLC #BSI" property=twitter:description><meta content=@eindex_li name=twitter:site><meta content=@eindex_li name=twitter:creator><meta content=https://eindex.me/images/avatar.png name=twitter:image><link href=https://twitter.com/eindex_li rel=me><script type=application/ld+json>
{
  "@context": "https://schema.org/",
  "@type": "BlogPosting",
  "headline": "Improving Your Code Review Process With Semgrep",
  "image": "https://eindex.me/images/avatar.png",
  
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://eindex.me/posts/improving-your-code-review-process-with-semgrep/"
  },
  
  "datePublished": "2022-12-13",
  
  "description": "Learn how to improve your code review process with Semgrep, a tool for statically analyzing code and detecting security issues. The post covers setting up Semgrep and tips for getting the most out of it. #Semgrep #SDLC #BSI",
  "author": {
    "@type": "Person",
    "name": "EINDEX",
    "url": "https://eindex.me/about"
  },
  "publisher": {
    "@type": "Organization",
    "name": "EINDEX's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://eindex.me/images/avatar.png"
    }
  },
  "keywords": ["security","Code Review","Semgrep","Static Analysis","Best Practices","SAST","Security","DevOps","DevSecOps","CI","Build Security In"]
}
</script><link href=https://cdn.jsdelivr.net/npm/docs-searchbar.js@2.4.1/dist/cdn/docs-searchbar.min.css rel=stylesheet><script src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1265138627025369" async crossorigin=anonymous></script><body><div class=all><header><nav class=navbar><div class=avatar><a class=site-link href=https://eindex.me/><img alt=Workflow class=avatar src=https://eindex.me/processed_images/e75389feba7c019600.png></a></div><div class=menus><a href=https://eindex.me/gallery/>Gallery</a><a href=https://eindex.me/archive/>Archive</a></div><div class=switcher><a class="language switch" href=https://eindex.me/cn/><iconify-icon icon=uil:letter-chinese-a></iconify-icon></a></div></nav></header><div class=content><main><article class=h-entry data-clarity-region=article><section class=header><section class=title-area><a class="series p-category" href=https://eindex.me/series/security/>Cyber Security</a><h1 class="title p-name"><a class=u-url href=https://eindex.me/posts/improving-your-code-review-process-with-semgrep/>Improving Your Code Review Process With Semgrep</a></h1></section><section class=meta-area><p style="display: none;" class=p-summary>Learn how to improve your code review process with Semgrep, a tool for statically analyzing code and detecting security issues. The post covers setting up Semgrep and tips for getting the most out of it. #Semgrep #SDLC #BSI</p><span><iconify-icon icon=ant-design:calendar-outlined></iconify-icon> <time class=dt-published>2022-12-13</time> </span><span><iconify-icon icon=bx:time-five></iconify-icon> 8 mins</span><span style=display:none><iconify-icon icon=mdi:eye-outline></iconify-icon> <span id=pv></span> views</span></section></section><div class="p-author h-card" style="display: none;"><img class="u-logo u-photo" src=https://eindex.me/images/avatar.png><a class="p-nickname p-name u-url" href=https://eindex.me>EINDEX</a><p class=p-note>My goal is make happy.</div><section class=p-summary style=display:none>Learn how to improve your code review process with Semgrep, a tool for statically analyzing code and detecting security issues. The post covers setting up Semgrep and tips for getting the most out of it. #Semgrep #SDLC #BSI</section><ins class="adsbygoogle main" data-ad-client=ca-pub-1265138627025369 data-ad-slot=3577756156 style=display:inline-block;width:100%;height:64px></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script><section class="main e-content"><p><img alt="Semgrep Website" src=https://img.eindex.me/img/0ec861d94c82a9e7fe57880e0f25a2dd.png><p>In this post, I will show you how to set up Semgrep for your project, give examples of common code issues that it can detect, and provide best practices for using Semgrep in code review. By the end, you will have a better understanding of how Semgrep can improve your code review process and make your code more secure, reliable and maintainable.<h2 id=introduction-to-semgrep-and-why-it-is-useful-for-code-review>Introduction to Semgrep and why it is useful for code review</h2><p>Code review is an essential part of the SDLC(software development live cycle). It helps ensure that the code is correct, maintainable, secure, and follows the agreed-upon standards and conventions. However, manual code review can be time-consuming and error-prone, especially for large codebases with many contributors or long time history.</p><span id=continue-reading></span><p><img alt="Semgrep compare with AST and regex" src=https://img.eindex.me/img/e23bd0bbaf9d2513d3d26042b1aa702b.png><p>Enter Semgrep, a tool for statically analyzing code and detecting common issues. Semgrep runs mostly language-agnostic analysis on analysis-friendly IR(intermediate language) which translate by AST(abstract syntax tree) tree. This process will not generate AST tree via your entile project with dependencies like CodeQL. So semgrep can run it quick and easy to create rules to find and fix common problems in your code, such as security vulnerabilities, logical errors, and style violations.<h2 id=setting-up-semgrep-for-your-project>Setting up Semgrep for your project</h2><p>To use Semgrep, you need to install the semgrep command-line tool on your system. The installation process varies depending on your operating system and package manager, but in general, you can use the following command:<pre class=language-bash data-lang=bash style=background-color:#272822;color:#f8f8f2;><code class=language-bash data-lang=bash><span>pip install semgrep
</span></code></pre><p>Once you have installed Semgrep, you can use it to scan your codebase for specific patterns. For example, the following command will search for instances of the strcpy function, which is considered insecure and should not be used:<pre class=language-bash data-lang=bash style=background-color:#272822;color:#f8f8f2;><code class=language-bash data-lang=bash><span>semgrep</span><span style=font-style:italic;color:#fd971f;> --config</span><span> p/python</span><span style=font-style:italic;color:#fd971f;> --pattern </span><span style=color:#e6db74;>'strcpy(x, y)'</span><span> path/to/code
</span></code></pre><p>The <code>--config</code> option specifies the configuration to use for the scan, and the <code>--pattern</code> option specifies the rule to match. In this case, I are using the <code>p/python</code> configuration, which includes rules for detecting common issues in Python code, and I are looking for occurrences of the strcpy function.<p>You can also finding more rules on the semgrep registry on your project, there are a lot of open source rules provide from semgrep community, <a href=https://semgrep.dev/explore rel=nofollow>link to registry</a>.<p>Once you have set up Semgrep and run a scan, you can use the results to identify and fix potential problems in your code. This can save time and effort during code review, as it allows you to automatically detect and address common issues before they are reviewed by your team.<h2 id=examples-of-common-code-issues-that-semgrep-can-detect>Examples of common code issues that Semgrep can detect</h2><p>Semgrep can detect a wide range of code issues, depending on the configuration and rules that you use. Here are some examples of common code issues that Semgrep can help you find and fix:<ul><li>Security vulnerabilities, such as <a href=https://semgrep.dev/p/sql-injection rel=nofollow>SQL injection</a> and <a href=https://semgrep.dev/p/xss rel=nofollow>Cross-Site Scripting (XSS)</a> vulnerabilities, or you can use <a href=https://semgrep.dev/p/owasp-top-ten rel=nofollow>OWASP Top 10</a> ruleset for common web security vulnerabilities.<li>Deprecated or unsafe API usage, such as the use of strcpy in C or eval in JavaScript<li>Misconfgration, such as <a href=https://semgrep.dev/p/dockerfile rel=nofollow>dockerfile</a>, <a href=https://semgrep.dev/p/docker-compose rel=nofollow>docker-compose</a> settings.<li>Hard-coded secret, such as the <a href=https://semgrep.dev/p/secrets rel=nofollow>secret</a> ruleset.<li>Style violations, such as inconsistent indentation, unused variables, catch default issues and overly complex expressions<li>Permission issue, such as forgot add permission check. Need to write custom rules.</ul><p>By using Semgrep to detect these issues, you can prevent bugs and security risks in your code and improve its overall quality. This can save time and effort during code review, as it allows you to focus on higher-level design and architecture issues instead of catching low-level mistakes.<p>In the next section, I will share some best practices when I using Semgrep in code review.<p>or create your own configuration and rules to customize Semgrep for your project. For more information, see the Semgrep documentation, <a href=https://semgrep.dev/docs/writing-rules/overview/ rel=nofollow>link to docs</a>.<h2 id=best-practices-for-using-semgrep-in-code-review>Best practices for using Semgrep in code review</h2><p>To get the most out of Semgrep in code review, you should follow these best practices:<h3 id=how-to-integrate-semgrep-into-your-code-review-workflow>How to integrate Semgrep into your code review workflow</h3><ul><li>Set up Semgrep as part of your continuous integration (CI) pipeline, so that it automatically runs on every code change. This can help you catch potential issues early and prevent them from being merged into the main codebase.<li>Use the output of Semgrep as input for your code review tool, such as GitHub Pull Requests or Gerrit. This can help you quickly identify and address the issues that Semgrep has detected.<li>Use Semgrep as part of your team's code review standards and guidelines. This can help your team members understand the expectations for code quality and avoid common pitfalls.<li>Starting to write costom rules for your project. This will building you team knowledge base for your codebases, new team member can easily and fast know the reason, and avoid issues.</ul><h3 id=how-to-write-effective-semgrep-rules>How to write effective Semgrep rules</h3><ul><li>Keep your rules simple and focused: avoid using complex regular expressions or matching patterns that are too broad.<li>Use concrete examples to illustrate the code that the rule should match and the code that it should not match. This can help you and others understand the rule and avoid false positives or false negatives.<li>Test your rules on a representative sample of your codebase before using them in code review. This can help you fine-tune the rules and make sure they work as expected.<li>If possable provide fix suggestion or direct using fix field in the rule for time saving.<li>Document your rules and share them with your team. This can help others understand the rationale behind the rules and improve the consistency of your codebase.</ul><p>By following these best practices, you can make Semgrep an integral part of your code review process and improve the overall quality of your code. In the next section, I will discuss some tips and tricks for getting the most out of Semgrep.<h2 id=tips-and-tricks-for-getting-the-most-out-of-semgrep>Tips and tricks for getting the most out of Semgrep</h2><p>To get the most out of Semgrep, here are some tips and tricks that you can use:<ul><li>Use the <code>--severity</code> option to filter the output of Semgrep based on the severity of the issues that it detects. This can help you focus on the most important or critical issues first.<li>Use the <code>--metrics off</code> or set environment variables <code>SEMGREP_SEND_METRICS=off</code> if you not want to send anything to Semgrep server, avoiding the information exposure.<li>Use the <code>--json</code>, <code>--junit-xml</code> or <code>--sarif</code> as output, can easiy to integrate your workflow.<li>Use the <code>--autofix</code> with simple code style ruleset as lint, run it in your team member's pre-commit hook.</ul><p>By using these tips and tricks, you can customize Semgrep to fit your specific needs and workflows, and get even more value from it. In the next and final section, I will discuss the conclusion and next steps for improving your code review process with Semgrep.<h2 id=conclusion-and-next-steps-for-improving-your-code-review-process-with-semgrep>Conclusion and next steps for improving your code review process with Semgrep</h2><p>In this post, I have shown you how to use Semgrep to improve your code review process. I have discussed the benefits of using Semgrep, the steps for setting it up, the types of code issues that it can detect, and the best practices for using it in code review. I have also provided some tips and tricks for getting the most out of Semgrep.<p>By using Semgrep in your code review process, you can save time and effort, improve the quality of your code, and prevent bugs and security risks. If you want to learn more about Semgrep and how it can help you, here are some next steps that you can take:<ul><li>Read the Semgrep documentation to learn more about the features and capabilities of Semgrep, <a href=https://semgrep.dev/docs/ rel=nofollow>link to docs</a>.<li>Try Semgrep on your own codebase to see how it works and what it can find.<li>Learning how to write semgrep rules on offical tutorial, <a href=https://semgrep.dev/learn rel=nofollow>link to learning center</a>.<li>Join the Semgrep community to ask questions, share experiences, and contribute to the development of Semgrep, <a href=https://r2c.dev/slack rel=nofollow>Slack</a>, <a href=https://twitter.com/r2cdev rel=nofollow>Twitter</a>.</ul><p>I hope that this post has been helpful and that you will consider using Semgrep in your code review process. Happy coding!</p><a href=https://brid.gy/publish/twitter></a><a href=https://brid.gy/publish/mastodon></a></section><section class=post-footer><div class=tags><span class=tag><a href=https://eindex.me/tags/code-review/>Code Review</a></span><span class=tag><a href=https://eindex.me/tags/semgrep/>Semgrep</a></span><span class=tag><a href=https://eindex.me/tags/static-analysis/>Static Analysis</a></span><span class=tag><a href=https://eindex.me/tags/best-practices/>Best Practices</a></span><span class=tag><a href=https://eindex.me/tags/sast/>SAST</a></span><span class=tag><a href=https://eindex.me/tags/security/>Security</a></span><span class=tag><a href=https://eindex.me/tags/devops/>DevOps</a></span><span class=tag><a href=https://eindex.me/tags/devsecops/>DevSecOps</a></span><span class=tag><a href=https://eindex.me/tags/ci/>CI</a></span><span class=tag><a href=https://eindex.me/tags/build-security-in/>Build Security In</a></span></div></section><hr><section class=webmentions><h2>Response</h2><p class=how-to-send-webmention>Have you written any responses to this article? If so, please send your article or tweet link below. (Making sure to include the link of this article in the content, learn more about webmentions from <a href=https://indieweb.org/Webmention>here</a>.)<form action=https://webmention.io/eindex.me/webmention class=webmention-form method=post><input name=target type=hidden value=https://eindex.me/posts/improving-your-code-review-process-with-semgrep/><input placeholder="Your webmention link" name=source><button>Send Webmention</button></form><p class=how-to-send-webmention><a class=twitter-share-button href=https://twitter.com/intent/tweet>Tweet</a> and send response</section></article></main><aside><section class=search><input id=search-bar-input placeholder=Searching... type=search></section><section><h3 class=section-title>Series</h3><p><a href=https://eindex.me/series/blog-enhance-plan/>Blog Enhance Plan (1)</a><p><a href=https://eindex.me/series/security/>Cyber Security (1)</a></section><section class=tags><h3 class=section-title>Tags</h3><div class=tags><a href=https://eindex.me/tags/webmentions/>Webmentions (1)</a>, <a href=https://eindex.me/tags/umami/>umami (1)</a>, <a href=https://eindex.me/tags/static-analysis/>Static Analysis (1)</a>, <a href=https://eindex.me/tags/semgrep/>Semgrep (1)</a>, <a href=https://eindex.me/tags/security/>Security (1)</a>, <a href=https://eindex.me/tags/sast/>SAST (1)</a>, <a href=https://eindex.me/tags/microformats2/>Microformats2 (1)</a>, <a href=https://eindex.me/tags/memos/>memos (1)</a>, <a href=https://eindex.me/tags/meilisearch/>meilisearch (1)</a>, <a href=https://eindex.me/tags/javascript/>JavaScript (1)</a>, <a href=https://eindex.me/tags/indie-web/>Indie Web (1)</a>, <a href=https://eindex.me/tags/github-actions/>Github Actions (1)</a>, <a href=https://eindex.me/tags/flyio/>flyio (1)</a>, <a href=https://eindex.me/tags/engagement/>Engagement (1)</a>, <a href=https://eindex.me/tags/devsecops/>DevSecOps (1)</a>, <a href=https://eindex.me/tags/devops/>DevOps (1)</a>, <a href=https://eindex.me/tags/connectivity/>Connectivity (1)</a>, <a href=https://eindex.me/tags/community/>Community (1)</a>, <a href=https://eindex.me/tags/code-review/>Code Review (1)</a>, <a href=https://eindex.me/tags/ci/>CI (1)</a>, <a href=https://eindex.me/tags/build-security-in/>Build Security In (1)</a>, <a href=https://eindex.me/tags/best-practices/>Best Practices (1)</a>, <a href=https://eindex.me/tags/beginner-s-guide/>Beginner's Guide (1)</a></div></section><section class=advertisement><h3 class=section-title>Advertisements</h3><ins class="adsbygoogle aside" style="display:inline-block;width: 100%;height:500px" data-ad-client=ca-pub-1265138627025369 data-ad-slot=3472732805></ins></section><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></aside></div><footer class=footer><span class=webring> <a href=https://xn--sr8hvo.ws/%F0%9F%95%90%F0%9F%89%91%F0%9F%88%B6/previous>←</a> An IndieWeb Webring 🕸💍 <a href=https://xn--sr8hvo.ws/%F0%9F%95%90%F0%9F%89%91%F0%9F%88%B6/next>→</a> </span><link href=https://github.com/eindex rel=me><span>@2022 EINDEX</span></footer></div></body><script async data-domains=eindex.me data-host-url=https://u.eindex.me data-website-id=692d9153-7341-4370-b652-60df196f2b31 defer src=/js/umami.js></script><script>window.twttr = (function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0],
      t = window.twttr || {};
    if (d.getElementById(id)) return t;
    js = d.createElement(s);
    js.id = id;
    js.src = "https://platform.twitter.com/widgets.js?omit_script=true";
    fjs.parentNode.insertBefore(js, fjs);
  
    t._e = [];
    t.ready = function(f) {
      t._e.push(f);
    };
  
    return t;
  }(document, "script", "twitter-wjs"));</script><script src=https://cdn.jsdelivr.net/npm/docs-searchbar.js@2.4.1/dist/cdn/docs-searchbar.min.js></script><script>docsSearchBar({
    hostUrl: "https://meili.eindex.me",
    apiKey: "a39cff5442b90bb926f6408b0b08671eee444599e6d9c44c29bd0adae09a4b86",
    indexUid: "blog",
    inputSelector: '#search-bar-input',
    debug: true, // Set debug to true if you want to inspect the dropdown
  })</script><script async defer src=/js/pv-counter.js></script>