---
import { getLangFromUrl } from "@i18n/utils";
import { getPosts, getThoughts } from "@utils/posts";
import FeedList from "@components/feed/FeedList.astro";

const url = Astro.url;
const lang = getLangFromUrl(url);
const thoughts = await getThoughts(lang);
const posts = await getPosts(lang);
const contents = posts
  .concat(thoughts)
  .sort((a, b) => {
    return a.data.date - b.data.date;
  })
  .reverse();
---

<FeedList contents={contents} lang={lang} />
