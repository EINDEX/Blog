---
import i18next, { changeLanguage } from "i18next";
import Img from "@components/Img.astro";
import EmptyWapper from "@layouts/EmptyWapper.astro";
import Navbar from "@components/Navbar.astro";

changeLanguage("en");

const resp = await fetch("https://img.eindex.me/pic/pic_list.json");
const images = await resp.json();
const links = [
    {
        name: "Home",
        url: "/",
    },
    {
        name: "\u4E2D\u6587\u535A\u5BA2",
        url: "/cn/posts",
    },
    {
        name: "Posts",
        url: "/posts",
    },
];
---

<EmptyWapper title="Gallery">
  <Navbar links={links} />
  <div class="gallery">
    {
      images.map((image) => (
        <img
          height="300px"
          width={`${image.width / (image.height / 300)}px`}
          src={`https://img.eindex.me/pic/${image.thumbnail}`}
        />
      ))
    }
  </div>
</EmptyWapper>

<style lang="scss">
  .gallery {
    @apply flex flex-row flex-wrap gap-8 pt-8 justify-around w-full px-4;
    img {
      @apply rounded-lg shadow-lg;
    }
  }
</style>
