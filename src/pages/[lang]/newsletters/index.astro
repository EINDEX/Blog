---

import Layout from "@layouts/Layout.astro";
import { getNewsletters } from "@utils/posts";
import NewletterCard from "@components/NewletterCard.astro";
import { getLangFromUrl, useTranslations } from "@i18n/utils";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
const newsletters = await getNewsletters(lang);
---

<Layout
  title={t("newsletters")}
  seo={{
    title: t("newsletters"),
    description: t("newsletters"),
    image: "https://eindex.me/images/avatar.png",
    url: "/newsletters",
  }}
>
  <h1 class="title">{t("newsletters")}</h1>
  <div class="newsletters">
    {newsletters.map((newsletter) => <NewletterCard locale={lang} newsletter={newsletter} />)}
  </div>

  <p slot="sidebar"></p>
</Layout>

<style lang="scss">
  .title {
    @apply text-4xl font-bold text-center;
  }

  .newsletters {
    @apply flex flex-col gap-4 pt-4;
  }
</style>
